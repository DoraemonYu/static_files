"swf2js"in window||!function(t){function e(){for(var t in R)if(R.hasOwnProperty(t)){var e=R[t];e.isLoad&&e.resize()}}function r(t,e){if(e.SyncStop)t.pause();else{if(e.HasLoops){t.loopCount=e.LoopCount;var r=function(){t.loopCount--,this.loopCount?(t.currentTime=0,e.HasInPoint&&(t.currentTime=e.InPoint),t.play()):t.removeEventListener("ended",r)};t.addEventListener("ended",r)}e.HasInPoint&&t.addEventListener("canplay",function(){this.currentTime=e.InPoint}),t.play()}}function a(t){ot=t;var e=ne.onKeyUp;"function"==typeof e&&e.apply(ne,[t])}function o(t){ot=t;var e,r,a,o=ne.getCode(),n=ne.onKeyDown;"function"==typeof n&&n.apply(ne,[t]);var i;r=R.length;for(var s=0;r>s;s++)if(s in R){var c=R[s],l=c.keyDownEventHits,p=l.length;if(p)for(i=0;p>i;i++)a=l[i],c.executeEventAction(a.as,a.mc);var g=c.buttonHits,u=g.length,f=!1;for(e=u;e--;)if(e in g){var v=g[e];if(v){var h=v.button;if(h){var d=h.getActions();if(d){var y=d.length;for(i=0;y>i;i++)if(i in d){var b=d[i],m=b.CondKeyPress;switch(m){case 1:m=37;break;case 2:m=39;break;case 3:m=36;break;case 4:m=35;break;case 5:m=45;break;case 6:m=46;break;case 14:m=38;break;case 15:m=40;break;case 16:m=33;break;case 17:m=34;break;case 18:m=9;break;case 19:m=27}if(m===o){c.buttonAction(v.parent,b.ActionScript),c.touchRender(),f=!0;break}}if(f)break}}}}}}var n=t.document,i=Math,s=i.min,c=i.max,l=i.floor,p=i.ceil,g=i.pow,u=i.random,f=i.atan2,v=i.sqrt,h=i.cos,d=i.sin,y=i.log,b=i.abs,m=i.SQRT2,S=i.LN2,A=S/2,I=.29756328478758615,C=i.PI,x=Number,k=String.fromCharCode,T=isNaN,M=setTimeout,F=clearTimeout,B=setInterval,U=clearInterval,w=Function,_=t.alert,Y=t.console,P="btoa"in t,O=t.WebGLRenderingContext&&n.createElement("canvas").getContext("webgl")?!0:!1;O=!1;var D,X=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.setTimeout,L=0,E=0,R=[],H=[],N=0,j=new Date,G=t.navigator,Z=G.userAgent,V=Z.indexOf("Android")>0,W=Z.indexOf("Android 4.")>0,z=Z.indexOf("iPhone")>0||Z.indexOf("iPod")>0,K=Z.indexOf("Chrome")>0,q=V||z,J=new XMLHttpRequest,Q="undefined"!=typeof J.responseType,$=t.ArrayBuffer,tt=O?1:.8,et=t.devicePixelRatio||1,rt=et*tt,at=null,ot=null,nt="mousedown",it="mousemove",st="mouseup";q&&(nt="touchstart",it="touchmove",st="touchend");var ct=V,lt=n.createElement("canvas");if(lt.width=1,lt.height=1,D=lt.getContext("2d"),V){var pt=D.createImageData(1,1),gt=pt.data;gt[0]=128,gt[3]=128,D.putImageData(pt,0,0),pt=D.getImageData(0,0,1,1),gt=pt.data,ct=255===gt[0],pt=null,gt=null}"function"!=typeof Object.defineProperty&&(Object.defineProperty=function(t,e,r){return"value"in r&&(t[e]=r.value),"get"in r&&t.__defineGetter__(e,r.get),"set"in r&&t.__defineSetter__(e,r.set),t}),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(t,e){for(var r in e)e.hasOwnProperty(r)&&Object.defineProperty(t,r,e[r]);return t}),"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf=function(t){return t.__proto__}),"function"!=typeof Object.setPrototypeOf&&(Object.setPrototypeOf=function(t,e){return t.__proto__=e,t});var ut=new w('var a="zKV33~jZ4zN=~ji36XazM93y!{~k2y!o~k0ZlW6zN?3Wz3W?{EKzK[33[`y|;-~j^YOTz$!~kNy|L1$353~jV3zKk3~k-4P4zK_2+~jY4y!xYHR~jlz$_~jk4z$e3X5He<0y!wy|X3[:~l|VU[F3VZ056Hy!nz/m1XD61+1XY1E1=1y|bzKiz!H034zKj~mEz#c5ZA3-3X$1~mBz$$3~lyz#,4YN5~mEz#{ZKZ3V%7Y}!J3X-YEX_J(3~mAz =V;kE0/y|F3y!}~m>z/U~mI~j_2+~mA~jp2;~m@~k32;~m>V}2u~mEX#2x~mBy+x2242(~mBy,;2242(~may->2&XkG2;~mIy-_2&NXd2;~mGz,{4<6:.:B*B:XC4>6:.>B*BBXSA+A:X]E&E<~r#z+625z s2+zN=`HXI@YMXIAXZYUM8X4K/:Q!Z&33 3YWX[~mB`{zKt4z (zV/z 3zRw2%Wd39]S11z$PAXH5Xb;ZQWU1ZgWP%3~o@{Dgl#gd}T){Uo{y5_d{e@}C(} WU9|cB{w}bzvV|)[} H|zT}d||0~{]Q|(l{|x{iv{dw}(5}[Z|kuZ }cq{{y|ij}.I{idbof%cu^d}Rj^y|-M{ESYGYfYsZslS`?ZdYO__gLYRZ&fvb4oKfhSf^d<Yeasc1f&a=hnYG{QY{D`Bsa|u,}Dl|_Q{C%xK|Aq}C>|c#ryW=}eY{L+`)][YF_Ub^h4}[X|?r|u_ex}TL@YR]j{SrXgo*|Gv|rK}B#mu{R1}hs|dP{C7|^Qt3|@P{YVV |8&}#D}ef{e/{Rl|>Hni}R1{Z#{D[}CQlQ||E}[s{SG_+i8eplY[=[|ec[$YXn#`hcm}YR|{Ci(_[ql|?8p3]-}^t{wy}4la&pc|3e{Rp{LqiJ],] `kc(]@chYnrM`O^,ZLYhZB]ywyfGY~aex!_Qww{a!|)*lHrM{N+n&YYj~Z b c#e_[hZSon|rOt`}hBXa^i{lh|<0||r{KJ{kni)|x,|0auY{D!^Sce{w;|@S|cA}Xn{C1h${E]Z-XgZ*XPbp]^_qbH^e[`YM|a||+=]!Lc}]vdBc=j-YSZD]YmyYLYKZ9Z>Xcczc2{Yh}9Fc#Z.l{}(D{G{{mRhC|L3b#|xK[Bepj#ut`H[,{E9Yr}1b{[e]{ZFk7[ZYbZ0XL]}Ye[(`d}c!|*y`Dg=b;gR]Hm=hJho}R-[n}9;{N![7k_{UbmN]rf#pTe[x8}!Qcs_rs[m`|>N}^V})7{^r|/E}),}HH{OYe2{Skx)e<_.cj.cjoMhc^d}0uYZd!^J_@g,[[[?{i@][|3S}Yl3|!1|eZ|5IYw|1D}e7|Cv{OHbnx-`wvb[6[4} =g+k:{C:}ed{S]|2M]-}WZ|/q{LF|dYu^}Gs^c{Z=}h>|/i|{W]:|ip{N:|zt|S<{DH[p_tvD{N<[8Axo{X4a.^o^X>Yfa59`#ZBYgY~_t^9`jZHZn`>G[oajZ;X,i)Z.^~YJe ZiZF^{][[#Zt^|]Fjx]&_5dddW]P0C[-]}]d|y {C_jUql] |OpaA[Z{lp|rz}:Mu#]_Yf6{Ep?f5`$[6^D][^u[$[6^.Z8]]ePc2U/=]K^_+^M{q*|9tYuZ,s(dS{i=|bNbB{uG}0jZOa:[-]dYtu3]:]<{DJ_SZIqr_`l=Yt`gkTnXb3d@kiq0a`Z{|!B|}e}Ww{Sp,^Z|0>_Z}36|]A|-t}lt{R6pi|v8hPu#{C>YOZHYmg/Z4nicK[}hF_Bg|YRZ7c|crkzYZY}_iXcZ.|)U|L5{R~qi^Uga@Y[xb}&qdbd6h5|Btw[}c<{Ds53[Y7]?Z<|e0{L[ZK]mXKZ#Z2^tavf0`PE[OSOaP`4gi`qjdYMgys/?[nc,}EEb,eL]g[n{E_b/vcvgb.{kcwi`~v%|0:|iK{Jh_vf5lb}KL|(oi=LrzhhY_^@`zgf[~g)[J_0fk_V{T)}I_{D&_/d9W/|MU[)f$xW}?$xr4<{Lb{y4}&u{XJ|cm{Iu{jQ}CMkD{CX|7A}G~{kt)nB|d5|<-}WJ}@||d@|Iy}Ts|iL|/^|no|0;}L6{Pm]7}$zf:|r2}?C_k{R(}-w|`G{Gy[g]bVje=_0|PT{^Y^yjtT[[[l!Ye_`ZN]@[n_)j3nEgMa]YtYpZy].d-Y_cjb~Y~[nc~sCi3|zg}B0}do{O^{|$`_|D{}U&|0+{J3|8*]iayx{a{xJ_9|,c{Ee]QXlYb]$[%YMc*]w[aafe]aVYi[fZEii[xq2YQZHg]Y~h#|Y:thre^@^|_F^CbTbG_1^qf7{L-`VFx Zr|@EZ;gkZ@slgko`[e}T:{Cu^pddZ_`yav^Ea+[#ZBbSbO`elQfLui}.F|txYcbQ`XehcGe~fc^RlV{D_0ZAej[l&jShxG[ipB_=u:eU}3e8[=j|{D(}dO{Do[BYUZ0/]AYE]ALYhZcYlYP/^-^{Yt_1_-;YT`P4BZG=IOZ&]H[e]YYd[9^F[1YdZxZ?Z{Z<]Ba2[5Yb[0Z4l?]d_;_)a?YGEYiYv`_XmZs4ZjY^Zb]6gqGaX^9Y}dXZr[g|]Y}K aFZp^k^F]M`^{O1Ys]ZCgCv4|E>}8eb7}l`{L5[Z_faQ|c2}Fj}hw^#|Ng|B||w2|Sh{v+[G}aB|MY}A{|8o}X~{E8paZ:]i^Njq]new)`-Z>haounWhN}c#{DfZ|fK]KqGZ=:u|fqoqcv}2ssm}.r{]{nIfV{JW)[K|,Z{Uxc|]l_KdCb%]cfobya3`p}G^|LZiSC]U|(X|kBlVg[kNo({O:g:|-N|qT}9?{MBiL}Sq{`P|3a|u.{Uaq:{_o|^S}jX{Fob0`;|#y_@[V[K|cw[<_ }KU|0F}d3|et{Q7{LuZttsmf^kYZ`Af`}$x}U`|Ww}d]| >}K,r&|XI|*e{C/a-bmr1fId4[;b>tQ_:]hk{b-pMge]gfpo.|(w[jgV{EC1Z,YhaY^q,_G[c_g[J0YX]`[h^hYK^_Yib,` {i6vf@YM^hdOKZZn(jgZ>bzSDc^Z%[[o9[2=/YHZ(_/Gu_`*|8z{DUZxYt^vuvZjhi^lc&gUd4|<UiA`z]$b/Z?l}YI^jaHxe|;F}l${sQ}5g}hA|e4}?o{ih}Uz{C)jPe4]H^J[Eg[|AMZMlc}:,{iz}#*|gc{Iq|/:|zK{l&}#u|myd{{M&v~nV};L|(g|I]ogddb0xsd7^V})$uQ{HzazsgxtsO^l}F>ZB]r|{7{j@cU^{{CbiYoHlng]f+nQ[bkTn/}<-d9q {KXadZYo+n|l[|lc}V2{[a{S4Zam~Za^`{HH{xx_SvF|ak=c^[v^7_rYT`ld@]:_ub%[$[m](Shu}G2{E.ZU_L_R{tz`vj(f?^}hswz}GdZ}{S:h`aD|?W|`dgG|if{a8|J1{N,}-Ao3{H#{mfsP|[ bzn+}_Q{MT{u4kHcj_q`eZj[8o0jy{p7}C|[}l){MuYY{|Ff!Ykn3{rT|m,^R|,R}$~Ykgx{P!]>iXh6[l[/}Jgcg{JYZ.^qYfYIZl[gZ#Xj[Pc7YyZD^+Yt;4;`e8YyZVbQ7YzZxXja.7SYl[s]2^/Ha$[6ZGYrb%XiYdf2]H]kZkZ*ZQ[ZYS^HZXcCc%Z|[(bVZ]]:OJQ_DZCg<[,]%Zaa [g{C00HY[c%[ChyZ,Z_`PbXa+eh`^&jPi0a[ggvhlekL]w{Yp^v}[e{~;k%a&k^|nR_z_Qng}[E}*Wq:{k^{FJZpXRhmh3^p>de^=_7`|ZbaAZtdhZ?n4ZL]u`9ZNc3g%[6b=e.ZVfC[ZZ^^^hD{E(9c(kyZ=bb|Sq{k`|vmr>izlH[u|e`}49}Y%}FT{[z{Rk}Bz{TCc/lMiAqkf(m$hDc;qooi[}^o:c^|Qm}a_{mrZ(pA`,}<2sY| adf_%|}`}Y5U;}/4|D>|$X{jw{C<|F.hK|*A{MRZ8Zsm?imZm_?brYWZrYx`yVZc3a@f?aK^ojEd {bN}/3ZH]/$YZhm^&j 9|(S|b]mF}UI{q&aM]LcrZ5^.|[j`T_V_Gak}9J[ ZCZD|^h{N9{~&[6Zd{}B}2O|cv]K}3s}Uy|l,fihW{EG`j_QOp~Z$F^zexS`dcISfhZBXP|.vn|_HYQ|)9|cr]<`&Z6]m_(ZhPcSg>`Z]5`~1`0Xcb4k1{O!bz|CN_T{LR|a/gFcD|j<{Z._[f)mPc:1`WtIaT1cgYkZOaVZOYFrEe[}T$}Ch}mk{K-^@]fH{Hdi`c*Z&|Kt{if[C{Q;{xYB`dYIX:ZB[}]*[{{p9|4GYRh2ao{DS|V+[zd$`F[ZXKadb*A] Ys]Maif~a/Z2bmclb8{Jro_rz|x9cHojbZ{GzZx_)]:{wAayeDlx}<=`g{H1{l#}9i|)=|lP{Qq}.({La|!Y{i2EZfp=c*}Cc{EDvVB|;g}2t{W4av^Bn=]ri,|y?|3+}T*ckZ*{Ffr5e%|sB{lx^0]eZb]9[SgAjS_D|uHZx]dive[c.YPkcq/}db{EQh&hQ|eg}G!ljil|BO]X{Qr_GkGl~YiYWu=c3eb}29v3|D|}4i||.{Mv})V{SP1{FX}CZW6{cm|vO{pS|e#}A~|1i}81|Mw}es|5[}3w{C`h9aL]o{}p[G`>i%a1Z@`Ln2bD[$_h`}ZOjhdTrH{[j_:k~kv[Sdu]CtL}41{I |[[{]Zp$]XjxjHt_eThoa#h>sSt8|gK|TVi[Y{t=}Bs|b7Zpr%{gt|Yo{CS[/{iteva|cf^hgn}($_c^wmb^Wm+|55jrbF|{9^ q6{C&c+ZKdJkq_xOYqZYSYXYl`8]-cxZAq/b%b*_Vsa[/Ybjac/OaGZ4fza|a)gY{P?| I|Y |,pi1n7}9bm9ad|=d{aV|2@[(}B`d&|Uz}B}{`q|/H|!JkM{FU|CB|.{}Az}#P|lk}K{|2rk7{^8^?`/|k>|Ka{Sq}Gz}io{DxZh[yK_#}9<{TRdgc]`~Z>JYmYJ]|`!ZKZ]gUcx|^E[rZCd`f9oQ[NcD_$ZlZ;Zr}mX|=!|$6ZPZYtIo%fj}CpcN|B,{VDw~gb}@hZg`Q{LcmA[(bo`<|@$|o1|Ss}9Z_}tC|G`{F/|9nd}i=}V-{L8aaeST]daRbujh^xlpq8|}zs4bj[S`J|]?G{P#{rD{]I`OlH{Hm]VYuSYUbRc*6[j`8]pZ[bt_/^Jc*[<Z?YE|Xb|?_Z^Vcas]h{t9|Uwd)_(=0^6Zb{Nc} E[qZAeX[a]P^|_J>e8`W^j_Y}R{{Jp__]Ee#e:iWb9q_wKbujrbR}CY`,{mJ}gz{Q^{t~N|? gSga`V_||:#mi}3t|/I`X{N*|ct|2g{km}gi|{={jC}F;|E}{ZZjYf*frmu}8Tdroi{T[|+~}HG{cJ}DM{Lp{Ctd&}$hi3|FZ| m}Kr|38}^c|m_|Tr{Qv|36}?Up>|;S{DV{k_as}BK{P}}9p|t`jR{sAm4{D=b4pWa[}Xi{EjwEkI}3S|E?u=X0{jf} S|NM|JC{qo^3cm]-|JUx/{Cj{s>{Crt[UXuv|D~|j|d{YXZR}Aq}0r}(_{pJfi_z}0b|-vi)Z mFe,{f4|q`b{}^Z{HM{rbeHZ|^x_o|XM|L%|uFXm}@C_{{Hhp%a7|0p[Xp+^K}9U{bP}: tT}B|}+$|b2|[^|~h{FAby[`{}xgygrt~h1[li`c4vz|,7p~b(|mviN}^pg[{N/|g3|^0c,gE|f%|7N{q[|tc|TKA{LU}I@|AZp(}G-sz{F |qZ{}F|f-}RGn6{Z]_5})B}UJ{FFb2]4ZI@v=k,]t_Dg5Bj]Z-]L]vrpdvdGlk|gF}G]|IW}Y0[G| /bo|Te^,_B}#n^^{QHYI[?hxg{[`]D^IYRYTb&kJ[cri[g_9]Ud~^_]<p@_e_XdNm-^/|5)|h_{J;{kacVopf!q;asqd}n)|.m|bf{QW|U)}b+{tL|w``N|to{t ZO|T]jF}CB|0Q{e5Zw|k |We}5:{HO{tPwf_uajjBfX}-V_C_{{r~gg|Ude;s+}KNXH}! `K}eW{Upwbk%ogaW}9EYN}YY|&v|SL{C3[5s.]Y]I]u{M6{pYZ`^,`ZbCYR[1mNg>rsk0Ym[jrE]RYiZTr*YJ{Ge|%-lf|y(`=[t}E6{k!|3)}Zk} ][G{E~cF{u3U.rJ|a9p#o#ZE|?|{sYc#vv{E=|LC}cu{N8`/`3`9rt[4|He{cq|iSYxY`}V |(Q|t4{C?]k_Vlvk)BZ^r<{CL}#h}R+[<|i=}X|{KAo]|W<`K{NW|Zx}#;|fe{IMr<|K~tJ_x}AyLZ?{GvbLnRgN}X&{H7|x~}Jm{]-| GpNu0}.ok>|c4{PYisrDZ|fwh9|hfo@{H~XSbO]Odv]%`N]b1Y]]|eIZ}_-ZA]aj,>eFn+j[aQ_+]h[J_m_g]%_wf.`%k1e#Z?{CvYu_B^|gk`Xfh^M3`afGZ-Z|[m{L}|k3cp[it ^>YUi~d>{T*}YJ{Q5{Jxa$hg|%4`}|LAgvb }G}{P=|<;Ux{_skR{cV|-*|s-{Mp|XP|$G|_J}c6cM{_=_D|*9^$ec{V;|4S{qO|w_|.7}d0|/D}e}|0G{Dq]Kdp{}dfDi>}B%{Gd|nl}lf{C-{y}|ANZr}#={T~|-(}c&{pI|ft{lsVP}){|@u}!W|bcmB{d?|iW|:dxj{PSkO|Hl]Li:}VYk@|2={fnWt{M3`cZ6|)}|Xj}BYa?vo{e4|L7|B7{L7|1W|lvYO}W8nJ|$Vih|{T{d*_1|:-n2dblk``fT{Ky|-%}m!|Xy|-a{Pz}[l{kFjz|iH}9N{WE{x,|jz}R {P|{D)c=nX|Kq|si}Ge{sh|[X{RF{t`|jsr*fYf,rK|/9}$}}Nf{y!1|<Std}4Wez{W${Fd_/^O[ooqaw_z[L`Nbv[;l7V[ii3_PeM}.h^viqYjZ*j1}+3{bt{DR[;UG}3Og,rS{JO{qw{d<_zbAh<R[1_r`iZTbv^^a}c{iEgQZ<exZFg.^Rb+`Uj{a+{z<[~r!]`[[|rZYR|?F|qppp]L|-d|}K}YZUM|=Y|ktm*}F]{D;g{uI|7kg^}%?Z%ca{N[_<q4xC]i|PqZC]n}.bDrnh0Wq{tr|OMn6tM|!6|T`{O`|>!]ji+]_bTeU}Tq|ds}n|{Gm{z,f)}&s{DPYJ`%{CGd5v4tvb*hUh~bf]z`jajiFqAii]bfy^U{Or|m+{I)cS|.9k:e3`^|xN}@Dnlis`B|Qo{`W|>||kA}Y}{ERYuYx`%[exd`]|OyiHtb}HofUYbFo![5|+]gD{NIZR|Go}.T{rh^4]S|C9_}xO^i`vfQ}C)bK{TL}cQ|79iu}9a];sj{P.o!f[Y]pM``Jda^Wc9ZarteBZClxtM{LW}l9|a.mU}KX}4@{I+f1}37|8u}9c|v${xGlz}jP{Dd1}e:}31}%3X$|22i<v+r@~mf{sN{C67G97855F4YL5}8f{DT|xy{sO{DXB334@55J1)4.G9A#JDYtXTYM4, YQD9;XbXm9SX]IB^4UN=Xn<5(;(F3YW@XkH-X_VM[DYM:5XP!T&Y`6|,^{IS-*D.H>:LXjYQ0I3XhAF:9:(==.F*3F1189K/7163D,:@|e2{LS36D4hq{Lw/84443@4.933:0307::6D7}&l{Mx657;89;,K5678H&93D(H<&<>0B90X^I;}Ag1{P%3A+>><975}[S{PZE453?4|T2{Q+5187;>447:81{C=hL6{Me^:=7ii{R=.=F<81;48?|h8}Uh{SE|,VxL{ST,7?9Y_5Xk3A#:$%YSYdXeKXOD8+TXh7(@>(YdXYHXl9J6X_5IXaL0N?3YK7Xh!1?XgYz9YEXhXaYPXhC3X`-YLY_XfVf[EGXZ5L8BXL9YHX]SYTXjLXdJ: YcXbQXg1PX]Yx4|Jr{Ys4.8YU+XIY`0N,<H%-H;:0@,74/:8546I=9177154870UC]d<C3HXl7ALYzXFXWP<<?E!88E5@03YYXJ?YJ@6YxX-YdXhYG|9o{`iXjY_>YVXe>AYFX[/(I@0841?):-B=14337:8=|14{c&93788|di{cW-0>0<097/A;N{FqYpugAFT%X/Yo3Yn,#=XlCYHYNX[Xk3YN:YRT4?)-YH%A5XlYF3C1=NWyY}>:74-C673<69545v {iT85YED=64=.F4..9878/D4378?48B3:7:7/1VX[f4{D,{l<5E75{dAbRB-8-@+;DBF/$ZfW8S<4YhXA.(5@*11YV8./S95C/0R-A4AXQYI7?68167B95HA1*<M3?1/@;/=54XbYP36}lc{qzSS38:19?,/39193574/66878Yw1X-87E6=;964X`T734:>86>1/=0;(I-1::7ALYGXhF+Xk[@W%TYbX7)KXdYEXi,H-XhYMRXfYK?XgXj.9HX_SX]YL1XmYJ>Y}WwIXiI-3-GXcYyXUYJ$X`Vs[7;XnYEZ;XF! 3;%8;PXX(N3Y[)Xi1YE&/ :;74YQ6X`33C;-(>Xm0(TYF/!YGXg8 9L5P01YPXO-5%C|qd{{/K/E6,=0144:361:955;6443@?B7*7:F89&F35YaX-CYf,XiFYRXE_e{}sF 0*7XRYPYfXa5YXXY8Xf8Y~XmA[9VjYj*#YMXIYOXk,HHX40YxYMXU8OXe;YFXLYuPXP?EB[QV0CXfY{:9XV[FWE0D6X^YVP*$4%OXiYQ(|xp|%c3{}V`1>Y`XH00:8/M6XhQ1:;3414|TE|&o@1*=81G8<3}6<|(f6>>>5-5:8;093B^3U*+*^*UT30XgYU&7*O1953)5@E78--F7YF*B&0:%P68W9Zn5974J9::3}Vk|-,C)=)1AJ4+<3YGXfY[XQXmT1M-XcYTYZXCYZXEYXXMYN,17>XIG*SaS|/eYJXbI?XdNZ+WRYP<F:R PXf;0Xg`$|1GX9YdXjLYxWX!ZIXGYaXNYm6X9YMX?9EXmZ&XZ#XQ>YeXRXfAY[4 ;0X!Zz0XdN$XhYL XIY^XGNXUYS/1YFXhYk.TXn4DXjB{jg|4DEX]:XcZMW=A.+QYL<LKXc[vV$+&PX*Z3XMYIXUQ:ZvW< YSXFZ,XBYeXMM)?Xa XiZ4/EXcP3%}&-|6~:1(-+YT$@XIYRBC<}&,|7aJ6}bp|8)K1|Xg|8C}[T|8Q.89;-964I38361<=/;883651467<7:>?1:.}le|:Z=39;1Y^)?:J=?XfLXbXi=Q0YVYOXaXiLXmJXO5?.SFXiCYW}-;|=u&D-X`N0X^,YzYRXO(QX_YW9`I|>hZ:N&X)DQXP@YH#XmNXi$YWX^=!G6YbYdX>XjY|XlX^XdYkX>YnXUXPYF)FXT[EVTMYmYJXmYSXmNXi#GXmT3X8HOX[ZiXN]IU2>8YdX1YbX<YfWuZ8XSXcZU%0;1XnXkZ_WTG,XZYX5YSX Yp 05G?XcYW(IXg6K/XlYP4XnI @XnO1W4Zp-9C@%QDYX+OYeX9>--YSXkD.YR%Q/Yo YUX].Xi<HYEZ2WdCE6YMXa7F)=,D>-@9/8@5=?7164;35387?N<618=6>7D+C50<6B03J0{Hj|N9$D,9I-,.KB3}m |NzE0::/81YqXjMXl7YG; [.W=Z0X4XQY]:MXiR,XgM?9$9>:?E;YE77VS[Y564760391?14941:0=:8B:;/1DXjFA-564=0B3XlH1+D85:0Q!B#:-6&N/:9<-R3/7Xn<*3J4.H:+334B.=>30H.;3833/76464665755:/83H6633:=;.>5645}&E|Y)?1/YG-,93&N3AE@5 <L1-G/8A0D858/30>8<549=@B8] V0[uVQYlXeD(P#ID&7T&7;Xi0;7T-$YE)E=1:E1GR):--0YI7=E<}n9|aT6783A>D7&4YG7=391W;Zx<5+>F#J39}o/|cc;6=A050EQXg8A1-}D-|d^5548083563695D?-.YOXd37I$@LYLWeYlX<Yd+YR A$;3-4YQ-9XmA0!9/XLY_YT(=5XdDI>YJ5XP1ZAW{9>X_6R(XhYO65&J%DA)C-!B:97#A9;@?F;&;(9=11/=657/H,<8}bz|j^5446>.L+&Y^8Xb6?(CYOXb*YF(8X`FYR(XPYVXmPQ%&DD(XmZXW??YOXZXfCYJ79,O)XnYF7K0!QXmXi4IYFRXS,6<%-:YO(+:-3Q!1E1:W,Zo}Am|n~;3580534*?3Zc4=9334361693:30C<6/717:<1/;>59&:4}6!|rS36=1?75<8}[B|s809983579I.A.>84758=108564741H*9E{L{|u%YQ<%6XfH.YUXe4YL@,>N}Tv|ve*G0X)Z;/)3@A74(4P&A1X:YVH97;,754*A66:1 D739E3553545558E4?-?K17/770843XAYf838A7K%N!YW4.$T19Z`WJ*0XdYJXTYOXNZ 1XaN1A+I&Xi.Xk3Z3GB&5%WhZ1+5#Y[X<4YMXhQYoQXVXbYQ8XSYUX4YXBXWDMG0WxZA[8V+Z8X;D],Va$%YeX?FXfX[XeYf<X:Z[WsYz8X_Y]%XmQ(!7BXIZFX]&YE3F$(1XgYgYE& +[+W!<YMYFXc;+PXCYI9YrWxGXY9DY[!GXiI7::)OC;*$.>N*HA@{C|}&k=:<TB83X`3YL+G4XiK]i}(fYK<=5$.FYE%4*5*H*6XkCYL=*6Xi6!Yi1KXR4YHXbC8Xj,B9ZbWx/XbYON#5B}Ue}+QKXnF1&YV5XmYQ0!*3IXBYb71?1B75XmF;0B976;H/RXU:YZX;BG-NXj;XjI>A#D3B636N;,*%<D:0;YRXY973H5)-4FXOYf0:0;/7759774;7;:/855:543L43<?6=E,.A4:C=L)%4YV!1(YE/4YF+ F3%;S;&JC:%/?YEXJ4GXf/YS-EXEYW,9;E}X$}547EXiK=51-?71C%?57;5>463553Zg90;6447?<>4:9.7538XgN{|!}9K/E&3-:D+YE1)YE/3;37/:05}n<}:UX8Yj4Yt864@JYK..G=.(A Q3%6K>3(P3#AYE$-6H/456*C=.XHY[#S.<780191;057C)=6HXj?955B:K1 E>-B/9,;5.!L?:0>/.@//:;7833YZ56<4:YE=/:7Z_WGC%3I6>XkC*&NA16X=Yz2$X:Y^&J48<99k8}CyB-61<18K946YO4{|N}E)YIB9K0L>4=46<1K0+R;6-=1883:478;4,S+3YJX`GJXh.Yp+Xm6MXcYpX(>7Yo,/:X=Z;Xi0YTYHXjYmXiXj;*;I-8S6N#XgY}.3XfYGO3C/$XjL$*NYX,1 6;YH&<XkK9C#I74.>}Hd`A748X[T450[n75<4439:18A107>|ET}Rf<1;14876/Yb983E<5.YNXd4149>,S=/4E/<306443G/06}0&}UkYSXFYF=44=-5095=88;63844,9E6644{PL}WA8:>)7+>763>>0/B3A545CCnT}Xm|dv}Xq1L/YNXk/H8;;.R63351YY747@15YE4J8;46;.38.>4A369.=-83,;Ye3?:3@YE.4-+N353;/;@(X[YYD>@/05-I*@.:551741Yf5>6A443<3535;.58/86=D4753442$635D1>0359NQ @73:3:>><Xn?;43C14 ?Y|X611YG1&<+,4<*,YLXl<1/AIXjF*N89A4Z576K1XbJ5YF.ZOWN.YGXO/YQ01:4G38Xl1;KI0YFXB=R<7;D/,/4>;$I,YGXm94@O35Yz66695385.>:6A#5}W7n^4336:4157597434433<3|XA}m`>=D>:4A.337370?-6Q96{`E|4A}C`|Qs{Mk|J+~r>|o,wHv>Vw}!c{H!|Gb|*Ca5}J||,U{t+{CN[!M65YXOY_*B,Y[Z9XaX[QYJYLXPYuZ%XcZ8LY[SYPYKZM<LMYG9OYqSQYM~[e{UJXmQYyZM_)>YjN1~[f3{aXFY|Yk:48YdH^NZ0|T){jVFYTZNFY^YTYN~[h{nPYMYn3I]`EYUYsYIZEYJ7Yw)YnXPQYH+Z.ZAZY]^Z1Y`YSZFZyGYHXLYG 8Yd#4~[i|+)YH9D?Y^F~Y7|-eYxZ^WHYdYfZQ~[j|3>~[k|3oYmYqY^XYYO=Z*4[]Z/OYLXhZ1YLZIXgYIHYEYK,<Y`YEXIGZI[3YOYcB4SZ!YHZ*&Y{Xi3~[l|JSY`Zz?Z,~[m|O=Yi>??XnYWXmYS617YVYIHZ(Z4[~L4/=~[n|Yu{P)|];YOHHZ}~[o33|a>~[r|aE]DH~[s|e$Zz~[t|kZFY~XhYXZB[`Y}~[u|{SZ&OYkYQYuZ2Zf8D~[v}% ~[w3},Q[X]+YGYeYPIS~[y}4aZ!YN^!6PZ*~[z}?E~[{3}CnZ=~[}}EdDZz/9A3(3S<,YR8.D=*XgYPYcXN3Z5 4)~[~}JW=$Yu.XX~] }KDX`PXdZ4XfYpTJLY[F5]X~[2Yp}U+DZJ::<446[m@~]#3}]1~]%}^LZwZQ5Z`/OT<Yh^ -~]&}jx[ ~m<z!%2+~ly4VY-~o>}p62yz!%2+Xf2+~ly4VY-zQ`z (=] 2z~o2",C={" ":0,"!":1},c=34,i=2,p,s="",u=String.fromCharCode,t=u(12539);for(;++c<127;)C[u(c)]=c^39&&c^92?i++:0;i=0;for(;0<=(c=C[a.charAt(i++)]);)if(16===c)if((c=C[a.charAt(i++)])<87){if(86===c)c=1879;for(;c--;)s+=u(++p)}else s+=s.substr(8272,360);else if(c<86)s+=u(p+=c<51?c-16:(c-55)*92+C[a.charAt(i++)]);else if((c=((c-86)*92+C[a.charAt(i++)])*92+C[a.charAt(i++)])<49152)s+=u(p=c<40960?c:c|57344);else{c&=511;for(;c--;)s+=t;p=12539}return s')();t.addEventListener("resize",function(){F(L),L=M(e,300)}),t.addEventListener("unload",function(){R=void 0,H=void 0});var ft=function(){};ft.prototype.FUNCTION=Function,ft.prototype.clone=function(t){var e=function(t,r){var a;for(a in t)if(t.hasOwnProperty(a)){var o=t[a];o instanceof Array?(r[a]=[],e(o,r[a])):o instanceof Object?(r[a]={},e(o,r[a])):r[a]=o}},r={};return e(t,r),r},ft.prototype.convert=function(t,e){for(var r=this,a=t.lineStyles.lineStyles,o=t.fillStyles.fillStyles,n=t.ShapeRecords,i=0,s={},c=[],l=0,p=0,g=0,u=0,f=0,v=0,h=0,d=0,y=0,b=[],m=[],S=[],A=[],I=0,C=n.length,x=0;C>x;x++){var k=n[x];if(!k){A=r.setStack(A,r.fillMerge(b,m,e)),A=r.setStack(A,S);break}if(k.isChange)I++,k.StateNewStyles&&(l=0,p=0,A=r.setStack(A,r.fillMerge(b,m,e)),A=r.setStack(A,S),b=[],m=[],S=[],k.NumFillBits&&(o=k.FillStyles.fillStyles),k.NumLineBits&&(a=k.LineStyles.lineStyles)),g=l,u=p,k.StateMoveTo&&(g=k.MoveX,u=k.MoveY),f=g,v=u,k.StateFillStyle0&&(h=k.FillStyle0),k.StateFillStyle1&&(d=k.FillStyle1),k.StateLineStyle&&(y=k.LineStyle);else{l=k.AnchorX,p=k.AnchorY;var T=k.ControlX,M=k.ControlY,F=k.isCurved;if(h&&(i=h-1,i in b||(b[i]=[]),I in b[i]||(b[i][I]={obj:o[i],startX:g,startY:u,endX:0,endY:0,cache:[]}),s=b[i][I],c=s.cache,c[c.length]=r.clone(k),s.endX=l,s.endY=p),d&&(i=d-1,i in m||(m[i]=[]),I in m[i]||(m[i][I]={obj:o[i],startX:g,startY:u,endX:0,endY:0,cache:[]}),s=m[i][I],c=s.cache,c[c.length]=r.clone(k),s.endX=l,s.endY=p),y){i=y-1,i in S||(S[i]={obj:a[i],cache:[]}),s=S[i],c=s.cache,c[c.length]=[0,f,v];var B=[2,l,p];F&&(B=[1,T,M,l,p]),c[c.length]=B}f=l,v=p}}return A},ft.prototype.fillMerge=function(t,e,r){var a=this;if(t=a.fillReverse(t),t.length)for(var o in t)if(t.hasOwnProperty(o)){var n=t[o];if(o in e){var i=e[o];for(var s in n)n.hasOwnProperty(s)&&(i[i.length]=n[s])}else e[o]=n}return a.coordinateAdjustment(e,r)},ft.prototype.fillReverse=function(t){if(!t.length)return t;for(var e in t)if(t.hasOwnProperty(e)){var r=t[e];for(var a in r)if(r.hasOwnProperty(a)){var o=0,n=0,i=r[a],s=i.startX,c=i.startY,l=i.cache,p=l.length;if(p){for(var g in l)if(l.hasOwnProperty(g)){var u=l[g];o=u.AnchorX,n=u.AnchorY,u.AnchorX=s,u.AnchorY=c,s=o,c=n}var f=[];if(p>0)for(;p--;)f[f.length]=l[p];i.cache=f}s=i.startX,c=i.startY,i.startX=i.endX,i.startY=i.endY,i.endX=s,i.endY=c}}return t},ft.prototype.coordinateAdjustment=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var a=[],o=t[r];for(var n in o)o.hasOwnProperty(n)&&(a[a.length]=o[n]);var i=[];if(a.length>1&&!e)for(;;){if(!a.length)break;var s=a.shift();if(s.startX!==s.endX||s.startY!==s.endY){var c=a.length;if(0>c)break;for(var l=0;c--;){var p=a[c];if(p.startX===s.endX&&p.startY===s.endY){s.endX=p.endX,s.endY=p.endY;for(var g=s.cache,u=p.cache,f=u.length,v=0;f>v;v++)g[g.length]=u[v];a.splice(c,1),a.unshift(s),l=1;break}}l||a.unshift(s)}else i[i.length]=s}else i=a;for(var h=i.length,d=[],y={},b=0;h>b;b++){var m=i[b];y=m.obj;var S=m.cache,A=S.length;d[d.length]=[0,m.startX,m.startY];for(var I=0;A>I;I++){var C=S[I],x=[2,C.AnchorX,C.AnchorY];C.isCurved&&(x=[1,C.ControlX,C.ControlY,C.AnchorX,C.AnchorY]),d[d.length]=x}}t[r]={cache:d,obj:y}}return t},ft.prototype.setStack=function(t,e){var r=this,a=r.buildCommand;if(e.length)for(var o in e)if(e.hasOwnProperty(o)){var n=e[o];t[t.length]={obj:n.obj,cmd:a.call(r,n.cache)}}return t},ft.prototype.buildCommand=function(t){var e=this;return O?e.toCanvas2D(t):e.toCanvas2D(t)},ft.prototype.toCanvas2D=function(t){for(var e=t.length,r="",a=0;e>a;){var o=t[a];switch(o[0]){case 0:r+="ctx.moveTo("+o[1]+","+o[2]+");";break;case 1:r+="ctx.quadraticCurveTo("+o[1]+","+o[2]+","+o[3]+","+o[4]+");";break;case 2:r+="ctx.lineTo("+o[1]+","+o[2]+");";break;case 3:r+="ctx.bezierCurveTo("+o[1]+","+o[2]+","+o[3]+","+o[4]+","+o[5]+","+o[6]+");";break;case 4:r+="ctx.moveTo("+(o[1]+o[3])+","+o[2]+");",r+="ctx.arc("+o[1]+","+o[2]+","+o[3]+",0 , Math.PI*2, false);";break;case 5:r+="var r = Math.max(0, Math.min(("+o[1]+" * ct[0]) + ct[4], 255))|0;",r+="var g = Math.max(0, Math.min(("+o[2]+" * ct[1]) + ct[5], 255))|0;",r+="var b = Math.max(0, Math.min(("+o[3]+" * ct[2]) + ct[6], 255))|0;",r+="var a = Math.max(0, Math.min(("+o[4]+" * 255 * ct[3]) + ct[7], 255)) / 255;",r+="ctx.fillStyle = 'rgba('+r+', '+g+', '+b+', '+a+')';";break;case 6:r+="var r = Math.max(0, Math.min(("+o[1]+" * ct[0]) + ct[4], 255))|0;",r+="var g = Math.max(0, Math.min(("+o[2]+" * ct[1]) + ct[5], 255))|0;",r+="var b = Math.max(0, Math.min(("+o[3]+" * ct[2]) + ct[6], 255))|0;",r+="var a = Math.max(0, Math.min(("+o[4]+" * 255 * ct[3]) + ct[7], 255)) / 255;",r+="ctx.strokeStyle = 'rgba('+r+', '+g+', '+b+', '+a+')';";break;case 7:r+="if (!isClip) { ctx.fill(); }";break;case 8:r+="if (!isClip) { ctx.stroke(); }";break;case 9:r+="ctx.lineWidth = "+o[1]+";";break;case 10:r+="ctx.lineCap = '"+o[1]+"';";break;case 11:r+="ctx.lineJoin = '"+o[1]+"';";break;case 12:r+="ctx.lineJoin = '"+o[1]+"';";break;case 13:r+="ctx.beginPath();"}a++}return new this.FUNCTION("ctx","ct","isClip",r)},ft.prototype.toWebGL=function(t){for(var e=t.length,r=[],a=[],o=[],n=-1,i={x:0,y:0},s="",c=0;e>c;c++){var l=t[c];switch(l[0]){case 0:n>0&&(r[n]=o),n++,r[n+1]=[],o=[],o[o.length]=l[1],o[o.length]=l[2],i.x=l[1],i.y=l[2];break;case 1:a[a.length]=i.x,a[a.length]=i.y,a[a.length]=l[1],a[a.length]=l[2],a[a.length]=l[3],a[a.length]=l[4],o[o.length]=l[3],o[o.length]=l[4],i.x=l[3],i.y=l[4];break;case 2:o[o.length]=l[1],o[o.length]=l[2],i.x=l[1],i.y=l[2];break;case 3:break;case 4:}}return new this.FUNCTION("ctx",s)};var vt=new ft,ht=function(){this.store={},this.pool=[],this.size=73400320};ht.prototype.reset=function(){var t=this,e=t.store;for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];a instanceof CanvasRenderingContext2D&&t.destroy(a)}t.store={},t.size=73400320},ht.prototype.destroy=function(t){var e=this.pool,r=t.canvas;O?t.clear(t.STENCIL_BUFFER_BIT|t.COLOR_BUFFER_BIT):t.clearRect(0,0,r.width+1,r.height+1),r.width=r.height=1,e[e.length]=r},ht.prototype.getCanvas=function(){return this.pool.pop()||n.createElement("canvas")},ht.prototype.getCache=function(t){return this.store[t]},ht.prototype.setCache=function(t,e){var r=this;if(e instanceof CanvasRenderingContext2D){var a=e.canvas;r.size-=a.width*a.height}this.store[t]=e},ht.prototype.generateKey=function(t,e,r,a){var o=t+"_"+e;return r instanceof Array&&(o+="_"+r.join("_")),a instanceof Array&&(o+="_"+a.join("_")),o};var dt=new ht,yt=function(){var t=this;t.data=null,t.bit_offset=0,t.byte_offset=0,t.bit_buffer=null};yt.prototype.init=function(t){for(var e=this,r=t.length,a=e.createArray(r),o=0;r>o;)a[o]=255&t.charCodeAt(o),o++;e.data=a},yt.prototype.decodeToShiftJis=function(t){return t.replace(/%(8[1-9A-F]|[9E][0-9A-F]|F[0-9A-C])(%[4-689A-F][0-9A-F]|%7[0-9A-E]|[@-~])|%([0-7][0-9A-F]|A[1-9A-F]|[B-D][0-9A-F])/gi,function(t){var e=parseInt(t.substring(1,3),16),r=t.length;return 3===r?k(160>e?e:e+65216):ut.charAt(188*(160>e?e-129:e-193)+(4===r?t.charCodeAt(3)-64:(e=parseInt(t.substring(4),16))<127?e-64:e-65))})},yt.prototype.unlzma=function(t){return[]},yt.prototype.unzip=function(t,e){var r=this,a=0,o=0,n=0,i=[],s=[],c=new yt;c.setData(t);var l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];$&&(l=new Uint8Array(l),p=new Uint8Array(p),g=new Uint16Array(g),u=new Uint8Array(u),f=new Uint16Array(f));var v=2;e&&(v=10),c.setOffset(v,8);for(var h=0;!h;){h=c.readUB(1);var d=c.readUB(2),y={},b={},m=!1,S=!1;if(d){if(1===d){if(y=m,b=S,!y){for(s=[],o=32;o--;)s[s.length]=5;y=m=r.buildHuffTable(s)}if(!b){for(s=[],o=0;144>o;)o++,s[s.length]=8;for(;256>o;)o++,s[s.length]=9;for(;280>o;)o++,s[s.length]=7;for(;288>o;)o++,s[s.length]=8;b=S=r.buildHuffTable(s)}}else{var A=c.readUB(5)+257,I=c.readUB(5)+1,C=c.readUB(4)+4,x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for($&&(x=new Uint8Array(x)),o=0;C>o;o++)x[l[o]]=c.readUB(3);var k=r.buildHuffTable(x);x=null;for(var T=[],M=0,F=A+I;T.length<F;)switch(a=r.decodeSymbol(c,k)){case 16:for(o=c.readUB(2)+3;o--;)T[T.length]=M;break;case 17:for(o=c.readUB(3)+3;o--;)T[T.length]=0;break;case 18:for(o=c.readUB(7)+11;o--;)T[T.length]=0;break;default:15>=a&&(T[T.length]=a,M=a)}y=r.buildHuffTable(T.splice(A,I)),b=r.buildHuffTable(T)}for(a=0;256!==a;)if(a=r.decodeSymbol(c,b),256>a)i[i.length]=a;else if(a>256){var B=a-257;n=g[B]+c.readUB(p[B]);var U=r.decodeSymbol(c,y),w=f[U]+c.readUB(u[U]);for(o=i.length-w;n--;)i[i.length]=i[o++]}}else for(c.bit_offset=8,c.bit_buffer=null,n=c.readNumber(2),c.readNumber(2);n--;)i[i.length]=c.readNumber(1)}return i},yt.prototype.buildHuffTable=function(t){for(var e=t.length,r=[],a=[],o={},n=0,i=0,s=0,l=0;e>l;l++)s=c(s,t[l]);for(s++,l=e;l--;)i=t[l],r[i]=(r[i]||0)+(i>0);for(l=1;s>l;l++)i=l-1,i in r||(r[i]=0),n=n+r[i]<<1,a[l]=0|n;for(l=0;e>l;l++)i=t[l],i&&(o[a[i]]={length:i,symbol:l},a[i]++);return o},yt.prototype.decodeSymbol=function(t,e){for(var r=0,a=0;;)if(r=r<<1|t.readUB(1),a++,r in e){var o=e[r];if(o.length===a)return o.symbol}},yt.prototype.createArray=function(t){return $?new Uint8Array(t):[]},yt.prototype.setData=function(t){this.data=t},yt.prototype.getHeaderSignature=function(){for(var t=this,e="",r=3;r;){var a=t.getUI8();switch(a){case 32:case 96:case 127:continue}e+=k(a),r--}return e},yt.prototype.getVersion=function(){return this.getUI8()},yt.prototype.byteAlign=function(){var t=this;t.bit_offset&&(t.byte_offset+=(t.bit_offset+7)/8|0,t.bit_offset=0)},yt.prototype.getData=function(t){var e=this;e.byteAlign();for(var r=e.createArray(t),a=0,o=e.data,n=t;n--;)r[a++]=o[e.byte_offset++];return r},yt.prototype.getDataUntil=function(t,e){var r=this,a=r.data;r.byteAlign();var o=r.byte_offset,n=0;if(null===t)n=-1;else for(var i=a.length;;){var s=a[o+n];if(n++,0===s||o+n>=i)break}var c=-1===n?a.length-o:n,l=[],p="",g=Array.prototype.join,u=0;if(null!==t){for(u=0;c>u;u++){var f=a[o+u];(10===f||13===f)&&(l[l.length]="\n"),32>f||(l[l.length]="%"+f.toString(16))}if(l.length){var v=g.call(l,"");if(v.length>5&&"\n"===v.substr(-5)&&(v=v.slice(0,-5)),e)p=r.decodeToShiftJis(v);else try{p=decodeURIComponent(v)}catch(h){p=r.decodeToShiftJis(v)}}}else for(u=0;c>u;u++)p+=k(a[o+u]);return r.byte_offset=o+c,p},yt.prototype.byteCarry=function(){var t=this;if(t.bit_offset>7)t.byte_offset+=(t.bit_offset+7)/8|0,t.bit_offset&=7;else for(;t.bit_offset<0;)t.byte_offset--,t.bit_offset+=8},yt.prototype.getUIBits=function(t){for(var e=0,r=this,a=r.getUIBit;t--;)e<<=1,e|=a.call(r);return e},yt.prototype.getUIBit=function(){var t=this;return t.byteCarry(),t.data[t.byte_offset]>>7-t.bit_offset++&1},yt.prototype.getSIBits=function(t){var e=this,r=e.getUIBits(t),a=r&1<<t-1;if(a){var o=2*a-1;return-(r^o)-1}return r},yt.prototype.getUI8=function(){var t=this;return t.byteAlign(),t.data[t.byte_offset++]},yt.prototype.getUI16=function(){var t=this,e=t.data;return t.byteAlign(),e[t.byte_offset++]|e[t.byte_offset++]<<8},yt.prototype.getUI24=function(){var t=this,e=t.data;return t.byteAlign(),e[t.byte_offset++]|(e[t.byte_offset++]|e[t.byte_offset++]<<8)<<8},yt.prototype.getUI32=function(){var t=this,e=t.data;return t.byteAlign(),e[t.byte_offset++]|(e[t.byte_offset++]|(e[t.byte_offset++]|e[t.byte_offset++]<<8)<<8)<<8},yt.prototype.getUI16BE=function(){var t=this,e=t.data;return t.byteAlign(),e[t.byte_offset++]<<8|e[t.byte_offset++]},yt.prototype.getFloat16=function(){for(var t=this.getData(2),e=0,r=2;r--;)e|=t[r]<<8*r;return e},yt.prototype.getFloat32=function(){for(var t=this.getData(4),e=0,r=4;r--;)e|=t[r]<<8*r;var a=2147483648&e,o=e>>23&255,n=8388607&e;return e&&2147483648!==e?(a?-1:1)*(8388608|n)*g(2,o-127-23):0},yt.prototype.getFloat64=function(){var t=this,e=t.getUI32(),r=t.getUI32(),a=e>>>31&1,o=e>>>20&2047,n=1048575&e;return e||r?(0===a?1:-1)*(n/1048576+r/4503599627370496+1)*g(2,o-1023):0},yt.prototype.getFloat64LittleEndian=function(){for(var t=this,e=1,r=11,a=52,o=-1022,n=1023,i=t.data,s="",c=0;8>c;c++){for(var l=i[t.byte_offset++].toString(2);l.length<8;)l="0"+l;s=l+s}var p="1"===s.charAt(0)?-1:1,u=parseInt(s.substr(e,r),2)-n,f=s.substr(e+r,a),v="1"+f,h=1,d=0;if(u===-n){if(-1===f.indexOf("1"))return 0;u=o,v="0"+f}for(var y=0;y<v.length;){var b=v.charAt(y);d+=h*+b,h/=2,y++}return p*d*g(2,u)},yt.prototype.toUI16=function(t){return t[0]+(t[1]<<8)},yt.prototype.toSI16LE=function(t){var e=this,r=e.toUI16(t);return 32768>r?r:r-65536},yt.prototype.getSI8=function(){var t=this,e=t.getUI8();return e>>7&&(e-=256),e},yt.prototype.getSI24=function(){var t=this,e=t.getUI24();return e>>23&&(e-=16777216),e},yt.prototype.incrementOffset=function(t,e){var r=this;r.byte_offset+=t,r.bit_offset+=e,r.byteCarry()},yt.prototype.setOffset=function(t,e){var r=this;r.byte_offset=t,r.bit_offset=e},yt.prototype.getU30=function(){for(var t=this,e=0,r=t.data,a=0;5>a;a++){var o=r[t.byte_offset++];if(e|=(127&o)<<7*a,!(128&o))break}return e},yt.prototype.getS30=function(){var t=this,e=t.byte_offset,r=t.getU30(),a=8*(t.byte_offset-e);return r>>a-1&&(r-=g(2,a)),r},yt.prototype.ReadU30=function(t){for(var e=this,r=0,a=e.data,o=0;5>o;o++){var n=a[t++];if(r|=(127&n)<<7*o,!(128&n))break}return r},yt.prototype.AbcReadString=function(){for(var t=this,e=t.byte_offset,r=t.data,a=t.ReadU30(e)+1,o=[],n=0;a>n;n++){var i=r[t.byte_offset++];if(!(33>i)){switch(i){default:break;case 34:case 35:case 36:case 37:case 38:case 39:case 43:case 45:continue}o[o.length]=k(i)}}return o.join("")},yt.prototype.readUB=function(t){for(var e=this,r=0,a=0;t>a;a++)8===e.bit_offset&&(e.bit_buffer=e.readNumber(1),e.bit_offset=0),r|=(e.bit_buffer&1<<e.bit_offset++?1:0)<<a;return r},yt.prototype.readNumber=function(t){for(var e=this,r=0,a=e.byte_offset,o=a+t;o>a;)r=r<<8|e.data[--o];return e.byte_offset+=t,r},yt.prototype.deCompress=function(t,e){var r=this,a=r.byte_offset;r.byte_offset=0;for(var o=r.getData(a),n="ZLIB"===e?r.unzip(r.data,!0):r.unlzma(r.data),i=0,s=0,c=r.createArray(t),l=o.length;l>i;)c[s++]=o[i],i++;for(i=0,l=n.length;l>i;)c[s++]=n[i],i++;r.data=c,r.byte_offset=a};var bt=function(){var t=this;t.matrix=t.cloneArray([1,0,0,1,0,0]),t.colorTransform=t.cloneArray([1,1,1,1,0,0,0,0]),t.filters=null,t.blendMode="normal"};bt.prototype.cloneArray=function(t){for(var e=[],r=t.length,a=0;r>a;a++)e[a]=t[a];return e},bt.prototype.getBlendName=function(t){var e=null;switch(t){case 1:case"normal":e="normal";break;case 2:case"layer":e="layer";break;case 3:case"multiply":e="multiply";break;case 4:case"screen":e="screen";break;case 5:case"lighten":e="lighten";break;case 6:case"darken":e="darken";break;case 7:case"difference":e="difference";break;case 8:case"add":e="add";break;case 9:case"subtract":e="subtract";break;case 10:case"invert":e="invert";break;case 11:case"alpha":e="alpha";break;case 12:case"erase":e="erase";break;case 13:case"overlay":e="overlay";break;case 14:case"hardlight":e="hardlight"}return e},bt.prototype.clone=function(){var t=this,e=new bt;return e.setMatrix(t.getMatrix()),e.setColorTransform(t.getColorTransform()),e.setFilters(t.getFilters()),e.setBlendMode(t.getBlendMode()),e},bt.prototype.getMatrix=function(){return this.matrix},bt.prototype.setMatrix=function(t){var e=this;e.matrix=e.cloneArray(t)},bt.prototype.getColorTransform=function(){return this.colorTransform},bt.prototype.setColorTransform=function(t){var e=this;e.colorTransform=e.cloneArray(t)},bt.prototype.getFilters=function(){return this.filters},bt.prototype.setFilters=function(t){this.filters=t},bt.prototype.getBlendMode=function(){return this.blendMode},bt.prototype.setBlendMode=function(t){var e=this;e.blendMode=e.getBlendName(t)};var mt=function(t,e){var r=this;r.stage=t,r.bitio=e,r.currentPosition={x:0,y:0},r.jpegTables=null};mt.prototype.parse=function(t){var e=this,r=e.bitio.data.length;return e.parseTags(r,t.characterId)},mt.prototype.build=function(t,e){var r=this,a=t.length;if(a){var o=r.showFrame,n=[];for(var i in t)if(t.hasOwnProperty(i)){var s=t[i];o.call(r,s,e,n)}}},mt.prototype.showFrame=function(t,e,r){
var a,o,n=this,i=n.buildTag,s=[],l=t.frame,p=n.stage;l in r||(r[l]=[]),e.setTotalFrames(c(e.getTotalFrames(),l));var g=t.actionScript;if(g.length)for(a in g)g.hasOwnProperty(a)&&e.setActions(l,g[a]);var u=t.labels;if(u.length)for(a in u)if(u.hasOwnProperty(a)){var f=u[a];e.addLabel(f.frame,f.name)}var v=t.sounds;if(v.length)for(a in v)v.hasOwnProperty(a)&&e.addSound(l,v[a]);var h=t.cTags;if(h.length)for(a in h)h.hasOwnProperty(a)&&(o=h[a],s[o.Depth]=!0,i.call(n,l,o,e,r));var d=t.removeTags;if(d.length){e.setRemoveTag(l,d);for(a in d)if(d.hasOwnProperty(a)){var y=d[a];s[y.Depth]=!0}}if(l>1){var b=l-1,m=e.container;if(b in m){var S=m[b];l in m||(m[l]=[]);var A=S.length;if(A){var I=e.instanceId;for(var C in S)S.hasOwnProperty(C)&&(C in s||(m[l][C]=S[C],p.copyPlaceObject(I,C,l),r[l][C]=r[b][C]))}}}},mt.prototype.buildTag=function(t,e,r,a){var o=this,n=r.container;t in n||(n[t]=[]);var i=!0;if(e.PlaceFlagMove){var s=a[t-1][e.Depth];void 0!==s&&(e.PlaceFlagHasCharacter?e.CharacterId!==s.CharacterId&&(i=!1):(e.PlaceFlagHasCharacter=s.PlaceFlagHasCharacter,e.CharacterId=s.CharacterId),!e.PlaceFlagHasMatrix&&s.PlaceFlagHasMatrix&&(e.PlaceFlagHasMatrix=s.PlaceFlagHasMatrix,e.Matrix=s.Matrix),!e.PlaceFlagHasColorTransform&&s.PlaceFlagHasColorTransform&&(e.PlaceFlagHasColorTransform=s.PlaceFlagHasColorTransform,e.ColorTransform=s.ColorTransform),!e.PlaceFlagHasClipDepth&&s.PlaceFlagHasClipDepth&&(e.PlaceFlagHasClipDepth=s.PlaceFlagHasClipDepth,e.ClipDepth=s.ClipDepth),!e.PlaceFlagHasClipActions&&s.PlaceFlagHasClipActions&&(e.PlaceFlagHasClipActions=s.PlaceFlagHasClipActions,e.ClipActionRecords=s.ClipActionRecords),e.PlaceFlagHasRatio||i||(e.PlaceFlagHasRatio=1,e.Ratio=t-1),!e.PlaceFlagHasFilterList&&s.PlaceFlagHasFilterList&&(e.PlaceFlagHasFilterList=s.PlaceFlagHasFilterList,e.SurfaceFilterList=s.SurfaceFilterList),!e.PlaceFlagHasBlendMode&&s.PlaceFlagHasBlendMode&&(e.PlaceFlagHasBlendMode=s.PlaceFlagHasBlendMode,e.BlendMode=s.BlendMode))}a[t][e.Depth]=e;var c=o.buildObject(e,r,i,t);if(c){var l=o.stage,p=o.buildPlaceObject(e);l.setPlaceObject(p,r.instanceId,e.Depth,t),n[t][e.Depth]=c.instanceId}},mt.prototype.buildObject=function(t,e,r,a){var o=this,n=o.stage,i=n.getCharacter(t.CharacterId),s=i.tagType,c=!1;(46===s||84===s)&&(c=!0);var l={};if(!c&&t.PlaceFlagMove&&r){var p=e.container[a-1][t.Depth];l=n.getInstance(p)}else{if(i instanceof Array)l=o.buildMovieClip(t,i,e);else switch(s){case 11:case 33:l=o.buildText(t,i);break;case 37:l=o.buildTextField(t,i,e);break;case 2:case 22:case 32:case 83:l=o.buildShape(t,i);break;case 46:case 84:var g=o.buildMorphShape(i,t.Ratio);g.tagType=s,l=o.buildShape(t,g);break;case 7:case 34:l=o.buildButton(i,t,e);break;default:return 0}l.setParent(e),l.setStage(n),l.setCharacterId(t.CharacterId),l.setRatio(t.Ratio||0),l.setLevel(t.Depth)}return t.PlaceFlagHasClipDepth&&(l.isClipDepth=!0,l.clipDepth=t.ClipDepth),l},mt.prototype.buildPlaceObject=function(t){var e=new bt;return t.PlaceFlagHasMatrix&&e.setMatrix(t.Matrix),t.PlaceFlagHasColorTransform&&e.setColorTransform(t.ColorTransform),t.PlaceFlagHasFilterList&&e.setFilters(t.SurfaceFilterList),t.PlaceFlagHasBlendMode&&e.setBlendMode(t.BlendMode),e},mt.prototype.buildMovieClip=function(t,e,r){var a=this,o=a.stage,n=new qt;n.setStage(o),n._url=r._url;var i="instance"+n.instanceId;if(t.PlaceFlagHasName&&(n.setName(t.Name),i=t.Name),n.setTarget(r.getTarget()+"/"+i),a.build(e,n),t.PlaceFlagHasClipActions)for(var s,c=t.ClipActionRecords,l=c.length,p=0;l>p;p++){var g=c[p],u=g.EventFlags;for(s in u)if(u.hasOwnProperty(s)&&u[s]){var f=n.createActionScript(g.Actions);n.addEventListener(s,f)}}return n},mt.prototype.buildTextField=function(t,e,r){var a=this,o=a.stage,n=new zt;n.setStage(o),n.setParent(r),n.setInitParams(),n.setTagType(e.tagType),n.setBounds(e.bounds);var i="instance"+n.instanceId;t.PlaceFlagHasName&&(n.setName(t.Name),i=t.Name),n.setTarget(r.getTarget()+"/"+i);var s=e.data,c={},l=null,p=s.FontID;s.HasFont&&(l=o.getCharacter(p)),n.fontId=p,n.fontScale=s.FontHeight/1024,l&&l.ZoneTable&&(n.fontScale/=20),n.initialText=s.InitialText,c.autoSize=s.AutoSize,c.border=s.Border,c.border&&(c.background=1),c.bottomScroll=1,c.condenseWhite=0,c.embedFonts=s.HasFont&&s.UseOutlines&&l.FontFlagsHasLayout&&!s.Password?1:0,c.hscroll=0,c.maxscroll=0,c.scroll=0,c.maxhscroll=0,c.html=s.HTML,c.htmlText=s.HTML?s.InitialText:null,c.length=0,c.maxChars=0,c.multiline=s.Multiline,c.password=s.Password,c.selectable=s.NoSelect,c.tabEnabled=0,c.tabIndex=0,c.text=s.InitialText,c.textColor=s.TextColor,c.textHeight=0,c.textWidth=0,c.type=s.ReadOnly?"dynamic":"input";var g=s.VariableName;if(c.variable=g,g&&r.setVariable(g,s.InitialText),c.wordWrap=s.WordWrap,c.blockIndent=0,c.bullet=0,l){c.bold=l.FontFlagsBold;var u=n.getVariable("font");c.font="'"+l.FontName+"', "+u,c.italic=l.FontFlagsItalic}if(s.HasLayout){switch(s.Align){case 1:c.align="right";break;case 2:c.align="center";break;case 3:c.align="justify"}c.leftMargin=s.LeftMargin,c.rightMargin=s.RightMargin,c.indent=s.Indent,c.leading=14400>s.Leading?s.Leading:s.Leading-65535}c.size=s.FontHeight/20,c.tabStops=[],c.target=null,c.underline=0,c.url=null;for(var f in c)c.hasOwnProperty(f)&&n.setProperty(f,c[f]);return"input"===c.type&&n.setInputElement(),n},mt.prototype.buildText=function(t,e){var r=this,a=r.stage,o=new Vt;o.setTagType(e.tagType),o.setBounds(e.bounds);for(var n=e.textRecords,i=n.length,s=0,c=0,l=1,p=0,g=null,u=e.matrix,f=null,v=!1,h=0;i>h;h++){var d=n[h];if("FontId"in d){var y=d.FontId,b=a.getCharacter(y);g=b.GlyphShapeTable,v=!1,"ZoneTable"in b&&(v=!0)}"XOffset"in d&&(s=d.XOffset),"YOffset"in d&&(c=d.YOffset),"TextColor"in d&&(f=d.TextColor),"TextHeight"in d&&(p=d.TextHeight,v&&(p/=20));var m=d.GlyphEntries,S=d.GlyphCount;l=p/1024;for(var A=0;S>A;A++){var I=m[A],C=g[I.GlyphIndex],x=vt.convert(C),k=[l,u[1],u[2],l,u[4]+s,u[5]+c],T=new Zt;T.setData(x),T.setColor(f),T.setMatrix(k),o.addRecord(T),s+=I.GlyphAdvance}}return o},mt.prototype.buildShape=function(t,e){var r=new Gt;return r.setTagType(e.tagType),r.setBounds(e.bounds),r.setData(e.data),r},mt.prototype.buildButton=function(t,e,r){var a=this,o=a.stage,n=t.characters,i=new Kt;i.setStage(o),i.setParent(r),i.setLevel(e.Depth),"actions"in t&&i.setActions(t.actions);var s="instance"+i.instanceId;e.PlaceFlagHasName&&(i.setName(e.Name),s=e.Name),i.setTarget(r.getTarget()+"/"+s);var c=i.getSprite("down");t.ButtonStateDownSoundId&&(c.soundId=t.ButtonStateDownSoundId,c.soundInfo=t.ButtonStateDownSoundInfo);var l=i.getSprite("hit");t.ButtonStateHitTestSoundId&&(l.soundId=t.ButtonStateHitTestSoundId,l.soundInfo=t.ButtonStateHitTestSoundInfo);var p=i.getSprite("over");t.ButtonStateOverSoundId&&(p.soundId=t.ButtonStateOverSoundId,p.soundInfo=t.ButtonStateOverSoundInfo);var g=i.getSprite("up");t.ButtonStateUpSoundId&&(g.soundId=t.ButtonStateUpSoundId,g.soundInfo=t.ButtonStateUpSoundInfo);for(var u in n)if(n.hasOwnProperty(u)){var f=n[u];for(var v in f)if(f.hasOwnProperty(v)){var h=f[v],d=a.buildObject(h,i,!1,1),y=a.buildPlaceObject(h),b=h.Depth;h.ButtonStateDown&&(c.addTag(b,d),o.setPlaceObject(y,c.instanceId,b,0)),h.ButtonStateHitTest&&(l.addTag(b,d),o.setPlaceObject(y,l.instanceId,b,0)),h.ButtonStateOver&&(p.addTag(b,d),o.setPlaceObject(y,p.instanceId,b,0)),h.ButtonStateUp&&(g.addTag(b,d),o.setPlaceObject(y,g.instanceId,b,0))}}return i.setSprite("down",c),i.setSprite("hit",l),i.setSprite("over",p),i.setSprite("up",g),i.setTagType(t.tagType),i},mt.prototype.generateDefaultTagObj=function(t,e){return{frame:t,characterId:e,cTags:[],removeTags:[],actionScript:[],labels:[],sounds:[]}},mt.prototype.parseTags=function(t,e){var r=this,a=r.parseTag,o=r.addTag,n=r.generateDefaultTagObj,i=1,s=[],c=0,l=r.bitio;for(s[i]=n.call(r,i,e);l.byte_offset<t;){var p=l.byte_offset;if(p+2>t)break;var g=l.getUI16();c=g>>6;var u=63&g;if(63===u){if(p+6>t){l.byte_offset=p,l.bit_offset=0;break}u=l.getUI32()}var f=l.byte_offset;1===c&&(i++,t>f+2&&(s[i]=n.call(r,i,e)));var v=a.call(r,c,u),h=l.byte_offset-f;if(h!==u&&u>h){var d=u-h;d>0&&(l.byte_offset+=d)}v&&(s=o.call(r,c,s,v,i)),l.bit_offset=0}return s},mt.prototype.parseTag=function(t,e){var r=this,a=null,o=r.bitio,n=r.stage;switch(t){case 0:break;case 1:break;case 2:case 22:case 32:case 83:10>e?o.byte_offset+=e:r.parseDefineShape(t);break;case 9:n.bgcolor?n.backgroundColor=n.bgcolor:n.setBackgroundColor(o.getUI8(),o.getUI8(),o.getUI8());break;case 10:case 48:case 75:r.parseDefineFont(t,e);break;case 13:case 62:r.parseDefineFontInfo(t,e);break;case 11:case 33:r.parseDefineText(t);break;case 4:case 26:case 70:a=r.parsePlaceObject(t,e);break;case 37:r.parseDefineEditText(t);break;case 39:r.parseDefineSprite(o.byte_offset+e);break;case 12:a=r.parseDoAction(e);break;case 59:r.parseDoInitAction(e);break;case 5:case 28:a=r.parseRemoveObject(t);break;case 7:case 34:a=r.parseDefineButton(t,e);break;case 43:a=r.parseFrameLabel();break;case 88:r.parseDefineFontName();break;case 20:case 36:r.parseDefineBitsLossLess(t,e);break;case 6:case 21:case 35:case 90:r.parseDefineBits(t,e,r.jpegTables),r.jpegTables=null;break;case 8:r.jpegTables=r.parseJPEGTables(e);break;case 56:r.parseExportAssets();break;case 46:case 84:r.parseDefineMorphShape(t);break;case 40:o.getDataUntil("\x00");break;case 24:o.byteAlign();break;case 63:o.getUI8();break;case 64:o.getUI16(),o.getDataUntil("\x00");break;case 65:o.getUI16(),o.getUI16();break;case 69:r.parseFileAttributes();break;case 77:o.getDataUntil("\x00");break;case 86:a=r.parseDefineSceneAndFrameLabelData();break;case 18:case 45:a=r.parseSoundStreamHead(t);break;case 72:case 82:r.parseDoABC(t,e);break;case 76:r.parseSymbolClass();break;case 14:r.parseDefineSound(t,e);break;case 15:case 89:a=r.parseStartSound(t);break;case 17:r.parseDefineButtonSound();break;case 73:r.parseDefineFontAlignZones();break;case 74:r.parseCSMTextSettings(t);break;case 19:r.parseSoundStreamBlock(t,e);break;case 60:r.parseDefineVideoStream(t);break;case 61:r.parseVideoFrame(t,e);break;case 78:r.parseDefineScalingGrid();break;case 41:o.getUI32(),o.getUI32(),o.getUI8(),o.getUI8(),o.getUI32(),o.getUI32(),o.getUI32(),o.getUI32();break;case 3:case 16:case 23:case 25:case 29:case 31:case 38:case 42:case 44:case 47:case 49:case 52:case 53:case 54:case 55:case 57:case 58:case 66:case 71:case 87:case 91:case 93:Y.log("[base] tagType -> "+t);break;case 27:case 30:case 67:case 68:case 79:case 80:case 81:case 85:case 92:}return a},mt.prototype.addTag=function(t,e,r,a){var o=e[a];switch(t){case 4:case 26:case 70:var n=o.cTags;o.cTags[n.length]=r;break;case 12:var i=o.actionScript;o.actionScript[i.length]=r;break;case 5:case 28:var s=o.removeTags;o.removeTags[s.length]=r;break;case 43:var c=o.labels;r.frame=a,o.labels[c.length]=r;break;case 15:case 89:var l=o.sounds;o.sounds[l.length]=r}return e},mt.prototype.parseDefineShape=function(t){var e=this,r=e.bitio,a=r.getUI16(),o=e.rect();if(83===t){var n={};n.EdgeBounds=e.rect(),r.getUIBits(5),n.UsesFillWindingRule=r.getUIBits(1),n.UsesNonScalingStrokes=r.getUIBits(1),n.UsesScalingStrokes=r.getUIBits(1)}var i=e.shapeWithStyle(t);e.appendShapeTag(a,o,i,t)},mt.prototype.rect=function(){var t=this.bitio;t.byteAlign();var e=t.getUIBits(5);return{xMin:t.getSIBits(e),xMax:t.getSIBits(e),yMin:t.getSIBits(e),yMax:t.getSIBits(e)}},mt.prototype.shapeWithStyle=function(t){var e,r,a=this,o=a.bitio;46===t||84===t?(e={fillStyleCount:0,fillStyles:[]},r={lineStyleCount:0,lineStyles:[]}):(e=a.fillStyleArray(t),r=a.lineStyleArray(t));var n=o.getUI8(),i=n>>4,s=15&n,c=a.shapeRecords(t,{FillBits:i,LineBits:s});return{fillStyles:e,lineStyles:r,ShapeRecords:c}},mt.prototype.fillStyleArray=function(t){var e=this,r=e.bitio,a=r.getUI8();t>2&&255===a&&(a=r.getUI16());for(var o=[],n=a;n--;)o[o.length]=e.fillStyle(t);return{fillStyleCount:a,fillStyles:o}},mt.prototype.fillStyle=function(t){var e=this,r=e.bitio,a={},o=r.getUI8();switch(a.fillStyleType=o,o){case 0:32===t||83===t?a.Color=e.rgba():46===t||84===t?(a.StartColor=e.rgba(),a.EndColor=e.rgba()):a.Color=e.rgb();break;case 16:case 18:46===t||84===t?(a.startGradientMatrix=e.matrix(),a.endGradientMatrix=e.matrix(),a.gradient=e.gradient(t)):(a.gradientMatrix=e.matrix(),a.gradient=e.gradient(t));break;case 19:a.gradientMatrix=e.matrix(),a.gradient=e.focalGradient(t);break;case 64:case 65:case 66:case 67:a.bitmapId=r.getUI16(),46===t||84===t?(a.startBitmapMatrix=e.matrix(),a.endBitmapMatrix=e.matrix()):a.bitmapMatrix=e.matrix()}return a},mt.prototype.rgb=function(){var t=this.bitio;return{R:t.getUI8(),G:t.getUI8(),B:t.getUI8(),A:1}},mt.prototype.rgba=function(){var t=this.bitio;return{R:t.getUI8(),G:t.getUI8(),B:t.getUI8(),A:t.getUI8()/255}},mt.prototype.matrix=function(){var t=this.bitio;t.byteAlign();var e=[1,0,0,1,0,0];if(t.getUIBit()){var r=t.getUIBits(5);e[0]=t.getSIBits(r)/65536,e[3]=t.getSIBits(r)/65536}if(t.getUIBit()){var a=t.getUIBits(5);e[1]=t.getSIBits(a)/65536,e[2]=t.getSIBits(a)/65536}var o=t.getUIBits(5);return e[4]=t.getSIBits(o),e[5]=t.getSIBits(o),e},mt.prototype.gradient=function(t){var e,r=this,a=0,o=0,n=this.bitio;n.byteAlign(),46===t||84===t?e=n.getUI8():(a=n.getUIBits(2),o=n.getUIBits(2),e=n.getUIBits(4));for(var i=[],s=e;s--;)i[i.length]=r.gradientRecord(t);return{SpreadMode:a,InterpolationMode:o,GradientRecords:i}},mt.prototype.gradientRecord=function(t){var e=this,r=e.bitio;if(46===t||84===t)return{StartRatio:r.getUI8()/255,StartColor:e.rgba(),EndRatio:r.getUI8()/255,EndColor:e.rgba()};var a=r.getUI8(),o=32>t?e.rgb():e.rgba();return{Ratio:a/255,Color:o}},mt.prototype.focalGradient=function(t){var e=this.bitio;e.byteAlign();for(var r=this,a=e.getUIBits(2),o=e.getUIBits(2),n=e.getUIBits(4),i=[],s=n;s--;)i[i.length]=r.gradientRecord(t);var c=e.getFloat16();return{SpreadMode:a,InterpolationMode:o,GradientRecords:i,FocalPoint:c}},mt.prototype.lineStyleArray=function(t){var e=this,r=e.bitio,a=r.getUI8();t>2&&255===a&&(a=r.getUI16());for(var o=[],n=a;n--;)o[o.length]=e.lineStyles(t);return{lineStyleCount:a,lineStyles:o}},mt.prototype.lineStyles=function(t){var e=this,r=e.bitio,a={};return a.fillStyleType=0,46===t?a={StartWidth:r.getUI16(),EndWidth:r.getUI16(),StartColor:e.rgba(),EndColor:e.rgba()}:84===t?(a.StartWidth=r.getUI16(),a.EndWidth=r.getUI16(),a.StartCapStyle=r.getUIBits(2),a.JoinStyle=r.getUIBits(2),a.HasFillFlag=r.getUIBit(),a.NoHScaleFlag=r.getUIBit(),a.NoVScaleFlag=r.getUIBit(),a.PixelHintingFlag=r.getUIBit(),r.getUIBits(5),a.NoClose=r.getUIBit(),a.EndCapStyle=r.getUIBits(2),2===a.JoinStyle&&(a.MiterLimitFactor=r.getUI16()),a.HasFillFlag?a.FillType=e.fillStyle(t):(a.StartColor=e.rgba(),a.EndColor=e.rgba())):(a.Width=r.getUI16(),83===t?(a.StartCapStyle=r.getUIBits(2),a.JoinStyle=r.getUIBits(2),a.HasFillFlag=r.getUIBit(),a.NoHScaleFlag=r.getUIBit(),a.NoVScaleFlag=r.getUIBit(),a.PixelHintingFlag=r.getUIBit(),r.getUIBits(5),a.NoClose=r.getUIBit(),a.EndCapStyle=r.getUIBits(2),2===a.JoinStyle&&(a.MiterLimitFactor=r.getUI16()),a.HasFillFlag?a.FillType=e.fillStyle(t):a.Color=e.rgba()):32===t?a.Color=e.rgba():a.Color=e.rgb()),a},mt.prototype.shapeRecords=function(t,e){var r=this,a=r.bitio,o=[];r.currentPosition={x:0,y:0};for(var n=r.straightEdgeRecord,i=r.curvedEdgeRecord,s=r.styleChangeRecord;;){var c=a.getUIBits(6),l=0;if(32&c){var p=15&c;l=16&c?n.call(r,t,p):i.call(r,t,p)}else c&&(l=s.call(r,t,c,e));if(o[o.length]=l,!l){a.byteAlign();break}}return o},mt.prototype.straightEdgeRecord=function(t,e){var r=this,a=r.bitio,o=0,n=0,i=a.getUIBit();if(i)o=a.getSIBits(e+2),n=a.getSIBits(e+2);else{var s=a.getUIBit();s?(o=0,n=a.getSIBits(e+2)):(o=a.getSIBits(e+2),n=0)}var c=o,l=n;return 46!==t&&84!==t&&(c=r.currentPosition.x+o,l=r.currentPosition.y+n,r.currentPosition.x=c,r.currentPosition.y=l),{ControlX:0,ControlY:0,AnchorX:c,AnchorY:l,isCurved:!1,isChange:!1}},mt.prototype.curvedEdgeRecord=function(t,e){var r=this,a=r.bitio,o=a.getSIBits(e+2),n=a.getSIBits(e+2),i=a.getSIBits(e+2),s=a.getSIBits(e+2),c=o,l=n,p=i,g=s;return 46!==t&&84!==t&&(c=r.currentPosition.x+o,l=r.currentPosition.y+n,p=c+i,g=l+s,r.currentPosition.x=p,r.currentPosition.y=g),{ControlX:c,ControlY:l,AnchorX:p,AnchorY:g,isCurved:!0,isChange:!1}},mt.prototype.styleChangeRecord=function(t,e,r){var a=this,o=a.bitio,n={};if(n.StateNewStyles=e>>4&1,n.StateLineStyle=e>>3&1,n.StateFillStyle1=e>>2&1,n.StateFillStyle0=e>>1&1,n.StateMoveTo=1&e,n.StateMoveTo){var i=o.getUIBits(5);n.MoveX=o.getSIBits(i),n.MoveY=o.getSIBits(i),a.currentPosition.x=n.MoveX,a.currentPosition.y=n.MoveY}if(n.FillStyle0=0,n.StateFillStyle0&&(n.FillStyle0=o.getUIBits(r.FillBits)),n.FillStyle1=0,n.StateFillStyle1&&(n.FillStyle1=o.getUIBits(r.FillBits)),n.LineStyle=0,n.StateLineStyle&&(n.LineStyle=o.getUIBits(r.LineBits)),n.StateNewStyles){n.FillStyles=a.fillStyleArray(t),n.LineStyles=a.lineStyleArray(t);var s=o.getUI8();r.FillBits=n.NumFillBits=s>>4,r.LineBits=n.NumLineBits=15&s}return n.isChange=!0,n},mt.prototype.appendShapeTag=function(t,e,r,a){var o=this.stage;o.setCharacter(t,{tagType:a,data:vt.convert(r,!1),bounds:e})},mt.prototype.parseDefineBitsLossLess=function(t,e){var r=this,a=r.bitio,o=r.stage,n=a.byte_offset,i=a.getUI16(),s=a.getUI8(),c=a.getUI16(),l=a.getUI16(),p=36===t,g=0;3===s&&(g=a.getUI8()+1);var u=a.byte_offset-n,f=a.getData(e-u),v=a.unzip(f,!1),h=dt.getCanvas();h.width=c,h.height=l;var d=h.getContext("2d"),y=d.createImageData(c,l),b=y.data,m=0,S=0,A=c,I=l;if(5!==s||p){var C=p?4:3,x=g*C,k=0;for(g&&(k=(c+3&-4)-c),I=l;I--;){for(A=c;A--;)if(m=g?v[x++]*C:x++*C,p){var T=3===s?v[m+3]:v[m++];ct?(b[S++]=v[m++],b[S++]=v[m++],b[S++]=v[m++]):(b[S++]=255*v[m++]/T,b[S++]=255*v[m++]/T,b[S++]=255*v[m++]/T),b[S++]=T,3===s&&m++}else b[S++]=v[m++],b[S++]=v[m++],b[S++]=v[m++],m++,b[S++]=255;x+=k}}else for(m=0,S=0,I=l;I--;)for(A=c;A--;)m++,b[S++]=v[m++],b[S++]=v[m++],b[S++]=v[m++],b[S++]=255;d.putImageData(y,0,0),o.setCharacter(i,d)},mt.prototype.parseExportAssets=function(){for(var t=this,e=t.bitio,r=t.stage,a=e.getUI16(),o=r.exportAssets,n=r.packages;a--;){var i=e.getUI16(),s=e.getDataUntil("\x00");"__Packages"===s.substr(0,10)&&(n[i]=1),o[s]=i}r.exportAssets=o},mt.prototype.parseJPEGTables=function(t){return this.bitio.getData(t)},mt.prototype.parseDefineBits=function(t,e,r){var a=this,o=a.bitio,i=o.byte_offset,s=o.getUI16(),c=o.byte_offset-i,l=e-c;if((35===t||90===t)&&(l=o.getUI32()),90===t){var p=o.getUI16();Y.log("DeblockParam",p)}var g=o.getData(l),u=!1;(35===t||90===t)&&(u=o.getData(e-c-l)),o.byte_offset=i+e;var f=a.stage;f.imgUnLoadCount++;var v=n.createElement("img");if(v.addEventListener("load",function(){var t=this.width,e=this.height,r=dt.getCanvas();r.width=t,r.height=e;var a=r.getContext("2d");if(a.drawImage(this,0,0,t,e),u){for(var n=o.unzip(u,!1),i=a.getImageData(0,0,t,e),c=i.data,l=3,p=t*e,g=0;p>g;g++)c[l]=n[g],l+=4;a.putImageData(i,0,0)}f.setCharacter(s,a),f.imgUnLoadCount--}),null!==r&&r.length>4){for(var h=[],d=r.length-2,y=0;d>y;y++)h[h.length]=r[y];for(d=g.length,y=2;d>y;y++)h[h.length]=g[y];g=h}v.src="data:image/jpeg;base64,"+a.base64encode(a.parseJpegData(g)),M(function(){},0)},mt.prototype.parseJpegData=function(t){var e=0,r=0,a="",o=t.length;if(255===t[0]&&217===t[1]&&255===t[2]&&216===t[3])for(e=4;o>e;e++)a+=k(t[e]);else if(255===t[e++]&&216===t[e++]){for(r=0;e>r;r++)a+=k(t[r]);for(;o>e;)if(255===t[e]){if(217===t[e+1]&&255===t[e+2]&&216===t[e+3]){for(e+=4,r=e;o>r;r++)a+=k(t[r]);break}if(218===t[e+1]){for(r=e;o>r;r++)a+=k(t[r]);break}var n=(t[e+2]<<8)+t[e+3]+e+2;for(r=e;n>r;r++)a+=k(t[r]);e+=n-e}}return a},mt.prototype.base64encode=function(e){if(P)return t.btoa(e);for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=[],o=0,n=e.length;n>o;){var i=255&e.charCodeAt(o++);if(o===n){a[a.length]=r.charAt(i>>2),a[a.length]=r.charAt((3&i)<<4),a[a.length]="==";break}var s=e.charCodeAt(o++);if(o===n){a[a.length]=r.charAt(i>>2),a[a.length]=r.charAt((3&i)<<4|(240&s)>>4),a[a.length]=r.charAt((15&s)<<2),a[a.length]="=";break}var c=e.charCodeAt(o++);a[a.length]=r.charAt(i>>2),a[a.length]=r.charAt((3&i)<<4|(240&s)>>4),a[a.length]=r.charAt((15&s)<<2|(192&c)>>6),a[a.length]=r.charAt(63&c)}return a.join("")},mt.prototype.parseDefineFont=function(t,e){var r=this,a=r.bitio,o=r.stage,n=a.byte_offset+e,i=0,s=0,c={};c.tagType=t,c.FontId=a.getUI16();var l=0;if(48===t||75===t){var p=a.getUI8();if(c.FontFlagsHasLayout=p>>>7&1,c.FontFlagsShiftJIS=p>>>6&1,c.FontFlagsSmallText=p>>>5&1,c.FontFlagsANSI=p>>>4&1,c.FontFlagsWideOffsets=p>>>3&1,c.FontFlagsWideCodes=p>>>2&1,c.FontFlagsItalic=p>>>1&1,c.FontFlagsBold=1&p,a.byteAlign(),c.LanguageCode=a.getUI8(),c.FontNameLen=a.getUI8(),c.FontNameLen){var g=a.byte_offset,u=a.getData(c.FontNameLen),f="";for(s=c.FontNameLen,i=0;s>i;i++)u[i]>127||(f+=k(u[i]));var v;v=c.FontFlagsShiftJIS||2===c.LanguageCode?a.decodeToShiftJis(f):decodeURIComponent(f),c.FontName=r.getFontName(v),a.byte_offset=g+c.FontNameLen}l=a.getUI16(),c.NumGlyphs=l}var h=a.byte_offset;if(10===t&&(l=a.getUI16()),l){var d=[];if(10===t&&(d[0]=l,l/=2,l--),c.FontFlagsWideOffsets){for(i=l;i--;)d[d.length]=a.getUI32();10!==t&&(c.CodeTableOffset=a.getUI32())}else{for(i=l;i--;)d[d.length]=a.getUI16();10!==t&&(c.CodeTableOffset=a.getUI16())}var y=[];for(10===t&&l++,i=0;l>i;i++){a.setOffset(d[i]+h,0);var b=a.getUI8(),m=b>>4,S=15&b,A={FillBits:m,LineBits:S},I={};I.ShapeRecords=r.shapeRecords(t,A),I.lineStyles={lineStyles:[{Color:{R:0,G:0,B:0,A:1},lineStyleType:0}]},I.fillStyles={fillStyles:[{Color:{R:0,G:0,B:0,A:1},fillStyleType:0}]},y[y.length]=I}if(c.GlyphShapeTable=y,48===t||75===t){a.setOffset(c.CodeTableOffset+h,0);var C=[];if(c.FontFlagsWideCodes)for(i=l;i--;)C[C.length]=a.getUI16();else for(i=l;i--;)C[C.length]=a.getUI8();if(c.CodeTable=C,c.FontFlagsHasLayout){c.FontAscent=a.getUI16(),c.FontDescent=a.getUI16(),c.FontLeading=a.getUI16();var x=[];for(i=l;i--;)x[x.length]=a.getUI16();c.FontAdvanceTable=x;var T=[];for(i=l;i--;)T[T.length]=r.rect();if(c.FontBoundsTable=T,75===t)for(c.KerningCount=a.getUI16(),c.KerningRecord=[],i=c.KerningCount;i--;){var M=c.FontFlagsWideCodes?a.getUI16():a.getUI8(),F=c.FontFlagsWideCodes?a.getUI16():a.getUI8(),B=a.getSIBits(16);c.KerningRecord[c.KerningRecord.length]={FontKerningCode1:M,FontKerningCode2:F,FontKerningAdjustment:B}}}}}a.byte_offset=n,o.setCharacter(c.FontId,c),o.fonts[c.FontName]=c},mt.prototype.parseDefineFontInfo=function(t,e){var r=this,a=r.bitio,o=a.byte_offset+e,n={};n.tagType=t,n.FontId=a.getUI16();for(var i=a.getUI8(),s=a.getData(i),c="",l=0;i>l;l++)s[l]>127||(c+=k(s[l]));n.FontFlagsReserved=a.getUIBits(2),n.FontFlagsSmallText=a.getUIBits(1),n.FontFlagsShiftJIS=a.getUIBits(1),n.FontFlagsANSI=a.getUIBits(1),n.FontFlagsItalic=a.getUIBits(1),n.FontFlagsBold=a.getUIBits(1),n.FontFlagsWideCodes=a.getUIBits(1),62===t&&(n.LanguageCode=a.getUI8());var p;p=n.FontFlagsShiftJIS||2===n.LanguageCode?a.decodeToShiftJis(c):decodeURIComponent(c),n.FontName=r.getFontName(p);var g=[];a.byteAlign();var u=o-a.byte_offset;if(n.FontFlagsWideCodes||62===t)for(;u;)g[g.length]=a.getUI16(),u-=2;else for(;u;)g[g.length]=a.getUI8(),u--;n.CodeTable=g},mt.prototype.getFontName=function(t){var e=t.length,r=t.substr(e-1);switch(0===r.charCodeAt(0)&&(t=t.slice(0,-1)),t){case"_sans":return"sans-serif";case"_serif":return"serif";case"_typewriter":return"monospace";default:var a=t.substr(0,1);return"_"===a?"sans-serif":t}},mt.prototype.parseDefineFontName=function(){var t=this.bitio;t.getUI16(),t.getDataUntil("\x00"),t.getDataUntil("\x00")},mt.prototype.parseDefineText=function(t){var e=this,r=e.bitio,a=e.stage,o={},n=r.getUI16();o.tagType=t,o.bounds=e.rect(),o.matrix=e.matrix();var i=r.getUI8(),s=r.getUI8();o.textRecords=e.getTextRecords(t,i,s),a.setCharacter(n,o)},mt.prototype.getTextRecords=function(t,e,r){for(var a=this,o=a.bitio,n=[];0!==o.getUI8();){o.incrementOffset(-1,0);var i={};i.TextRecordType=o.getUIBits(1),i.StyleFlagsReserved=o.getUIBits(3),i.StyleFlagsHasFont=o.getUIBits(1),i.StyleFlagsHasColor=o.getUIBits(1),i.StyleFlagsHasYOffset=o.getUIBits(1),i.StyleFlagsHasXOffset=o.getUIBits(1),i.StyleFlagsHasFont&&(i.FontId=o.getUI16()),i.StyleFlagsHasColor&&(11===t?i.TextColor=a.rgb():i.TextColor=a.rgba()),i.StyleFlagsHasXOffset&&(i.XOffset=o.getUI16()),i.StyleFlagsHasYOffset&&(i.YOffset=o.getUI16()),i.StyleFlagsHasFont&&(i.TextHeight=o.getUI16()),i.GlyphCount=o.getUI8(),i.GlyphEntries=a.getGlyphEntries(i.GlyphCount,e,r),n[n.length]=i}return n},mt.prototype.getGlyphEntries=function(t,e,r){for(var a=this.bitio,o=[],n=t;n--;)o[o.length]={GlyphIndex:a.getUIBits(e),GlyphAdvance:a.getSIBits(r)};return o},mt.prototype.parseDefineEditText=function(t){var e=this,r=e.bitio,a=e.stage,o={},i=!1;o.CharacterId=r.getUI16();var s=e.rect(),c=r.getUI8();o.HasText=c>>>7&1,o.WordWrap=c>>>6&1,o.Multiline=c>>>5&1,o.Password=c>>>4&1,o.ReadOnly=c>>>3&1,o.HasTextColor=c>>>2&1,o.HasMaxLength=c>>>1&1,o.HasFont=1&c;var l=r.getUI8();if(o.HasFontClass=l>>>7&1,o.AutoSize=l>>>6&1,o.HasLayout=l>>>5&1,o.NoSelect=l>>>4&1,o.Border=l>>>3&1,o.WasStatic=l>>>2&1,o.HTML=l>>>1&1,o.UseOutlines=1&l,o.HasFont){o.FontID=r.getUI16();var p=a.getCharacter(o.FontID);i=p.FontFlagsShiftJIS?!0:!1,o.HasFontClass&&(o.FontClass=r.getDataUntil("\x00")),o.FontHeight=r.getUI16()}o.HasTextColor&&(o.TextColor=e.rgba()),o.HasMaxLength&&(o.MaxLength=r.getUI16()),o.HasLayout&&(o.Align=r.getUI8(),o.LeftMargin=r.getUI16(),o.RightMargin=r.getUI16(),o.Indent=r.getUI16(),o.Leading=r.getUI16());var g=r.getDataUntil("\x00",i)+"";if(o.VariableName=""===g?null:g,o.InitialText="",o.HasText){var u=r.getDataUntil("\x00",i);if(o.HTML){-1!==u.indexOf("<sbr />")&&(u=u.replace(new RegExp("<sbr />","gi"),"\n")),-1!==u.indexOf("<b>")&&(u=u.replace(new RegExp("<b>","gi"),""),u=u.replace(new RegExp("</b>","gi"),""));var f=n.createElement("span");f.innerHTML=u;for(var v=f.getElementsByTagName("p"),h=v.length,d=[],y=0;h>y;y++)d[y]=v[y];o.InitialText=d}else o.InitialText=u}a.setCharacter(o.CharacterId,{data:o,bounds:s,tagType:t})},mt.prototype.parseDefineMorphShape=function(t){var e=this,r=e.bitio,a=e.stage,o={};o.tagType=t,o.CharacterId=r.getUI16(),o.StartBounds=e.rect(),o.EndBounds=e.rect(),84===t&&(o.StartEdgeBounds=e.rect(),o.EndEdgeBounds=e.rect(),r.getUIBits(6),o.UsesNonScalingStrokes=r.getUIBits(1),o.UsesScalingStrokes=r.getUIBits(1));var n=r.getUI32(),i=r.byte_offset+n;o.MorphFillStyles=e.fillStyleArray(t),o.MorphLineStyles=e.lineStyleArray(t),o.StartEdges=e.shapeWithStyle(t),r.byte_offset!==i&&(r.byte_offset=i),o.EndEdges=e.shapeWithStyle(t);for(var s={x:0,y:0},l={x:0,y:0},p=o.StartEdges.ShapeRecords,g=o.EndEdges.ShapeRecords,u=p.length,f=g.length,v=c(u,f),h=0;v>h;h++){var d={},y=p[h],b=g[h];(y||b)&&(y.isChange||b.isChange?y.isChange&&!b.isChange?(d={FillStyle0:y.FillStyle0,FillStyle1:y.FillStyle1,LineStyle:y.LineStyle,StateFillStyle0:y.StateFillStyle0,StateFillStyle1:y.StateFillStyle1,StateLineStyle:y.StateLineStyle,StateMoveTo:y.StateMoveTo,StateNewStyles:y.StateNewStyles,isChange:!0},y.StateMoveTo&&(d.MoveX=l.x,d.MoveY=l.y,s.x=y.MoveX,s.y=y.MoveY),g.splice(h,0,d)):!y.isChange&&b.isChange?(d={FillStyle0:b.FillStyle0,FillStyle1:b.FillStyle1,LineStyle:b.LineStyle,StateFillStyle0:b.StateFillStyle0,StateFillStyle1:b.StateFillStyle1,StateLineStyle:b.StateLineStyle,StateMoveTo:b.StateMoveTo,StateNewStyles:b.StateNewStyles,isChange:!0},b.StateMoveTo&&(d.MoveX=s.x,d.MoveY=s.y,l.x=b.MoveX,l.y=b.MoveY),p.splice(h,0,d)):(y.StateMoveTo&&(s.x=y.MoveX,s.y=y.MoveY),b.StateMoveTo&&(l.x=b.MoveX,l.y=b.MoveY)):(y.isCurved?(s.x+=y.ControlX+y.AnchorX,s.y+=y.ControlY+y.AnchorY):(s.x+=y.AnchorX,s.y+=y.AnchorY),b.isCurved?(l.x+=b.ControlX+b.AnchorX,l.y+=b.ControlY+b.AnchorY):(l.x+=b.AnchorX,l.y+=b.AnchorY)))}var m=0,S=0;for(v=o.StartEdges.ShapeRecords.length,h=0;v>h;h++){var A=p[h];A.isChange&&(A.StateFillStyle0&&(S=A.FillStyle0),S?(A.StateFillStyle0=1,A.StateFillStyle1=1,m?(A.FillStyle0=0,A.FillStyle1=S):(A.FillStyle0=S,A.FillStyle1=0)):(A.StateFillStyle1=1,A.FillStyle1=0),m=m?0:1)}a.setCharacter(o.CharacterId,o)},mt.prototype.buildMorphShape=function(t,e){for(var r=void 0===e?0:e/65535,a=1-r,o=[],n=t.MorphLineStyles,i=n.lineStyles,s=n.lineStyleCount,c=t.MorphFillStyles,p=c.fillStyles,g=c.fillStyleCount,u=t.StartEdges,f=u.ShapeRecords,v=t.EndEdges,h=v.ShapeRecords,d={lineStyles:{lineStyleCount:s,lineStyles:[]},fillStyles:{fillStyleCount:g,fillStyles:[]},ShapeRecords:[]},y={x:0,y:0},b=f.length,m=0;b>m;m++){var S=f[m];if(S){var A={},I=h[m];if(S.isChange){var C=0,x=0;1===S.StateMoveTo&&(C=S.MoveX*a+I.MoveX*r,x=S.MoveY*a+I.MoveY*r,y.x=C,y.y=x),A={FillStyle0:S.FillStyle0,FillStyle1:S.FillStyle1,LineStyle:S.LineStyle,MoveX:C,MoveY:x,StateFillStyle0:S.StateFillStyle0,StateFillStyle1:S.StateFillStyle1,StateLineStyle:S.StateLineStyle,StateMoveTo:S.StateMoveTo,StateNewStyles:S.StateNewStyles,isChange:!0}}else{var k=0,T=0,M=0,F=0,B=S.AnchorX,U=S.AnchorY,w=I.AnchorX,_=I.AnchorY,Y=S.ControlX,P=S.ControlY,O=I.ControlX,D=I.ControlY;r>0&&1>r&&S.isCurved!==I.isCurved&&(S.isCurved||(B=S.AnchorX/2,U=S.AnchorY/2,Y=B,P=U),I.isCurved||(w=I.AnchorX/2,_=I.AnchorY/2,O=w,D=_)),M=Y*a+O*r+y.x,F=P*a+D*r+y.y,k=B*a+w*r+M,T=U*a+_*r+F,y.x=k,y.y=T,A={AnchorX:k,AnchorY:T,ControlX:M,ControlY:F,isChange:!1,isCurved:S.isCurved||I.isCurved}}o[m]=A}}o[o.length]=0,d.ShapeRecords=o;var X,L,E;for(m=0;s>m;m++){var R=i[m];X=R.EndColor,L=R.StartColor,E={R:l(L.R*a+X.R*r),G:l(L.G*a+X.G*r),B:l(L.B*a+X.B*r),A:L.A*a+X.A*r};var H=i[m].EndWidth,N=i[m].StartWidth;d.lineStyles.lineStyles[m]={Width:l(N*a+H*r),Color:E,fillStyleType:0}}for(m=0;g>m;m++){var j=p[m],G=j.fillStyleType;if(0===G)X=j.EndColor,L=j.StartColor,E={R:l(L.R*a+X.R*r),G:l(L.G*a+X.G*r),B:l(L.B*a+X.B*r),A:L.A*a+X.A*r},d.fillStyles.fillStyles[m]={Color:E,fillStyleType:G};else{for(var Z=j.endGradientMatrix,V=j.startGradientMatrix,W=[V[0]*a+Z[0]*r,V[1]*a+Z[1]*r,V[2]*a+Z[2]*r,V[3]*a+Z[3]*r,V[4]*a+Z[4]*r,V[5]*a+Z[5]*r],z=[],K=j.gradient,q=K.GradientRecords,J=q.length,Q=0;J>Q;Q++){var $=q[Q];X=$.EndColor,L=$.StartColor,E={R:l(L.R*a+X.R*r),G:l(L.G*a+X.G*r),B:l(L.B*a+X.B*r),A:L.A*a+X.A*r},z[Q]={Color:E,Ratio:$.StartRatio*a+$.EndRatio*r}}d.fillStyles.fillStyles[m]={gradient:{GradientRecords:z},gradientMatrix:W,fillStyleType:G}}}var tt=t.EndBounds,et=t.StartBounds,rt={xMax:et.xMax*a+tt.xMax*r,xMin:et.xMin*a+tt.xMin*r,yMax:et.yMax*a+tt.yMax*r,yMin:et.yMin*a+tt.yMin*r};return{data:vt.convert(d,!0),bounds:rt}},mt.prototype.parseFrameLabel=function(){return{name:this.bitio.getDataUntil("\x00"),frame:0}},mt.prototype.parseRemoveObject=function(t){var e=this.bitio;return 5===t?(Y.log("RemoveObject"),{CharacterId:e.getUI16(),Depth:e.getUI16()}):{Depth:e.getUI16()}},mt.prototype.parseDefineButton=function(t,e){var r={};r.tagType=t;var a=this,o=a.bitio,n=a.stage,i=o.byte_offset+e;r.ButtonId=o.getUI16();var s=0;return 7!==t&&(r.ReservedFlags=o.getUIBits(7),r.TrackAsMenu=o.getUIBits(1),s=o.getUI16()),r.characters=a.buttonCharacters(),7===t?r.actions=a.parseDoAction(i-o.byte_offset):s>0&&(r.actions=a.buttonActions(i)),n.setCharacter(r.ButtonId,r),o.byte_offset!==i&&(o.byte_offset=i),r},mt.prototype.buttonCharacters=function(){for(var t=[],e=this,r=e.bitio;0!==r.getUI8();){r.incrementOffset(-1,0);var a=e.buttonRecord(),o=a.Depth;a.Depth in t||(t[o]=[]),t[o].push(a)}return t},mt.prototype.buttonRecord=function(){var t=this,e=t.bitio,r={};return e.getUIBits(2),r.PlaceFlagHasBlendMode=e.getUIBits(1),r.PlaceFlagHasFilterList=e.getUIBits(1),r.ButtonStateHitTest=e.getUIBits(1),r.ButtonStateDown=e.getUIBits(1),r.ButtonStateOver=e.getUIBits(1),r.ButtonStateUp=e.getUIBits(1),r.CharacterId=e.getUI16(),r.Depth=e.getUI16(),r.PlaceFlagHasMatrix=1,r.Matrix=t.matrix(),r.ColorTransform=t.colorTransform(),r.PlaceFlagHasColorTransform=void 0===r.ColorTransform?0:1,r.PlaceFlagHasBlendMode&&(r.BlendMode=e.getUI8()),r.PlaceFlagHasFilterList&&(r.SurfaceFilterList=t.getFilterList()),r.PlaceFlagHasRatio=0,r.PlaceFlagHasClipDepth=0,r.Sound=null,r},mt.prototype.buttonActions=function(t){for(var e=this,r=e.bitio,a=[];;){var o={},n=r.byte_offset,i=r.getUI16();o.CondIdleToOverDown=r.getUIBits(1),o.CondOutDownToIdle=r.getUIBits(1),o.CondOutDownToOverDown=r.getUIBits(1),o.CondOverDownToOutDown=r.getUIBits(1),o.CondOverDownToOverUp=r.getUIBits(1),o.CondOverUpToOverDown=r.getUIBits(1),o.CondOverUpToIdle=r.getUIBits(1),o.CondIdleToOverUp=r.getUIBits(1),
o.CondKeyPress=r.getUIBits(7),o.CondOverDownToIdle=r.getUIBits(1);var s=t-r.byte_offset+1;if(o.ActionScript=e.parseDoAction(s),a[a.length]=o,!i)break;r.byte_offset=n+i}return a},mt.prototype.parsePlaceObject=function(t,e){var r=this,a=r.bitio,o=r.stage,n={};n.tagType=t;var i=a.byte_offset;if(4===t)n.CharacterId=a.getUI16(),n.Depth=a.getUI16(),n.Matrix=r.matrix(),n.PlaceFlagHasMatrix=1,a.byteAlign(),a.byte_offset-i<e&&(n.ColorTransform=r.colorTransform(),n.PlaceFlagHasColorTransform=1);else if(n.PlaceFlagHasClipActions=a.getUIBits(1),o.getVersion()<5&&(n.PlaceFlagHasClipActions=0),n.PlaceFlagHasClipDepth=a.getUIBits(1),n.PlaceFlagHasName=a.getUIBits(1),n.PlaceFlagHasRatio=a.getUIBits(1),n.PlaceFlagHasColorTransform=a.getUIBits(1),n.PlaceFlagHasMatrix=a.getUIBits(1),n.PlaceFlagHasCharacter=a.getUIBits(1),n.PlaceFlagMove=a.getUIBits(1),70===t&&(a.getUIBits(1),n.PlaceFlagOpaqueBackground=a.getUIBits(1),n.PlaceFlagHasVisible=a.getUIBits(1),n.PlaceFlagHasImage=a.getUIBits(1),n.PlaceFlagHasClassName=a.getUIBits(1),n.PlaceFlagHasCacheAsBitmap=a.getUIBits(1),n.PlaceFlagHasBlendMode=a.getUIBits(1),n.PlaceFlagHasFilterList=a.getUIBits(1)),n.Depth=a.getUI16(),(n.PlaceFlagHasClassName||n.PlaceFlagHasImage&&n.PlaceFlagHasCharacter)&&(n.ClassName=a.getDataUntil("\x00")),n.PlaceFlagHasCharacter&&(n.CharacterId=a.getUI16()),n.PlaceFlagHasMatrix&&(n.Matrix=r.matrix()),n.PlaceFlagHasColorTransform&&(n.ColorTransform=r.colorTransform()),n.PlaceFlagHasRatio&&(n.Ratio=a.getUI16()),n.PlaceFlagHasName&&(n.Name=a.getDataUntil("\x00")),n.PlaceFlagHasClipDepth&&(n.ClipDepth=a.getUI16()),70===t&&(n.PlaceFlagHasFilterList&&(n.SurfaceFilterList=r.getFilterList()),n.PlaceFlagHasBlendMode&&(n.BlendMode=a.getUI8()),n.PlaceFlagHasCacheAsBitmap&&(n.BitmapCache=a.getUI8()),n.PlaceFlagHasVisible&&(n.Visible=a.getUI8(),n.BackgroundColor=r.rgba())),n.PlaceFlagHasClipActions){a.getUI16(),n.AllEventFlags=r.parseClipEventFlags();for(var s=i+e,c=[];a.byte_offset<s;){var l=r.parseClipActionRecord(s);if(c[c.length]=l,s<=a.byte_offset)break;var p=o.getVersion()<=5?a.getUI16():a.getUI32();if(!p)break;o.getVersion()<=5?a.byte_offset-=2:a.byte_offset-=4,l.KeyCode&&(a.byte_offset-=1)}n.ClipActionRecords=c}return a.byteAlign(),a.byte_offset=i+e,n},mt.prototype.parseClipActionRecord=function(t){var e=this,r=e.bitio,a={},o=e.parseClipEventFlags();if(t>r.byte_offset){var n=r.getUI32();o.keyPress&&(a.KeyCode=r.getUI8()),a.EventFlags=o,a.Actions=e.parseDoAction(n)}return a},mt.prototype.parseClipEventFlags=function(){var t=this,e={},r=t.bitio,a=t.stage;return e.keyUp=r.getUIBits(1),e.keyDown=r.getUIBits(1),e.mouseUp=r.getUIBits(1),e.mouseDown=r.getUIBits(1),e.mouseMove=r.getUIBits(1),e.unload=r.getUIBits(1),e.enterFrame=r.getUIBits(1),e.load=r.getUIBits(1),a.getVersion()>=6&&(e.dragOver=r.getUIBits(1),e.rollOut=r.getUIBits(1),e.rollOver=r.getUIBits(1),e.releaseOutside=r.getUIBits(1),e.release=r.getUIBits(1),e.press=r.getUIBits(1),e.initialize=r.getUIBits(1)),e.data=r.getUIBits(1),a.getVersion()>=6&&(r.getUIBits(5),e.construct=r.getUIBits(1),e.keyPress=r.getUIBits(1),e.dragOut=r.getUIBits(1),r.getUIBits(8)),r.byteAlign(),e},mt.prototype.getFilterList=function(){for(var t=this,e=t.bitio,r=[],a=t.getFilter,o=e.getUI8(),n=0;o>n;n++){var i=a.call(t);i&&(r[r.length]=i)}return r.length?r:null},mt.prototype.getFilter=function(){var t,e=this,r=e.bitio,a=r.getUI8();switch(a){case 0:t=e.dropShadowFilter();break;case 1:t=e.blurFilter();break;case 2:t=e.glowFilter();break;case 3:t=e.bevelFilter();break;case 4:t=e.gradientGlowFilter();break;case 5:t=e.convolutionFilter();break;case 6:t=e.colorMatrixFilter();break;case 7:t=e.gradientBevelFilter()}return t},mt.prototype.dropShadowFilter=function(){var t=this,e=t.bitio,r=t.rgba(),a=r.A,o=r.R<<16|r.G<<8|r.B,n=e.getUI32()/65536,i=e.getUI32()/65536,s=e.getUI32()/65536*180/C,c=e.getUI32()/65536,l=e.getFloat16()/256,p=e.getUIBits(1)?!0:!1,g=e.getUIBits(1)?!0:!1,u=e.getUIBits(1)?!1:!0,f=e.getUIBits(5);return l?new kt(c,s,o,a,n,i,l,f,p,g,u):null},mt.prototype.blurFilter=function(){var t=this.bitio,e=t.getUI32()/65536,r=t.getUI32()/65536,a=t.getUIBits(5);return t.getUIBits(3),new xt(e,r,a)},mt.prototype.glowFilter=function(){var t=this,e=t.bitio,r=t.rgba(),a=r.A,o=r.R<<16|r.G<<8|r.B,n=e.getUI32()/65536,i=e.getUI32()/65536,s=e.getFloat16()/256,c=e.getUIBits(1)?!0:!1,l=e.getUIBits(1)?!0:!1;e.getUIBits(1);var p=e.getUIBits(5);return s?new Tt(o,a,n,i,s,p,c,l):null},mt.prototype.bevelFilter=function(){var t,e=this,r=e.bitio;t=e.rgba();var a=t.A,o=t.R<<16|t.G<<8|t.B;t=e.rgba();var n=t.A,i=t.R<<16|t.G<<8|t.B,s=r.getUI32()/65536,c=r.getUI32()/65536,l=r.getUI32()/65536*180/C,p=r.getUI32()/65536,g=r.getFloat16()/256,u=r.getUIBits(1)?!0:!1,f=r.getUIBits(1)?!0:!1;r.getUIBits(1);var v=r.getUIBits(1),h=r.getUIBits(4),d="inner";return u||(d=v?"full":"outer"),g?new Mt(p,l,o,a,i,n,s,c,g,h,d,f):null},mt.prototype.gradientGlowFilter=function(){var t,e=this,r=e.bitio,a=r.getUI8(),o=[],n=[];for(t=0;a>t;t++){var i=e.rgba();n[n.length]=i.A,o[o.length]=i.R<<16|i.G<<8|i.B}var s=[];for(t=0;a>t;t++)s[s.length]=r.getUI8();var c=r.getUI32()/65536,l=r.getUI32()/65536,p=r.getUI32()/65536*180/C,g=r.getUI32()/65536,u=r.getFloat16()/256,f=r.getUIBits(1)?!0:!1,v=r.getUIBits(1)?!0:!1;r.getUIBits(1);var h=r.getUIBits(1),d=r.getUIBits(4),y="inner";return f||(y=h?"full":"outer"),u?new Ft(g,p,o,n,s,c,l,u,d,y,v):null},mt.prototype.convolutionFilter=function(){var t=this,e=t.bitio,r={};r.MatrixX=e.getUI8(),r.MatrixY=e.getUI8(),r.Divisor=e.getFloat16()|e.getFloat16(),r.Bias=e.getFloat16()|e.getFloat16();for(var a=r.MatrixX*r.MatrixY,o=[];a--;)o[o.length]=e.getUI32();return r.DefaultColor=t.rgba(),e.getUIBits(6),r.Clamp=e.getUIBits(1),r.PreserveAlpha=e.getUIBits(1),new Bt},mt.prototype.gradientBevelFilter=function(){var t,e=this,r=e.bitio,a=r.getUI8(),o=[],n=[];for(t=0;a>t;t++){var i=e.rgba();n[n.length]=i.A,o[o.length]=i.R<<16|i.G<<8|i.B}var s=[];for(t=0;a>t;t++)s[s.length]=r.getUI8();var c=r.getUI32()/65536,l=r.getUI32()/65536,p=r.getUI32()/65536*180/C,g=r.getUI32()/65536,u=r.getFloat16()/256,f=r.getUIBits(1)?!0:!1,v=r.getUIBits(1)?!0:!1;r.getUIBits(1);var h=r.getUIBits(1),d=r.getUIBits(4),y="inner";return f||(y=h?"full":"outer"),u?new wt(g,p,o,n,s,c,l,u,d,y,v):null},mt.prototype.colorMatrixFilter=function(){for(var t=this.bitio,e=[],r=0;20>r;r++)e[e.length]=t.getUI32();return new Ut},mt.prototype.colorTransform=function(){var t=this.bitio;t.byteAlign();var e=[1,1,1,1,0,0,0,0],r=t.getUIBits(6),a=r>>5,o=r>>4&1,n=15&r;return o&&(e[0]=t.getSIBits(n)/256,e[1]=t.getSIBits(n)/256,e[2]=t.getSIBits(n)/256,e[3]=t.getSIBits(n)/256),a&&(e[4]=t.getSIBits(n),e[5]=t.getSIBits(n),e[6]=t.getSIBits(n),e[7]=t.getSIBits(n)),e},mt.prototype.parseDefineSprite=function(t){var e=this,r=e.bitio,a=r.getUI16();r.getUI16();var o=e.stage;o.setCharacter(a,e.parseTags(t,a))},mt.prototype.parseDoAction=function(t){var e=this,r=e.bitio,a=r.getData(t);return new It(a)},mt.prototype.parseDoInitAction=function(t){var e=this,r=e.bitio,a=e.stage,o=r.getUI16(),n=new It(r.getData(t-2),void 0,void 0,!0),i=a.getParent();i.variables={};var s=i.createActionScript2(n),c=a.packages;o in c&&(i.active=!0,s.apply(i),i.active=!1),a.initActions[o]=s},mt.prototype.parseDefineSceneAndFrameLabelData=function(){var t,e=this.bitio,r={};for(r.SceneCount=e.getU30(),r.sceneInfo=[],t=0;t<r.SceneCount;t++)r.sceneInfo[t]={offset:e.getU30(),name:decodeURIComponent(e.getDataUntil("\x00"))};for(r.FrameLabelCount=e.getU30(),r.frameInfo=[],t=0;t<r.FrameLabelCount;t++)r.frameInfo[t]={num:e.getU30(),label:decodeURIComponent(e.getDataUntil("\x00"))};return r},mt.prototype.parseSoundStreamHead=function(t){var e={};e.tagType=t;var r=this.bitio;return r.getUIBits(4),e.PlaybackSoundRate=r.getUIBits(2),e.PlaybackSoundSize=r.getUIBits(1),e.PlaybackSoundType=r.getUIBits(1),e.StreamSoundCompression=r.getUIBits(4),e.StreamSoundRate=r.getUIBits(2),e.StreamSoundSize=r.getUIBits(1),e.StreamSoundType=r.getUIBits(1),e.StreamSoundSampleCount=r.getUI16(),2===e.StreamSoundCompression&&(e.LatencySeek=r.getSIBits(2)),e},mt.prototype.parseDoABC=function(t,e){var r=this,a=r.bitio,o=r.stage;o.abcFlag=!0;var n=a.byte_offset,i={};i.tagType=t,i.Flags=a.getUI32(),i.Name=a.getDataUntil("\x00");var s=e-(a.byte_offset-n),c=a.getData(s),l=new yt;l.setData(c),i.minorVersion=l.getUI16(),i.majorVersion=l.getUI16(),i.integer=r.ABCInteger(l),i.uinteger=r.ABCUinteger(l),i["double"]=r.ABCDouble(l),i.string=r.ABCStringInfo(l),i.namespace=r.ABCNameSpaceInfo(l),i.nsSet=r.ABCNsSetInfo(l),i.multiname_info=r.ABCMultiNameInfo(l);var p=0;i.method=[];var g=l.getU30();if(g){var u=[];for(p=0;g>p;p++)u[p]=r.ABCMethodInfo(l);i.method=u}i.metadata=[];var f=l.getU30();if(f){var v=[];for(p=0;f>p;p++)v[p]=r.ABCMetadataInfo(l);i.metadata=v}var h=l.getU30();if(i.instance=[],i["class"]=[],h){var d=[];for(p=0;h>p;p++)d[p]=r.ABCInstanceInfo(l);i.instance=d;var y=[];for(p=0;h>p;p++)y[p]=r.ABCClassInfo(l);i["class"]=y}i.script=[];var b=l.getU30();if(b){var m=[];for(p=0;b>p;p++)m[p]=r.ABCScriptInfo(l);i.script=m}i.methodBody=[];var S=l.getU30();if(S){var A=[];for(p=0;S>p;p++){var I=r.ABCMethodBodyInfo(l);A[I.method]=I}i.methodBody=A}i=r.ABCMultinameToString(i),r.ABCBuildInstance(i)},mt.prototype.ABCBuildInstance=function(t){for(var e=this,r=t.instance,a=r.length,o=t.namespace,n=t.string,i=e.stage,s=t.names,c=0;a>c;c++){var l=r[c],p=l.flags,g=null;8&p&&(g=l.protectedNs);var u={};if(g){var f=o[g];u=n[f.name]}else u=s[l.name];var v=u.split(":"),h=v.pop(),d=v.pop(),y=function(t){this["__swf2js__::builder"]=t},b=y.prototype;b[h]=e.ABCCreateActionScript3(t,l.iinit,u);var m=l.trait,S=m.length,A=[],I=1;if(S)for(var C=0;S>C;C++){var x=m[C],k=s[x.name],T=k.split("::"),M=T.pop(),F=x.kind,B=void 0;switch(F){case 0:A[I++]=M;break;case 1:case 2:case 3:B=e.ABCCreateActionScript3(t,x.data.info,u);break;case 4:Y.log("build: Class");break;case 5:Y.log("build: Function");break;case 6:Y.log("build: Const")}b[M]=B}var U="__swf2js__:"+u;b[U]={};var w=l.superName;b[U]["extends"]=s[w],b[U].register=A;var _=i.abc,P=i.avm2;if(d)for(var O=d.split("."),D=O.length,X=0;D>X;X++)O[X]in P||(P[O[X]]={},_[O[X]]={}),P=P[O[X]],_=_[O[X]];_[h]=y,P[h]=new y}},mt.prototype.ABCCreateActionScript3=function(t,e,r){var a=this.stage;return function(t,e,r,a){return function(){var o=new At(t,e,r,a);return o.caller=this,o.args=arguments,o.execute()}}(t,e,r,a)},mt.prototype.ABCMultinameToString=function(t){for(var e=t.multiname_info,r=e.length,a=t.string,o=t.namespace,n=[],i=1;r>i;i++){var s=e[i],c="";switch(s.kind){case 7:case 13:var l=o[s.ns];switch(l.kind){default:c+=a[l.name];break;case 5:c+="private"}""!==c&&(c+="::"),c+=a[s.name];break;case 15:case 16:Y.log("RTQName",i,s);break;case 9:case 14:c=a[s.name];break;case 27:case 28:c=null;break;case 17:case 18:Y.log("RTQNameL",i,s)}n[i]=c}return t.names=n,t},mt.prototype.ABCInteger=function(t){var e=[],r=t.getU30();if(r)for(var a=1;r>a;a++)e[a]=t.getS30();return e},mt.prototype.ABCUinteger=function(t){var e=[],r=t.getU30();if(r)for(var a=1;r>a;a++)e[a]=t.getU30();return e},mt.prototype.ABCDouble=function(t){var e=[],r=t.getU30();if(r)for(var a=1;r>a;a++)e[a]=t.getFloat64LittleEndian();return e},mt.prototype.ABCStringInfo=function(t){var e=[],r=t.getU30();if(r)for(var a=1;r>a;a++)e[a]=t.AbcReadString();return e},mt.prototype.ABCNameSpaceInfo=function(t){var e=[],r=t.getU30();if(r)for(var a=1;r>a;a++)e[a]={kind:t.getUI8(),name:t.getU30()};return e},mt.prototype.ABCNsSetInfo=function(t){var e=[],r=t.getU30();if(r)for(var a=1;r>a;a++){var o=t.getU30(),n=[];if(o)for(var i=0;o>i;i++)n[i]=t.getU30();e[a]=n}return e},mt.prototype.ABCMultiNameInfo=function(t){var e=[],r=t.getU30();if(r)for(var a=1;r>a;a++){var o={};switch(o.kind=t.getUI8(),o.kind){case 7:case 13:o.ns=t.getU30(),o.name=t.getU30();break;case 15:case 16:o.name=t.getU30();break;case 9:case 14:o.name=t.getU30(),o.ns_set=t.getU30();break;case 27:case 28:o.ns_set=t.getU30();break;case 17:case 18:}e[a]=o}return e},mt.prototype.ABCMethodInfo=function(t){var e,r={},a=t.getU30();if(r.paramCount=a,r.returnType=t.getU30(),r.paramType=[],a){var o=[];for(e=0;a>e;e++)o[o.length]=t.getU30();r.paramType=o}if(r.name=t.getU30(),r.flags=t.getUI8(),r.options=[],8===r.flags){var n=[],i=t.getU30();if(i)for(e=0;i>e;e++)n[n.length]={val:t.getU30(),kind:t.getUI8()};r.options=n}if(r.paramName=[],128===r.flags){var s=[];if(a)for(e=0;a>e;e++)s[s.length]=t.getU30();r.paramName=s}return r},mt.prototype.ABCMetadataInfo=function(t){var e={};e.name=t.getU30(),e.items=[];var r=t.getU30();if(r){for(var a=[],o=0;r>o;o++)a[a.length]={key:t.getU30(),value:t.getU30()};e.items=a}return e},mt.prototype.ABCInstanceInfo=function(t){var e={};e.name=t.getU30(),e.superName=t.getU30(),e.flags=t.getUI8(),8&e.flags&&(e.protectedNs=t.getU30());var r=t.getU30();if(e.interfaces=[],r){for(var a=[],o=0;r>o;o++)a[a.length]=t.getU30();e.interfaces=a}return e.iinit=t.getU30(),e.trait=this.ABCTrait(t),e},mt.prototype.ABCClassInfo=function(t){var e={};return e.cinit=t.getU30(),e.trait=this.ABCTrait(t),e},mt.prototype.ABCScriptInfo=function(t){var e={};return e.init=t.getU30(),e.trait=this.ABCTrait(t),e},mt.prototype.ABCMethodBodyInfo=function(t){var e=this,r={};r.method=t.getU30(),r.maxStack=t.getU30(),r.localCount=t.getU30(),r.initScopeDepth=t.getU30(),r.maxScopeDepth=t.getU30();var a,o=t.getU30(),n=[];o&&(n=e.ABCBuildCode(t,o)),r.codes=n,o=t.getU30();var i=[];if(o)for(a=0;o>a;a++)i[i.length]=e.ABCException(t);return r.exceptions=i,r.trait=e.ABCTrait(t),r},mt.prototype.ABCBuildCode=function(t,e){for(var r,a=[],o=0;e>o;o++){var n={},i=0,s=t.getUI8();switch(n.code=s,s){case 134:case 65:case 128:case 66:case 73:case 241:case 240:case 148:case 195:case 106:case 6:case 94:case 93:case 89:case 110:case 96:case 98:case 102:case 108:case 4:case 146:case 194:case 104:case 178:case 8:case 86:case 90:case 88:case 64:case 85:case 47:case 45:case 49:case 37:case 44:case 46:case 99:case 111:case 97:case 109:case 5:r=t.byte_offset,n.value1=t.getU30(),i+=t.byte_offset-r;break;case 27:n.value1=t.getSI24(),i+=3,r=t.byte_offset,n.value2=t.getSI24(),i+=t.byte_offset-r,n.value3=t.getSI24(),i+=3;break;case 101:case 36:n.value1=t.getSI8(),i+=1;break;case 50:n.value1=t.getSI8(),n.value2=t.getSI8(),i+=2;break;case 19:case 18:case 24:case 23:case 22:case 21:case 15:case 14:case 13:case 12:case 20:case 25:case 26:case 17:case 16:n.value1=t.getSI24(),i+=3;break;case 67:case 70:case 76:case 79:case 68:case 69:case 78:case 74:case 239:r=t.byte_offset,n.value1=t.getU30(),n.value2=t.getU30(),i+=t.byte_offset-r}n.offset=i,a[o]=n,o+=i}return a},mt.prototype.ABCException=function(t){var e={};return e.from=t.getU30(),e.to=t.getU30(),e.target=t.getU30(),e.excType=t.getU30(),e.varName=t.getU30(),e},mt.prototype.ABCTrait=function(t){var e=t.getU30(),r=[];if(e)for(var a=0;e>a;a++){var o={};o.name=t.getU30();var n=t.getUI8(),i=15&n,s=i>>4&15,c={};switch(i){default:Y.log("ERROR:"+i);break;case 0:case 6:c.id=t.getU30(),c.name=t.getU30(),c.index=t.getU30(),c.kind=null,0!==c.index&&(c.kind=t.getUI8());break;case 1:case 2:case 3:c.id=t.getU30(),c.info=t.getU30();break;case 4:c.id=t.getU30(),c.info=t.getU30();break;case 5:c.id=t.getU30(),c.info=t.getU30()}if(o.kind=i,o.data=c,4&s){var l=t.getU30(),p=[];if(l)for(var g=0;l>g;g++)p[p.length]=t.getU30();o.metadata=p}r[r.length]=o}return r},mt.prototype.parseSymbolClass=function(){var t=this.bitio,e=this.stage,r=e.symbols,a=t.getUI16();if(a)for(;a--;){var o=t.getUI16();r[o]=t.getDataUntil("\x00")}},mt.prototype.parseDefineSound=function(e,r){var a={},o=this,n=o.bitio,i=o.stage,s=n.byte_offset;a.tagType=e,a.SoundId=n.getUI16(),a.SoundFormat=n.getUIBits(4),a.SoundRate=n.getUIBits(2),a.SoundSize=n.getUIBit(),a.SoundType=n.getUIBit(),a.SoundSampleCount=n.getUI32();for(var c=n.byte_offset-s,l=r-c,p=n.getData(l),g="",u=0;l>u;u++)g+=k(p[u]);n.byte_offset=s+r;var f="";switch(a.SoundFormat){case 0:case 3:f="wave";break;case 1:f="wave";break;case 2:f="mpeg";break;case 4:case 5:case 6:f="nellymoser";break;case 11:f="speex";break;case 15:f="x-aiff"}a.base64="data:audio/"+f+";base64,"+t.btoa(g),i.sounds[a.SoundId]=a},mt.prototype.parseStartSound=function(t){var e=this,r=e.bitio,a={},o=e.stage;a.tagType=t,a.SoundId=r.getUI16(),89===t&&(a.SoundClassName=r.getDataUntil("\x00")),a.SoundInfo=e.parseSoundInfo(),o.setCharacter(a.SoundId,a);var i=o.sounds[a.SoundId],s=n.createElement("audio");s.onload=function(){this.load(),this.preload="auto",this.autoplay=!1,this.loop=!1},s.src=i.base64;var c=o.loadSounds;return c[c.length]=s,{SoundId:a.SoundId,Audio:s,tagType:t}},mt.prototype.parseDefineButtonSound=function(){for(var t=this,e=t.bitio,r=t.stage,a=e.getUI16(),o=r.getCharacter(a),n=0;4>n;n++){var i=e.getUI16();if(i){var s=t.parseSoundInfo();switch(n){case 0:o.ButtonStateUpSoundInfo=s,o.ButtonStateUpSoundId=i;break;case 1:o.ButtonStateOverSoundInfo=s,o.ButtonStateOverSoundId=i;break;case 2:o.ButtonStateDownSoundInfo=s,o.ButtonStateDownSoundId=i;break;case 3:o.ButtonStateHitTestSoundInfo=s,o.ButtonStateHitTestSoundId=i}}}r.setCharacter(a,o)},mt.prototype.parseSoundInfo=function(){var t={},e=this.bitio;if(e.getUIBits(2),t.SyncStop=e.getUIBit(),t.SyncNoMultiple=e.getUIBit(),t.HasEnvelope=e.getUIBit(),t.HasLoops=e.getUIBit(),t.HasOutPoint=e.getUIBit(),t.HasInPoint=e.getUIBit(),t.HasInPoint&&(t.InPoint=e.getUI32()),t.HasOutPoint&&(t.OutPoint=e.getUI32()),t.HasLoops&&(t.LoopCount=e.getUI16()),t.HasEnvelope){t.EnvPoints=e.getUI8(),t.EnvelopeRecords=[];for(var r=0;r<t.EnvPoints;r++)t.EnvelopeRecords[r]={Pos44:e.getUI32(),LeftLevel:e.getUI16(),RightLevel:e.getUI16()}}return t},mt.prototype.parseDefineFontAlignZones=function(){var t=this,e=t.bitio,r=t.stage,a=e.getUI16(),o=r.getCharacter(a);o.CSMTableHint=e.getUIBits(2),e.getUIBits(6);for(var n=o.NumGlyphs,i=[],s=0;n>s;s++){for(var c=e.getUI8(),l=[],p=0;c>p;p++)l[p]=e.getUI32();i[s]={ZoneData:l,Mask:e.getUI8()}}e.byteAlign(),o.ZoneTable=i,r.setCharacter(a,o)},mt.prototype.parseCSMTextSettings=function(t){var e=this,r={},a=e.bitio;r.tagType=t,r.TextID=a.getUI16(),r.UseFlashType=a.getUIBits(2),r.GridFit=a.getUIBits(3),a.getUIBits(3),r.Thickness=a.getUI32(),r.Sharpness=a.getUI32(),a.getUI8()},mt.prototype.parseSoundStreamBlock=function(t,e){var r=this,a=r.bitio,o={};o.tagType=t,o.compressed=a.getData(e)},mt.prototype.parseDefineVideoStream=function(t){var e=this,r=e.bitio,a=e.stage,o={};o.tagType=t,o.CharacterId=r.getUI16(),o.NumFrames=r.getUI16(),o.Width=r.getUI16(),o.Height=r.getUI16(),r.getUIBits(4),o.VideoFlagsDeblocking=r.getUIBits(3),o.VideoFlagsSmoothing=r.getUIBits(1),o.CodecID=r.getUI8(),a.setCharacter(o.CharacterId,o),Y.log(o)},mt.prototype.parseVideoFrame=function(t,e){var r=this,a=r.bitio,o=r.stage,n=a.byte_offset,i={};i.tagType=t,i.StreamID=a.getUI16(),i.FrameNum=a.getUI16();var s,c=o.getCharacter(i.StreamID),l=a.byte_offset-n,p=e-l;switch(c.CodecID){case 4:s=r.parseVp6SwfVideoPacket(p)}a.byte_offset=n+e,o.videos[i.StreamID]=i},mt.prototype.parseVp6SwfVideoPacket=function(t){var e=this,r=e.bitio,a="",o=r.getData(t);return Y.log(o),a},mt.prototype.parseFileAttributes=function(){var t=this,e=t.bitio,r={};e.getUIBit(),r.UseDirectBlit=e.getUIBit(),r.UseGPU=e.getUIBit(),r.HasMetadata=e.getUIBit(),r.ActionScript3=e.getUIBit(),r.Reserved2=e.getUIBits(3),r.UseNetwork=e.getUIBit(),r.Reserved3=e.getUIBits(24)},mt.prototype.parseDefineScalingGrid=function(){var t=this,e=t.bitio,r={};r.CharacterId=e.getUI16(),r.Splitter=t.rect()};var St=function(){},At=function(t,e,r,a){var o=this;o.id=e,o.caller=null,o.parent=null,o.activation=null,o.scopeStack=[],o.currentIndex=0,o.stage=a,o.args=[],o.variables={};var n=t.methodBody[e];o.body=n,o.codes=n.codes,o.info=t.method[n.method],o.names=t.names,o.data=t,o.ns=r,o.AVM2=o.getAVM2(),o.register=o.AVM2["__swf2js__:"+r].register,o.register[0]=o.AVM2;for(var i=n.trait,s=i.length,c=0;s>c;c++){var l=i[c],p=l.kind;switch(p){case 0:}}};At.prototype.methods={gotoAndStop:1,gotoAndPlay:1,play:1,stop:1,duplicateMovieClip:1,getProperty:1,removeMovieClip:1,setProperty:1,startDrag:1,stopDrag:1,targetPath:1,updateAfterEvent:1,nextFrame:1,nextScene:1,prevFrame:1,prevScene:1,stopAllSounds:1,setMask:1,getURL:1,loadMovie:1,loadMovieNum:1,loadVariables:1,loadVariablesNum:1,unloadMovie:1,unloadMovieNum:1,swapDepths:1,getInstanceAtDepth:1,attachMovie:1,attachAudio:1,attachBitmap:1,getNextHighestDepth:1,getBytesLoaded:1,getBytesTotal:1,ASSetPropFlags:1,lineStyle:1,lineGradientStyle:1,beginFill:1,beginGradientFill:1,beginBitmapFill:1,graphics:1,buttonMode:1,clear:1,moveTo:1,lineTo:1,curveTo:1,endFill:1,hitTest:1,getDepth:1,createEmptyMovieClip:1,createTextField:1,getBounds:1,getRect:1,getSWFVersion:1,getTextSnapshot:1,globalToLocal:1,localToGlobal:1,addFrameScript:1,trace:1,addEventListener:1,removeEventListener:1,x:1,y:1,alpha:1,name:1,blendMode:1,filters:1,visible:1,rotation:1,height:1,width:1,scaleX:1,scaleY:1,mouseX:1,mouseY:1,mask:1,mouseEnabled:1},At.prototype.getAVM2=function(){for(var t=this,e=t.ns,r=t.stage,a=e.split(":"),o=a.pop(),n=a.length,i=r.avm2,s=0;n>s;s++)i=i[a[s]];return i[o]},At.prototype.getBuilder=function(){return this.AVM2["__swf2js__::builder"]},At.prototype.getSuperClass=function(){var t=this;return t.AVM2["__swf2js__:"+t.ns].superClass},At.prototype.setSuperClass=function(t){var e=this;e.AVM2["__swf2js__:"+e.ns].superClass=t},At.prototype.getParent=function(){return this.parent},At.prototype.getProperty=function(t){var e,r=this,a=r.stage;if(r.activation&&(e=r.activation[t]),void 0===e){var o=r.getParent();o&&(e=o.getProperty(t))}if(void 0===e){var n=r.getBuilder();n&&(t in r.methods&&(e=n[t]),void 0===e&&(e=n.getProperty(t)))}if(void 0===e&&-1!==t.indexOf("::")){var i=t.split("::"),s=i.pop(),c=i.pop();if("private"!==c){for(var l=c.split("."),p=l.length,g=a.avm2,u=0;p>u;u++)g=g[l[u]];e=g[s],void 0===e&&(e=r.AVM2[s])}else e=r.AVM2["private::"+s]}return void 0===e&&(e=a.avm2[t]),e},At.prototype.setOptions=function(){var t=this,e=t.info,r=e.paramCount;if(r)for(var a=t.data,o=e.options,n=e.paramType,i=t.stage,s=0;r>s;s++){var c=void 0;if(s in o){var l=o[s],p=l.val;switch(l.kind){case 1:c=a.string[p];break;default:Y.log("options",l)}}if(s in n){var g=n[s];if(g){var u=a.multiname_info[g],f=null,v="";switch(u.kind){case 7:var h=a.namespace[u.ns];switch(h.kind){case 22:v=a.string[h.name];break;default:Y.log("SetOptions",h)}f=a.string[u.name]}if(v){for(var d=v.split("."),y=d.length,b=i.avm2,m=0;y>m;m++)b=b[d[m]];c=b[f]}}}void 0===t.args[s]&&(t.args[s]=c)}},At.prototype.execute=function(){var t=this,e=[];t.scopeStack=[];var r=0,a=0,o=t.codes,n=o.length;for(t.setOptions();n>r;){var i=o[r];switch(i.code){case 160:t.ActionAdd(e);break;case 197:t.ActionAddI(e);break;case 134:t.ActionAsType(e,i.value1);break;case 135:t.ActionAsTypeLate(e);break;case 168:t.ActionBitAnd(e);break;case 151:t.ActionBitNot(e);break;case 169:t.ActionBitOr(e);break;case 170:t.ActionBitXOr(e);break;case 65:t.ActionCall(e,i.value1);break;case 67:t.ActionCallMethod(e,i.value1,i.value2);break;case 70:t.ActionCallProperty(e,i.value1,i.value2);break;case 76:t.ActionCallPropLex(e,i.value1,i.value2);break;case 79:t.ActionCallPropVoid(e,i.value1,i.value2);break;case 68:t.ActionCallStatic(e,i.value1,i.value2);break;case 69:t.ActionCallSuper(e,i.value1,i.value2);break;case 78:t.ActionCallSuperVoid(e,i.value1,i.value2);break;case 120:t.ActionCheckFilter(e);break;case 128:t.ActionCoerce(e,i.value1);break;case 130:t.ActionCoerceA(e);break;case 133:t.ActionCoerceS(e);break;case 66:t.ActionConstruct(e,i.value1);break;case 74:t.ActionConstructProp(e,i.value1,i.value2);break;case 73:t.ActionConstructSuper(e,i.value1);break;case 118:t.ActionConvertB(e);break;case 115:t.ActionConvertI(e);break;case 117:t.ActionConvertD(e);break;case 119:t.ActionConvertO(e);break;case 116:t.ActionConvertU(e);break;case 112:t.ActionConvertS(e);break;case 239:t.ActionDebug(e,i.value1,i.value2,i.value3,i.value4);break;case 241:t.ActionDebugFile(e,i.value1);break;case 240:t.ActionDebugLine(e);break;case 148:t.ActionDecLocal(e,i.value1);break;case 195:t.ActionDecLocalI(e,i.value1);break;case 147:t.ActionDecrement(e);break;case 193:t.ActionDecrementI(e);break;case 106:t.ActionDeleteProperty(e,i.value1);break;case 163:t.ActionDivide(e);break;case 42:t.ActionDup(e);break;case 6:t.ActionDxns(e,i.value1);break;case 7:t.ActionDxnsLate(e);break;case 171:t.ActionEquals(e);break;case 114:t.ActionEscXAttr(e);break;case 113:t.ActionEscXElem(e);break;case 94:t.ActionFindProperty(e,i.value1);break;case 93:t.ActionFindPropStrict(e,i.value1);break;case 89:t.ActionGetDescendAnts(e,i.value1);break;case 100:t.ActionGetGlobalScope(e);break;case 110:t.ActionGetGlobalsLot(e,i.value1);break;case 96:t.ActionGetLex(e,i.value1);break;case 98:t.ActionGetLocal(e,i.value1);break;case 208:t.ActionGetLocal0(e);break;case 209:t.ActionGetLocal1(e);break;case 210:t.ActionGetLocal2(e);break;case 211:t.ActionGetLocal3(e);break;case 102:t.ActionGetProperty(e,i.value1);break;case 101:t.ActionGetScopeObject(e,i.value1);break;case 108:t.ActionGetSlot(e,i.value1);break;case 4:t.ActionGetSuper(e,i.value1);break;case 176:t.ActionGreaterEquals(e);break;case 175:t.ActionGreaterThan(e);break;case 31:t.ActionHasNext(e);break;case 50:t.ActionHasNext2(e,i.value1,i.value2);break;case 18:a=t.ActionIfFalse(e,i.value1),r+=a;break;case 24:a=t.ActionIfGe(e,i.value1),r+=a;break;case 23:a=t.ActionIfGt(e,i.value1),r+=a;break;case 22:a=t.ActionIfLe(e,i.value1),r+=a;break;case 21:a=t.ActionIfLt(e,i.value1),r+=a;break;case 15:a=t.ActionIfNge(e,i.value1),r+=a;break;case 14:a=t.ActionIfNgt(e,i.value1),r+=a;break;case 13:a=t.ActionIfNle(e,i.value1),r+=a;break;case 12:a=t.ActionIfNlt(e,i.value1),r+=a;break;case 20:a=t.ActionIfNe(e,i.value1),r+=a;break;case 25:a=t.ActionIfStrictEq(e,i.value1),r+=a;break;case 26:a=t.ActionIfStrictNe(e,i.value1),r+=a;break;case 17:a=t.ActionIfTrue(e,i.value1),r+=a;break;case 180:t.ActionIn(e,i.value1);break;case 146:t.ActionIncLocal(e,i.value1);break;case 194:t.ActionIncLocalI(e,i.value1);break;case 145:t.ActionIncrement(e);break;case 192:t.ActionIncrementI(e);break;case 104:t.ActionInitProperty(e,i.value1);break;case 177:t.ActionInstanceOf(e);break;case 178:t.ActionIsType(e,i.value1);break;case 179:t.ActionIsTypeLate(e);break;case 16:a=i.value1,r+=a;break;case 8:t.ActionKill(e,i.value1);break;case 9:t.ActionLabel(e);break;case 174:t.ActionLessEquals(e);break;case 173:t.ActionLessThan(e);break;case 27:t.ActionLookupSwitch(e,i.value1,i.value1,i.value3);break;case 165:t.ActionLShift(e);break;case 164:t.ActionModulo(e);break;case 162:t.ActionMultiply(e);break;case 199:t.ActionMultiplyI(e);break;case 144:t.ActionNeGate(e);break;case 196:t.ActionNeGateI(e);break;case 87:t.ActionNewActivation(e);break;case 86:t.ActionNewArray(e,i.value1);break;case 90:t.ActionNewCatch(e,i.value1);break;case 88:t.ActionNewClass(e,i.value1);break;case 64:t.ActionNewFunction(e,i.value1);break;case 85:t.ActionNewObject(e,i.value1);break;case 30:t.ActionNextName(e);break;case 35:t.ActionNextValue(e);break;case 2:t.ActionNop(e);break;case 150:t.ActionNot(e);break;case 41:t.ActionPop(e);break;case 29:t.ActionPopScope();break;case 36:t.ActionPushByte(e,i.value1);break;case 47:t.ActionPushDouble(e,i.value1);break;case 39:t.ActionPushFalse(e,i.value1);break;case 45:t.ActionPushInt(e,i.value1);break;case 49:t.ActionPushNameSpace(e,i.value1);break;case 40:t.ActionPushNan(e);break;case 32:t.ActionPushNull(e);break;case 48:t.ActionPushScope(e);break;case 37:t.ActionPushShort(e,i.value1);break;case 44:t.ActionPushString(e,i.value1);break;case 38:t.ActionPushTrue(e);break;case 46:t.ActionPushUInt(e,i.value1);break;case 33:t.ActionPushUndefined(e);break;case 28:t.ActionPushWith(e);break;case 72:return e.pop();case 71:return;case 166:t.ActionRShift(e);break;case 99:t.ActionSetLocal(e,i.value1);break;case 212:t.ActionSetLocal0(e);break;case 213:t.ActionSetLocal1(e);break;case 214:t.ActionSetLocal2(e);break;case 215:t.ActionSetLocal3(e);break;case 111:t.ActionSetGlobalSlot(e,i.value1);break;case 97:t.ActionSetProperty(e,i.value1);break;case 109:t.ActionSetSlot(e,i.value1);break;case 5:t.ActionSetSuper(e,i.value1);break;case 172:t.ActionStrictEquals(e);break;case 161:t.ActionSubtract(e);break;case 198:t.ActionSubtractI(e);break;case 43:t.ActionSwap(e);break;case 3:t.ActionThrow(e);break;case 149:t.ActionTypeof(e);break;case 167:t.ActionURShift(e)}r+=i.offset,r+=1}},At.prototype.ActionAdd=function(t){var e=t.pop(),r=t.pop();t[t.length]=r+e},At.prototype.ActionAddI=function(t){var e=+t.pop(),r=+t.pop();t[t.length]=r+e},At.prototype.ActionAsType=function(t,e){var r=this.names[e],a=t.pop();t[t.length]=typeof a===r?!0:null},At.prototype.ActionAsTypeLate=function(t){var e=t.pop(),r=t.pop();t[t.length]=typeof e===r?!0:null},At.prototype.ActionBitAnd=function(t){var e=t.pop(),r=t.pop();t[t.length]=r&e},At.prototype.ActionBitNot=function(t){var e=t.pop();t[t.length]=~e},At.prototype.ActionBitOr=function(t){var e=t.pop(),r=t.pop();t[t.length]=r|e},At.prototype.ActionBitXOr=function(t){var e=t.pop(),r=t.pop();t[t.length]=r^e},At.prototype.ActionCall=function(t,e){for(var r=[],a=e;a--;)r[a]=t.pop();var o,n=t.pop(),i=t.pop();"function"==typeof i&&(o=i.apply(n,r)),t[t.length]=o},At.prototype.ActionCallMethod=function(t,e,r){for(var a=[],o=0;r>o;o++)a[a.length]=t.pop();var n,i=t.pop();"function"==typeof i&&(n=i.apply(this.caller,a)),t[t.length]=n},At.prototype.ActionCallProperty=function(t,e,r){for(var a=this,o=[],n=r;n--;)o[o.length]=t.pop();var i,s=a.names[e],c=t.pop();if(c){var l=null;c instanceof Et?(s in a.methods&&(l=c[s]),l||(l=c.getProperty(s))):l=c[s],l&&(i=l.apply(a.caller,o))}t[t.length]=i},At.prototype.ActionCallPropLex=function(t,e,r){for(var a=this,o=[],n=r;n--;)o[o.length]=t.pop();var i,s=a.names[e],c=t.pop();c&&(i=c[s].apply(a.getBuilder(),o)),t[t.length]=i},At.prototype.ActionCallPropVoid=function(t,e,r){for(var a=this,o=[],n=r;n--;)o[n]=t.pop();var i=t.pop(),s=a.names[e],c=s.split("::"),l=c.pop(),p=(c.pop(),i[l]);if(!p&&i instanceof qt){var g=i.getStage(),u=g.symbols[i.getCharacterId()];if(u){var f=u.split("."),v=f.pop(),h=f.length,d=g.avm2;for(n=0;h>n;n++)d=d[f[n]];if(d)for(var y=d[v];;){if(p=y[l])break;if(y=y["super"],!y||y instanceof qt)break}}}if(!p)for(;;){var b=i["super"];if(!b)break;if(b instanceof qt){i=a.caller,p=i[l];break}if(p=b[l])break;i=b}"fscommand"===l&&(i=a.stage),p&&p.apply(i,o)},At.prototype.ActionCallStatic=function(t,e,r){Y.log("ActionCallStatic");for(var a=[],o=r;o--;)a[a.length]=t.pop();var n;t.pop();t[t.length]=n},At.prototype.ActionCallSuper=function(t,e,r){for(var a=[],o=r;o--;)a[a.length]=t.pop();this.names[e],t.pop()},At.prototype.ActionCallSuperVoid=function(t,e,r){for(var a=[],o=r;o--;)a[a.length]=t.pop();this.names[e],t.pop()},At.prototype.ActionCheckFilter=function(t){var e=t.pop();t[t.length]=e},At.prototype.ActionCoerce=function(t,e){var r=(t.pop(),this.names[e]);t[t.length]=r},At.prototype.ActionCoerceA=function(t){var e=t.pop();t[t.length]=e},At.prototype.ActionCoerceS=function(t){var e=t.pop();t[t.length]=String(e)},At.prototype.ActionConstruct=function(t,e){for(var r=[],a=e;a--;)r[r.length]=t.pop();var o=t.pop();t[t.length]=o.construct.apply(o,r)},At.prototype.ActionConstructProp=function(t,e,r){for(var a=this,o=[],n=r;n--;)o[o.length]=t.pop();var i,s=a.names[e],c=t.pop(),l=a.stage,p=l.abc[s];if(p){var g=a.getBuilder(),u=new p(g);l.avm2[s]=u,u[s].apply(g,o),i=u}else i=new(Function.prototype.bind.apply(c[s],o));t[t.length]=i},At.prototype.ActionConstructSuper=function(e,r){for(var a=this,o=[],n=r;n--;)o[n]=e.pop();var i=e.pop(),s=i["__swf2js__:"+a.ns]["extends"],c=s.split("::"),l=c.pop(),p=c.pop(),g=a.stage,u=g.abc,f=g.avm2;if(p){var v=p.split("."),h=v.length;for(n=0;h>n;n++)u=u[v[n]],f=f[v[n]]}var d=null,y=u[l],b=a.getBuilder();switch(y){case qt:d=new qt,d.setStage(g),d._extend=!0;break;case te:d=new te,d.movieClip=b;break;default:y in t?d=new(Function.prototype.bind.apply(t[s],o)):(d=new y(b),f[l]=d,d[l].apply(b,o))}i["super"]=d,i["__swf2js__:"+a.ns].superClass=d},At.prototype.ActionConvertB=function(t){var e=t.pop();t[t.length]=e?!0:!1},At.prototype.ActionConvertI=function(t){var e=t.pop();t[t.length]=0|e},At.prototype.ActionConvertD=function(t){
var e=t.pop();t[t.length]=+e},At.prototype.ActionConvertO=function(t){var e=t.pop();t[t.length]="object"==typeof e?e:null},At.prototype.ActionConvertU=function(t){var e=t.pop();e=0|e,0>e&&(e*=-1),t[t.length]=e},At.prototype.ActionConvertS=function(t){var e=t.pop();t[t.length]=String(e)},At.prototype.ActionDebug=function(t,e,r,a,o){},At.prototype.ActionDebugFile=function(t,e){},At.prototype.ActionDebugLine=function(t){},At.prototype.ActionDecLocal=function(t,e){},At.prototype.ActionDecLocalI=function(t,e){},At.prototype.ActionDecrement=function(t){var e=t.pop();e-=1,t[t.length]=e},At.prototype.ActionDecrementI=function(t){var e=t.pop();e-=1,t[t.length]=e},At.prototype.ActionDeleteProperty=function(t,e){var r=this.name[e],a=t.pop();a&&(r in a?delete a[r]:Y.log("ActionDeleteProperty")),t[t.length]=!0},At.prototype.ActionDivide=function(t){var e=t.pop(),r=t.pop();t[t.length]=r/e},At.prototype.ActionDup=function(t){var e=t.pop();t[t.length]=e,t[t.length]=e},At.prototype.ActionDxns=function(t,e){},At.prototype.ActionDxnsLate=function(t){t.pop()},At.prototype.ActionEquals=function(t){var e=t.pop(),r=t.pop();t[t.length]=r==e},At.prototype.ActionEscXAttr=function(t){var e=t.pop();t[t.length]=String(e)},At.prototype.ActionEscXElem=function(t){var e=t.pop();t[t.length]=String(e)},At.prototype.ActionFindProperty=function(t,e){var r;this.names[e];t[t.length]=r},At.prototype.ActionFindPropStrict=function(t,e){var r=this,a=r.names[e],o=a.split("::"),n=o.pop(),i=o.pop(),s=null,c=r.caller;if(!c||c instanceof qt||a in c&&(s=c),!s){var l=r.AVM2;if(i){var p=i.split("."),g=p.length;if(g>1){for(var u=r.stage.avm2,f=0;g>f;f++)u=u[p[f]];l=u}}n in l&&(s=l)}if(!s){var v=r.stage.avm2;n in v&&(s=v[n])}if(!s){var h=r.getBuilder();h&&h instanceof qt&&(n in r.methods&&(s=h),void 0!==h.getProperty()&&(s=h))}t[t.length]=s},At.prototype.ActionGetDescendAnts=function(t,e){Y.log("ActionGetDescendAnts");var r;this.names[e];t[t.length]=r},At.prototype.ActionGetGlobalScope=function(t){var e=this,r=e.scopeStack;t[t.length]=r[r.length-1]},At.prototype.ActionGetGlobalsLot=function(t,e){Y.log("ActionGetGlobalsLot");var r;t[t.length]=r},At.prototype.ActionGetLex=function(t,e){var r=this,a=r.names[e];t[t.length]=r.getProperty(a)},At.prototype.ActionGetLocal=function(t,e){var r=this,a=r.args[e-1];void 0===a&&(a=r.register[e]),t[t.length]=a},At.prototype.ActionGetLocal0=function(t){t[t.length]=this.register[0]},At.prototype.ActionGetLocal1=function(t){var e=this,r=e.args[0];void 0===r&&(r=e.register[1]),t[t.length]=r},At.prototype.ActionGetLocal2=function(t){var e=this,r=e.args[1];void 0===r&&(r=e.register[2]),t[t.length]=r},At.prototype.ActionGetLocal3=function(t){var e=this,r=e.args[2];void 0===r&&(r=e.register[3]),t[t.length]=r},At.prototype.ActionGetProperty=function(t,e){var r=this,a=r.names[e];null===a&&(a=t.pop());var o,n=t.pop();n&&a&&(n instanceof Et?(a in r.methods&&(o=n[a]),o||"parent"!==a||(o=n),o||(o=n.getProperty(a))):o=n[a],void 0===o&&(o=r.getProperty(a))),t[t.length]=o},At.prototype.ActionGetScopeObject=function(t,e){var r=this.activation;e?t[t.length]=e in r?r:null:t[t.length]=r},At.prototype.ActionGetSlot=function(t,e){var r=t.pop(),a=r[e];t[t.length]=this.activation[a]},At.prototype.ActionGetSuper=function(t,e){var r;this.prop,t.pop();t[t.length]=r},At.prototype.ActionGreaterEquals=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>=e},At.prototype.ActionGreaterThan=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>e},At.prototype.ActionHasNext=function(t){var e=t.pop(),r=t.pop();e++;var a=0;if(r){var o=0;for(var n in r)if(r.hasOwnProperty(n)){if(o===e){a=e;break}o++}}t[t.length]=a},At.prototype.ActionHasNext2=function(t,e,r){var a=this,o=a.register[e],n=a.currentIndex,i=!1,s=0;if(o)for(var c in o)if(o.hasOwnProperty(c)){if(s===n){i=!0,n++;break}s++}i||(n=0),a.currentIndex=n,a.register[r]=s,t[t.length]=i},At.prototype.ActionIfFalse=function(t,e){var r=t.pop();return r===!1?e:0},At.prototype.ActionIfGe=function(t,e){var r=t.pop(),a=t.pop();return r>a?e:0},At.prototype.ActionIfGt=function(t,e){var r=t.pop(),a=t.pop();return a>r?e:0},At.prototype.ActionIfLe=function(t,e){var r=t.pop(),a=t.pop();return a>r?e:0},At.prototype.ActionIfLt=function(t,e){var r=t.pop(),a=t.pop();return r>a?e:0},At.prototype.ActionIfNge=function(t,e){var r=t.pop(),a=t.pop();return r>a?e:0},At.prototype.ActionIfNgt=function(t,e){var r=t.pop(),a=t.pop();return a>r?e:0},At.prototype.ActionIfNle=function(t,e){var r=t.pop(),a=t.pop();return a>r?e:0},At.prototype.ActionIfNlt=function(t,e){var r=t.pop(),a=t.pop();return r>a?e:0},At.prototype.ActionIfNe=function(t,e){var r=t.pop(),a=t.pop();return a==r?0:e},At.prototype.ActionIfStrictEq=function(t,e){var r=t.pop(),a=t.pop();return a===r?e:0},At.prototype.ActionIfStrictNe=function(t,e){var r=t.pop(),a=t.pop();return a===r?0:e},At.prototype.ActionIfTrue=function(t,e){var r=t.pop();return r===!0?e:0},At.prototype.ActionIn=function(t){var e=t.pop(),r=t.pop();t[t.length]=r in e},At.prototype.ActionIncLocal=function(t,e){this.register[e]+=1},At.prototype.ActionIncLocalI=function(t,e){this.register[e]+=1},At.prototype.ActionIncrement=function(t){var e=t.pop();e++,t[t.length]=e},At.prototype.ActionIncrementI=function(t){var e=t.pop();e++,t[t.length]=e},At.prototype.ActionInitProperty=function(t,e){var r=t.pop(),a=this.names[e],o=t.pop();o&&(o instanceof Et?o.setProperty(a,r):o[a]=r)},At.prototype.ActionInstanceOf=function(t){var e=t.pop(),r=t.pop();t[t.length]=r instanceof e},At.prototype.ActionIsType=function(t,e){var r=t.pop(),a=this.name[e];t[t.length]=r==a},At.prototype.ActionIsTypeLate=function(t){var e=t.pop(),r=t.pop();t[t.length]=r==e},At.prototype.ActionKill=function(t,e){delete this.register[e]},At.prototype.ActionLabel=function(t){},At.prototype.ActionLessEquals=function(t){var e=t.pop(),r=t.pop();t[t.length]=e>=r},At.prototype.ActionLessThan=function(t){var e=t.pop(),r=t.pop();t[t.length]=e>r},At.prototype.ActionLookupSwitch=function(t,e,r,a){t.pop()},At.prototype.ActionLShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=r<<e},At.prototype.ActionModulo=function(t){var e=t.pop(),r=t.pop();t[t.length]=r%e},At.prototype.ActionMultiply=function(t){var e=t.pop(),r=t.pop();t[t.length]=r*e},At.prototype.ActionMultiplyI=function(t){var e=t.pop(),r=t.pop();t[t.length]=r*e},At.prototype.ActionNeGate=function(t){var e=t.pop();t[t.length]=-e},At.prototype.ActionNeGateI=function(t){var e=t.pop();t[t.length]=-e},At.prototype.ActionNewActivation=function(t){for(var e=this,r=e.body.trait,a=r.length,o=new St,n=0;a>n;n++){var i=r[n],s=i.kind;switch(s){case 0:o[n+1]=e.names[i.name]}}e.activation=o,t[t.length]=o},At.prototype.ActionNewArray=function(t,e){for(var r=[],a=e;a--;)r[a]=t.pop();t[t.length]=r},At.prototype.ActionNewCatch=function(t,e){var r;t[t.length]=r},At.prototype.ActionNewClass=function(t,e){var r=t.pop(),a=this.data,o=a["class"][e];o.cinit;t[t.length]=r},At.prototype.ActionNewFunction=function(t,e){t[t.length]=function(t,e){return function(){var r=new At(t.data,e,t.ns,t.stage);return r.caller=this,r.parent=t,r.args=arguments,r.execute()}}(this,e)},At.prototype.ActionNewObject=function(t,e){for(var r={},a=e;a--;){var o=t.pop(),n=t.pop();r[n]=o}t[t.length]=r},At.prototype.ActionNextName=function(t){var e,r=+t.pop(),a=t.pop();if(a){var o=0;for(var n in a)if(a.hasOwnProperty(n)){if(o===r){e=n;break}o++}}t[t.length]=e},At.prototype.ActionNextValue=function(t){var e;t.pop(),t.pop();t[t.length]=e},At.prototype.ActionNop=function(t){},At.prototype.ActionNot=function(t){var e=t.pop();t[t.length]=!e},At.prototype.ActionPop=function(t){t.pop()},At.prototype.ActionPopScope=function(){this.scopeStack.pop()},At.prototype.ActionPushByte=function(t,e){t[t.length]=0|e},At.prototype.ActionPushDouble=function(t,e){var r=this.data,a=r["double"],o=a[e];t[t.length]=+o},At.prototype.ActionPushFalse=function(t){t[t.length]=!1},At.prototype.ActionPushInt=function(t,e){var r=this.data,a=r.integer,o=a[e];t[t.length]=+o},At.prototype.ActionPushNameSpace=function(t,e){var r=this.data,a=r.names,o=a[e];t[t.length]=+o},At.prototype.ActionPushNan=function(t){t[t.length]=NaN},At.prototype.ActionPushNull=function(t){t[t.length]=null},At.prototype.ActionPushScope=function(t){var e=t.pop();if(e){var r=this.scopeStack;r[r.length]=e}},At.prototype.ActionPushShort=function(t,e){t[t.length]=e},At.prototype.ActionPushString=function(t,e){var r=this.data,a=r.string;t[t.length]=""+a[e]},At.prototype.ActionPushTrue=function(t){t[t.length]=!0},At.prototype.ActionPushUInt=function(t,e){var r=this.data,a=r.uinteger;t[t.length]=a[e]},At.prototype.ActionPushUndefined=function(t){t[t.length]=void 0},At.prototype.ActionPushWith=function(t){t.pop()},At.prototype.ActionRShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>>e},At.prototype.ActionSetLocal=function(t,e){this.register[e]=t.pop()},At.prototype.ActionSetLocal0=function(t){this.register[0]=t.pop()},At.prototype.ActionSetLocal1=function(t){this.register[1]=t.pop()},At.prototype.ActionSetLocal2=function(t){this.register[2]=t.pop()},At.prototype.ActionSetLocal3=function(t){this.register[3]=t.pop()},At.prototype.ActionSetGlobalSlot=function(t,e){t.pop()},At.prototype.ActionSetProperty=function(t,e){var r=this,a=t.pop(),o=r.names[e],n=t.pop();if(n)if(n instanceof Et)o in r.methods?n[o]=a:Y.log("ActionSetProperty",o);else if(o in n)n[o]=a;else{var i=r.getBuilder(),s=r.caller;s instanceof qt&&(i=s),i instanceof Et&&(o in r.methods?i[o]=a:n[o]=a)}},At.prototype.ActionSetSlot=function(t,e){var r=t.pop(),a=t.pop(),o=a[e];this.activation[o]=r},At.prototype.ActionSetSuper=function(t,e){t.pop(),this.names[e],t.pop()},At.prototype.ActionStrictEquals=function(t){var e=t.pop(),r=t.pop();t[t.length]=r===e},At.prototype.ActionSubtract=function(t){var e=t.pop(),r=t.pop();t[t.length]=r-e},At.prototype.ActionSubtractI=function(t){var e=+t.pop(),r=+t.pop();t[t.length]=r-e},At.prototype.ActionSwap=function(t){var e=t.pop(),r=t.pop();t[t.length]=e,t[t.length]=r},At.prototype.ActionThrow=function(t){var e=t.pop();Y.log(e)},At.prototype.ActionTypeof=function(t){var e=t.pop();t[t.length]=typeof e},At.prototype.ActionURShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=e>>r};var It=function(t,e,r,a){var o=this;o.cache=[],o.params=[],o.constantPool=e||[],o.register=r||[],o.variables={},o.initAction=a?!0:!1,o.scope=null,o.parent=null,o.arg=null,o.version=7,o.superClass=null,t.length&&o.initialize(t),o.initParam()};It.prototype.reset=function(){var t=this;t.arg=null,t.variables={},t.initParam()},It.prototype.initParam=function(){for(var t=this,e=t.register,r=e.length,a=[],o=0;r>o;o++){var n=e[o];null===n.name?a[n.register]=n.value:a[n.register]=n.name}t.params=a},It.prototype.initVariable=function(t){var e=this;e.arg=t;for(var r=e.register,a=r.length,o=e.variables,n=0,i=0;a>i;i++){var s=r[i];null!==s.name&&(o[s.name]=t[n++])}e.variables=o,e.initParam()},It.prototype.getSuperClass=function(){var t=this,e=t.superClass;if(!e){var r=t.parent;r&&(e=r.getSuperClass())}return e},It.prototype.setVariable=function(t,e){var r=this,a=!1;if(t in r.variables&&(r.variables[t]=e,a=!0),!a){var o=r.parent;o&&(a=o.setVariable(t,e))}return a},It.prototype.getVariable=function(t){var e,r,a=this;switch(t){case"this":e=a.variables["this"];break;case"arguments":e=a.arg;break;default:e=a.variables[t],void 0===e&&(r=a.parent,r&&(e=r.getVariable(t)))}return e},It.prototype.valueToString=function(t){return"string"!=typeof t&&(t+=""),t},It.prototype.stringToObject=function(t,e){var r=this.getVariable(t);return void 0===r&&(r=e.getProperty(t)),r},It.prototype.initialize=function(t){var e,r,a,o,n,i=this,s=!1,c={},l=0,p=0,g=[],u=[],f=0,v=new yt;v.setData(t);var h=new yt,d=t.length;for(i.initParam();v.byte_offset<d;){var y=v.byte_offset;if(c={},f&&f===v.byte_offset)f=0,c.actionCode=148,c.Size=0,g[g.length]=c;else{var b=v.getUI8();c.actionCode=b;var m=null;switch(b>=128&&(n=v.getUI16(),m=v.getData(n),h.setData(m),h.setOffset(0,0)),b){case 129:c.frame=(0|h.getUI16())+1;break;case 138:c.frame=h.getUI16(),c.skipCount=h.getUI8();break;case 139:c.targetName=h.getDataUntil("\x00");break;case 140:c.label=h.getDataUntil("\x00");break;case 131:var S=m.length-1,A=[[]];for(p=0,l=0;S>l;l++){var I=k(m[l]);0!==m[l]?A[p]+=I:(p++,A[p]=[])}var C=A[0];if("string"==typeof C){var x=C.split("?");if(2 in x){C=x[0],C+="?"+x[1];var T=x.length;for(l=2;T>l;l++)C+="&"+x[l]}}c.url=C,c.target=A[1];break;case 150:for(a=[];h.byte_offset<n;){var M=h.getUI8();switch(M){case 0:a[a.length]=String(h.getDataUntil("\x00"));break;case 1:a[a.length]=h.getFloat32();break;case 2:a[a.length]=null;break;case 3:a[a.length]=void 0;break;case 4:a[a.length]={key:h.getUI8()};break;case 5:a[a.length]=h.getUI8()?!0:!1;break;case 6:a[a.length]=h.getFloat64();break;case 7:a[a.length]=h.getUI32();break;case 8:a[a.length]=i.constantPool[h.getUI8()];break;case 9:a[a.length]=i.constantPool[h.getUI16()]}}c.values=a;break;case 157:c.offset=v.byte_offset+v.toSI16LE(m);break;case 153:c.offset=v.byte_offset+v.toSI16LE(m);break;case 154:c.LoadVariablesFlag=h.getUIBits(1),c.LoadTargetFlag=h.getUIBits(1),h.getUIBits(4),c.SendVarsMethod=h.getUIBits(2);break;case 159:h.getUIBits(6),c.SceneBiasFlag=h.getUIBit(),c.PlayFlag=h.getUIBit(),1===c.SceneBiasFlag&&(c.SceneBias=h.getUI16());break;case 141:c.skipCount=h.getUI8();break;case 136:var F=h.getUI16(),B=[];if(F>0)for(;F--;)B[B.length]=h.getDataUntil("\x00");c.constantPool=B,i.constantPool=B;break;case 155:if(c.FunctionName=h.getDataUntil("\x00"),o=h.getUI16(),r=[],o>0)for(p=1;o--;)r[r.length]={register:p,name:h.getDataUntil("\x00"),value:null};e=v.getData(h.getUI16()),c.ActionScript=new It(e,i.constantPool,r,i.initAction);break;case 148:c.Size=h.getUI16(),f=c.Size+v.byte_offset;break;case 135:c.RegisterNumber=h.getUI8();break;case 142:r=[],a=[],c.FunctionName=h.getDataUntil("\x00"),o=h.getUI16();var U=h.getUI8();for(c.PreloadParentFlag=h.getUIBits(1),c.PreloadRootFlag=h.getUIBits(1),c.SuppressSuperFlag=h.getUIBits(1),c.PreloadSuperFlag=h.getUIBits(1),c.SuppressArgumentsFlag=h.getUIBits(1),c.PreloadArgumentsFlag=h.getUIBits(1),c.SuppressThisFlag=h.getUIBits(1),c.PreloadThisFlag=h.getUIBits(1),h.getUIBits(7),c.PreloadGlobalFlag=h.getUIBits(1),c.PreloadThisFlag&&(a[a.length]="this"),c.PreloadArgumentsFlag&&(a[a.length]="arguments"),c.PreloadSuperFlag&&(a[a.length]="super"),c.PreloadRootFlag&&(a[a.length]="_root"),c.PreloadParentFlag&&(a[a.length]="_parent"),c.PreloadGlobalFlag&&(a[a.length]="_global"),p=1;U>p;p++){var w=p-1;w in a&&(r[r.length]={register:p,name:null,value:a[w]})}if(o>0)for(;o--;){var _=h.getUI8(),Y=h.getDataUntil("\x00");r[r.length]={register:_,name:Y,value:null}}e=v.getData(h.getUI16()),c.ActionScript=new It(e,i.constantPool,r,i.initAction);break;case 143:h.getUIBits(5);var P=h.getUIBits(1);c.FinallyBlockFlag=h.getUIBits(1),c.CatchBlockFlag=h.getUIBits(1);var O,D=h.getUI16(),X=h.getUI16(),L=h.getUI16();O=P?h.getUI8():h.getDataUntil("\x00"),l=0;var E=[];if(D)for(;D;)E[E.length]=v.getUI8(),D--;if(c["try"]=function(t){var e=new It(t);return function(){return e.reset(),e.variables["this"]=this,e.execute(this)}}(E),c.CatchBlockFlag){var R=[];if(X)for(;X;)R[R.length]=v.getUI8(),X--;c["catch"]=function(t,e){var r=new It(t);return function(){return r.reset(),r.variables["this"]=this,r.variables[e]=arguments[0],r.execute(this)}}(R,O)}if(c.FinallyBlockFlag){var H=[];if(L)for(;L;)H[H.length]=v.getUI8(),L--;c["finally"]=function(t){var e=new It(t);return function(){return e.reset(),e.variables["this"]=this,e.execute(this)}}(H)}break;case 0:s=!0}if(u[y]=g.length,g[g.length]=c,s)break}}var N=g.length;for(l=0;N>l;l++){c=g[l];var j=c.actionCode;if(157===j||153===j){var G=u[c.offset];void 0!==G?c.offset=G-1:c.offset=g.length-1}}i.cache=g},It.prototype.calc=function(t){var e;switch(typeof t){case"boolean":e=t?1:0;break;case"object":null===t?e=0:t instanceof Array?e=t.length:t instanceof Object&&(e=1);break;default:e=+t}return T(e)&&(e=0),e},It.prototype.logicValue=function(t){var e;switch(typeof t){case"boolean":e=t?1:0;break;case"object":null===t?e=0:t instanceof Array?e=t.length:t instanceof Object&&(e=1);break;case"string":e=""===t?0:1;break;case"function":e=1;break;default:e=+t,T(e)&&(e=0)}return e},It.prototype.operationValue=function(t){var e=+t.pop();return T(e)&&(e=0),e},It.prototype.execute=function(t){var e=this,r=e.scope,a=r instanceof qt?r:t;if(a.active){var o=a.getStage();o&&(e.version=o.getVersion());for(var n=[],i=e.cache,s=i.length,c=0;s>c;)if(c in i){var l=i[c],p=l.actionCode;if(0===p)break;switch(p){case 129:e.ActionGotoFrame(a,l.frame);break;case 4:e.ActionNextFrame(a);break;case 5:e.ActionPreviousFrame(a);break;case 6:e.ActionPlay(a);break;case 7:e.ActionStop(a);break;case 8:case 138:break;case 9:e.ActionStopSounds(a);break;case 139:a=e.ActionSetTarget(a,t,l.targetName);break;case 140:e.ActionGoToLabel(a,l.label);break;case 131:e.ActionGetURL(a,l.url,l.target);break;case 10:e.ActionOperation(n,0);break;case 11:e.ActionOperation(n,1);break;case 12:e.ActionOperation(n,2);break;case 13:e.ActionOperation(n,3);break;case 14:e.ActionEquals(n);break;case 15:e.ActionLess(n);break;case 16:e.ActionAnd(n);break;case 17:e.ActionOr(n);break;case 18:e.ActionNot(n);break;case 19:e.ActionStringEquals(n);break;case 20:case 49:e.ActionStringLength(n);break;case 33:e.ActionStringAdd(n);break;case 21:case 53:e.ActionStringExtract(n);break;case 41:e.ActionStringLess(n);break;case 23:n.pop();break;case 150:e.ActionPush(n,a,l.values);break;case 51:case 55:e.ActionAsciiToChar(n);break;case 54:case 50:e.ActionCharToAscii(n);break;case 24:e.ActionToInteger(n);break;case 158:e.ActionCall(n,a);break;case 157:c=e.ActionIf(n,l.offset,c);break;case 153:c=l.offset;break;case 28:e.ActionGetVariable(n,a);break;case 29:e.ActionSetVariable(n,a);break;case 154:e.ActionGetURL2(n,l,a);break;case 34:e.ActionGetProperty(n,a);break;case 159:e.ActionGoToFrame2(n,l,a);break;case 32:a=e.ActionSetTarget2(n,a,t);break;case 35:e.ActionSetProperty(n,a);break;case 39:e.ActionStartDrag(n,a);break;case 141:n.pop();break;case 36:e.ActionCloneSprite(n,a);break;case 37:e.ActionRemoveSprite(n,a);break;case 40:e.ActionEndDrag(a);break;case 52:e.ActionGetTime(n);break;case 48:e.ActionRandomNumber(n);break;case 38:e.ActionTrace(n);break;case 0:break;case 45:e.ActionFsCommand2(n,a);break;case 82:e.ActionCallMethod(n,a);break;case 136:e.constantPool=l.constantPool;break;case 61:e.ActionCallFunction(n,a);break;case 155:e.ActionDefineFunction(n,l,a);break;case 60:e.ActionDefineLocal(n,a);break;case 65:e.ActionDefineLocal2(n,a);break;case 58:e.ActionDelete(n,a);break;case 59:e.ActionDelete2(n,a);break;case 70:e.ActionEnumerate(n,a);break;case 73:e.ActionEquals2(n);break;case 78:e.ActionGetMember(n,a);break;case 66:e.ActionInitArray(n);break;case 67:e.ActionInitObject(n);break;case 83:e.ActionNewMethod(n,a);break;case 64:e.ActionNewObject(n,a);break;case 79:e.ActionSetMember(n,a);break;case 69:e.ActionTargetPath(n);break;case 148:a=e.ActionWith(n,l.Size,t);break;case 74:e.ActionToNumber(n);break;case 75:e.ActionToString(n);break;case 68:e.ActionTypeOf(n);break;case 71:e.ActionAdd2(n);break;case 72:e.ActionLess2(n);break;case 63:e.ActionModulo(n);break;case 96:e.ActionBitAnd(n);break;case 99:e.ActionBitLShift(n);break;case 97:e.ActionBitOr(n);break;case 100:e.ActionBitRShift(n);break;case 101:e.ActionBitURShift(n);break;case 98:e.ActionBitXor(n);break;case 81:e.ActionDecrement(n);break;case 80:e.ActionIncrement(n);break;case 76:e.ActionPushDuplicate(n);break;case 62:return n.pop();case 77:e.ActionStackSwap(n);break;case 135:e.ActionStoreRegister(n,l.RegisterNumber);break;case 84:e.ActionInstanceOf(n);break;case 85:e.ActionEnumerate(n,a);break;case 102:e.ActionStrictEquals(n);break;case 103:case 104:e.ActionGreater(n);break;case 142:e.ActionDefineFunction(n,l,a);break;case 105:e.ActionExtends(n);break;case 43:e.ActionCastOp(n);break;case 44:e.ActionImplementsOp(n);break;case 143:e.ActionTry(l,a);break;case 42:e.ActionThrow(n);break;default:Y.log("[ActionScript Error] Code: "+p)}c++}else c++}},It.prototype.methods={gotoandstop:"gotoAndStop",gotoandplay:"gotoAndPlay",play:"play",stop:"stop",duplicatemovieclip:"duplicateMovieClip",getproperty:"getProperty",removemovieclip:"removeMovieClip",setproperty:"setProperty",startdrag:"startDrag",stopdrag:"stopDrag",targetpath:"targetPath",updateafterevent:"updateAfterEvent",nextframe:"nextFrame",nextscene:"nextScene",prevframe:"prevFrame",prevscene:"prevScene",stopallsounds:"stopAllSounds",setmask:"setMask",geturl:"getURL",loadmovie:"loadMovie",loadmovienum:"loadMovieNum",loadvariables:"loadVariables",loadvariablesnum:"loadVariablesNum",unloadmovie:"unloadMovie",unloadmovienum:"unloadMovieNum",swapdepths:"swapDepths",getinstanceatdepth:"getInstanceAtDepth",attachmovie:"attachMovie",attachaudio:"attachAudio",attachbitmap:"attachBitmap",getnexthighestdepth:"getNextHighestDepth",getbytesloaded:"getBytesLoaded",getbytestotal:"getBytesTotal",assetpropflags:"ASSetPropFlags",linestyle:"lineStyle",linegradientstyle:"lineGradientStyle",beginfill:"beginFill",begingradientfill:"beginGradientFill",beginbitmapfill:"beginBitmapFill",clear:"clear",moveto:"moveTo",lineto:"lineTo",curveto:"curveTo",endfill:"endFill",hittest:"hitTest",getdepth:"getDepth",createemptymovieclip:"createEmptyMovieClip",createtextfield:"createTextField",getbounds:"getBounds",getrect:"getRect",getswfversion:"getSWFVersion",gettextsnapshot:"getTextSnapshot",globaltolocal:"globalToLocal",localtoglobal:"localToGlobal"},It.prototype.checkMethod=function(t){if(!t||"string"!=typeof t)return t;var e=t.toLowerCase();return this.methods[e]||null},It.prototype.ActionGotoFrame=function(t,e){t instanceof qt&&(t.stop(),t.setNextFrame(e))},It.prototype.ActionNextFrame=function(t){t instanceof qt&&t.nextFrame()},It.prototype.ActionPreviousFrame=function(t){t instanceof qt&&t.prevFrame()},It.prototype.ActionPlay=function(t){t instanceof qt&&t.play()},It.prototype.ActionStop=function(t){t instanceof qt&&t.stop()},It.prototype.ActionStopSounds=function(t){t instanceof qt&&t.stopAllSounds()},It.prototype.ActionSetTarget=function(t,e,r){if(""!==r){var a=t;return a||(a=e),a.getDisplayObject(r)}return e.active?e:void 0},It.prototype.ActionGoToLabel=function(t,e){if(t instanceof qt){var r=t.getLabel(e);t.stop(),"number"==typeof r&&r&&t.setNextFrame(r)}},It.prototype.ActionGetURL=function(t,e,r){t instanceof qt&&t.getURL(e,r)},It.prototype.ActionOperation=function(t,e){var r,a=this,o=a.operationValue(t),n=a.operationValue(t);switch(e){case 0:r=n+o;break;case 1:r=n-o;break;case 2:r=n*o;break;case 3:r=n/o}t[t.length]=r},It.prototype.ActionEquals=function(t){var e=this,r=e.calc(t.pop()),a=e.calc(t.pop());e.version>4?t[t.length]=r===a:t[t.length]=r===a?1:0},It.prototype.ActionLess=function(t){var e=this,r=e.calc(t.pop()),a=e.calc(t.pop());e.version>4?t[t.length]=r>a:t[t.length]=r>a?1:0},It.prototype.ActionAnd=function(t){var e=this,r=t.pop(),a=t.pop();e.version>4?(r=e.logicValue(r),a=e.logicValue(a),t[t.length]=0!==r&&0!==a):(r=e.calc(r),a=e.calc(a),t[t.length]=0!==r&&0!==a?1:0)},It.prototype.ActionOr=function(t){var e=this,r=t.pop(),a=t.pop();e.version>4?(r=e.logicValue(r),a=e.logicValue(a),t[t.length]=0!==r||0!==a):(r=e.calc(r),a=e.calc(a),t[t.length]=0!==r||0!==a?1:0)},It.prototype.ActionNot=function(t){var e=this,r=t.pop();e.version>4?(r=e.logicValue(r),t[t.length]=0===r):(r=e.calc(r),t[t.length]=0===r?1:0)},It.prototype.ActionStringEquals=function(t){var e=t.pop(),r=t.pop();e instanceof qt?e=e.getTarget():e+="",r instanceof qt?r=r.getTarget():r+="",this.version>4?t[t.length]=r===e:t[t.length]=r===e?1:0},It.prototype.ActionStringLength=function(t){var e=t.pop();e=this.valueToString(e);for(var r=0,a=e.length,o=0;a>o;o++,r++){var n=e.charCodeAt(o);255>n||r++}t[t.length]=r},It.prototype.ActionStringAdd=function(t){var e=t.pop(),r=t.pop();(null===e||void 0===e)&&(e=""),(null===r||void 0===r)&&(r=""),t[t.length]=r+""+e},It.prototype.ActionStringExtract=function(t){var e=t.pop(),r=t.pop(),a=t.pop();a=this.valueToString(a),r--,0>r&&(r=0),t[t.length]=0>e?a.substr(r):a.substr(r,e)},It.prototype.ActionStringLess=function(t){var e=t.pop(),r=t.pop();this.version>4?t[t.length]=e>r:t[t.length]=e>r?1:0},It.prototype.ActionPush=function(t,e,r){for(var a=this,o=r.length,n=a.params,i=0;o>i;i++){var s=r[i];if(s instanceof Object){var c=s.key;if(s=void 0,c in n){var l=n[c];"string"==typeof l?(s=a.getVariable(l),void 0!==s||l in a.variables||(s=l)):s=l}}t[t.length]=s}},It.prototype.ActionAsciiToChar=function(t){var e=t.pop();t[t.length]=k(e)},It.prototype.ActionCharToAscii=function(t){var e=t.pop();e=this.valueToString(e),t[t.length]=e.charCodeAt(0)},It.prototype.ActionToInteger=function(t){var e=t.pop();t[t.length]=0|e},It.prototype.ActionCall=function(t,e){var r=t.pop();if(e){r=this.valueToString(r);var a,o=r.split(":"),n=o[0],i=e;o.length>1&&(i=e.getDisplayObject(o[0]),n=o[1]),i instanceof qt&&(a="number"==typeof n?n:i.getLabel(n),i.executeActions(a))}},It.prototype.ActionIf=function(t,e,r){var a=t.pop();switch(typeof a){case"boolean":break;case"string":T(a)||(a=+a)}return a?e:r},It.prototype.ActionGetVariable=function(t,e){var r,a=this,o=t.pop();o instanceof qt?r=o:(r=a.getNativeClass(o),void 0===r&&(r=a.getVariable(o),void 0===r&&e&&(r=e.getProperty(o)))),t[t.length]=r},It.prototype.ActionSetVariable=function(t,e){var r=t.pop(),a=t.pop();this.setVariable(a,r)||e.setProperty(a,r)},It.prototype.ActionGetURL2=function(t,e,r){var a=t.pop(),o=t.pop(),n=e.LoadVariablesFlag,i=e.LoadTargetFlag,s=e.SendVarsMethod,c="GET";2===s&&(c="POST");var l;if(r instanceof qt)if(o){o=this.valueToString(o);var p=o.split("?"),g=p.length,u="";if(1===g&&(u="?"),g>2){l=p[0]+"?",l+=p[1];for(var f=2;g>f;f++){var v=p[f];l=l+"&"+v}}else l=o;if(s){var h=r.variables,d="";for(var y in h)if(h.hasOwnProperty(y)){var b=h[y];if(null===b&&(b=""),"string"!=typeof b){var m=typeof b;m=m.replace(/^[a-z]/g,function(t){return t.toUpperCase()}),b="%5Btype+"+m+"%5D"}d+="&"+y+"="+b}""!==u&&""!==d&&(d=u+d.slice(1)),l+=d}n?r.loadVariables(l,a,c):i?a instanceof qt?a.loadMovie(l,null,s):r.loadMovie(l,a,s):r.getURL(l,a,c)}else r.unloadMovie(a)},It.prototype.ActionGetProperty=function(t,e){var r=t.pop(),a=t.pop();T(r)||(r=l(r));var o=this,n=o.getVariable(r);if(void 0===n&&e){var i=e;a&&("string"!=typeof a&&(a+=""),i=e.getDisplayObject(a)),i instanceof qt&&(n=i.getProperty(r))}t[t.length]=n},It.prototype.ActionGoToFrame2=function(t,e,r){var a=e.SceneBiasFlag,o=e.PlayFlag;if(1===a){var n=e.SceneBias;Y.log("SceneBias",n)}var i=t.pop();if(i&&r){if(T(i)){var s=i.split(":");if(s.length>1){var c=r.getDisplayObject(s[0]);c&&(i=c.getLabel(s[1]))}else i=r.getLabel(s[0])}"string"==typeof i&&(i|=0),"number"==typeof i&&i>0&&(r.setNextFrame(i),o?r.play():r.stop())}},It.prototype.ActionSetTarget2=function(t,e,r){var a=t.pop();return e||(e=r),e.getDisplayObject(a)},It.prototype.ActionSetProperty=function(t,e){var r=t.pop(),a=t.pop(),o=t.pop();if(T(a)||(a=l(a)),e){var n=e;void 0!==o&&(n=e.getDisplayObject(o)),n instanceof qt&&n.setProperty(a,r)}},It.prototype.ActionStartDrag=function(t,e){var r=t.pop(),a=t.pop(),o=t.pop(),n=null,i=null,s=null,c=null;o&&(n=t.pop(),i=t.pop(),s=t.pop(),c=t.pop());var l=e;r instanceof qt&&(l=r),"string"==typeof r&&r&&(l=e.getDisplayObject(r)),l instanceof qt&&l.startDrag(a,c,s,i,n)},It.prototype.ActionCloneSprite=function(t,e){var r=+t.pop(),a=t.pop(),o=t.pop();e&&e.duplicateMovieClip(a,o,r)},It.prototype.ActionRemoveSprite=function(t,e){var r=t.pop();e&&e.removeMovieClip(r)},It.prototype.ActionEndDrag=function(t){t&&t.stopDrag()},It.prototype.ActionGetTime=function(t){var e=new Date;t[t.length]=e.getTime()-j.getTime()},It.prototype.ActionRandomNumber=function(t){var e=t.pop();t[t.length]=l(u()*e)},It.prototype.ActionTrace=function(t){var e=t.pop();e instanceof Et&&e.removeFlag&&(e=""),e&&"object"==typeof e&&("callee"in e&&(e=Array.prototype.slice.call(e)),e=e.toString()),Y.log("[trace] "+e)},It.prototype.ActionFsCommand2=function(t,e){t.pop();var r=t.pop(),a=new Date;switch(r.toLowerCase()){case"getdateyear":t[t.length]=a.getFullYear();break;case"getdatemonth":t[t.length]=a.getMonth()+1;break;case"getdateday":t[t.length]=a.getDate();break;case"getdateweekday":t[t.length]=a.getDay();break;case"gettimehours":t[t.length]=a.getHours();break;case"gettimeminutes":t[t.length]=a.getMinutes();break;case"gettimeseconds":t[t.length]=a.getSeconds();break;case"startvibrate":t.pop(),t.pop(),t.pop(),t[t.length]=-1;break;case"gettimezoneoffset":e.setVariable(t.pop(),a.toUTCString()),e.setVariable(t.pop(),0);break;case"getlocalelongdate":e.setVariable(t.pop(),a.toLocaleDateString()),e.setVariable(t.pop(),0);break;case"getlocaleshortdate":e.setVariable(t.pop(),a.toDateString()),e.setVariable(t.pop(),0);break;case"getlocaletime":e.setVariable(t.pop(),a.toLocaleTimeString()),e.setVariable(t.pop(),0);break;case"getnetworkname":case"getdevice":case"getdeviceid":e.setVariable(t.pop(),""),e.setVariable(t.pop(),-1);break;case"getlanguage":var o=G.userLanguage||G.language||G.browserLanguage||"ja-JP";e.setVariable(t.pop(),o),e.setVariable(t.pop(),0);break;case"setsoftkeys":t.pop(),t.pop(),t[t.length]=-1;break;case"fullscreen":t.pop(),t[t.length]=-1;break;case"setquality":case"getfreestagememory":case"gettotalstagememory":t.pop(),t[t.length]=-1;break;default:t[t.length]=-1}},It.prototype.ActionCallMethod=function(e,r){var a=this,o=e.pop(),n=e.pop(),i=+e.pop(),s=[];if(i>0)for(;i;){i--;var c=e.pop();c&&"object"==typeof c&&"callee"in c&&(c=Array.prototype.slice.call(c)),s[s.length]=c}if("string"==typeof n&&void 0===n[o]){var l=a.stringToObject(n,r);if(l&&(n=l),"super"===n){var p=a.variables["this"],g=a.getSuperClass();if(!o&&g){var u=new g;switch(g){case qt:var f=r.getStage();u.setStage(f),u.setParent(r),u._extend=!0}var v=Object.getPrototypeOf(p);v.constructor=g,Object.setPrototypeOf(v,u),Object.setPrototypeOf(p,v)}else n=p}}var h;if(n&&o){var d;if("object"==typeof n){var y=n.variables;y&&(d=y[o],!d&&y.registerClass&&(d=y.registerClass[o]))}if(!d){var b=a.checkMethod(o);b&&(d=n[b])}if(d||(d=n[o]),!d&&n instanceof qt&&(d=n.getVariable(o)),!d&&n instanceof ie&&(d=t[o],d&&(s=a.ActionNativeFunction(s,r),n=t)),("call"===o||"apply"===o)&&(d=n,n=s.shift(),"apply"===o)){var m=s.shift();s=[],m&&(s=Array.prototype.slice.call(m))}if(d&&"function"==typeof d){switch(!0){case n instanceof Jt:if("loadClip"===o&&"string"==typeof s[1]){var S=s[1];s[1]=r.getDisplayObject(S)}}h=d.apply(n,s)}if(!d&&n instanceof Object&&"string"==typeof o)switch(o.toLowerCase()){case"registerclass":h=!1;var A=r.getDisplayObject("_root"),I=A.getStage(),C=I.exportAssets[s[0]];C&&(I.registerClass[C]=s[1],h=!0);break;case"addproperty":a.addProperty(n,s)}}else o||"function"!=typeof n||(h=n.apply(a.variables["this"],s));e[e.length]=h},It.prototype.addProperty=function(t,e){var r=e[0];if("string"!=typeof r||""===r)return!1;var a=e[1];a||(a=function(){});var o=e[2];return o||(o=function(){}),"function"!=typeof a||"function"!=typeof o?!1:(Object.defineProperty(t,r,{get:a,set:o}),!0)},It.prototype.ActionNativeFunction=function(t,e){var r=e,a=t;if(t[0]instanceof qt&&(r=t.shift(),t.length>0)){var o,n=t.shift();if("string"==typeof n&&(o=this.getVariable(n),"function"!=typeof o&&(o=r.getVariable(n))),"function"==typeof o){var i=t.shift(),s=function(t,e,r){return function(){t.apply(e,r)}}(o,r,t);a=[],a[a.length]=s,a[a.length]=i}else Y.log("DEBUG: ",a),t.unshift(n),a=t}return a},It.prototype.ActionCallFunction=function(e,r){var a=this,o=e.pop(),n=+e.pop(),i=[];if(n>0)for(;n;){n--;var s=e.pop();s&&"object"==typeof s&&"callee"in s&&(s=Array.prototype.slice.call(s)),i[i.length]=s}if(r){var c,l=r,p=a.checkMethod(o);if(p)c=r[p];else if(c=r.variables[o],!c){var g=r.variables.registerClass;g&&"object"==typeof g&&(c=g[o]),c||(t[o]?(l=t,i=a.ActionNativeFunction(i,r),c=t[o]):c=r.getVariable(o))}e[e.length]=c?c.apply(l,i):void 0}},It.prototype.ActionDefineFunction=function(t,e,r){var a=r.createActionScript2(e.ActionScript,this),o=e.FunctionName;""!==o?r.setVariable(o,a):t[t.length]=a},It.prototype.ActionDefineLocal=function(t,e){var r=this,a=t.pop(),o=t.pop();r.parent?r.variables[o]=a:e.setVariable(o,a);
},It.prototype.ActionDefineLocal2=function(t,e){var r=this,a=t.pop();r.parent?r.variables[a]=void 0:e.setVariable(a,void 0)},It.prototype.ActionDelete=function(t,e){var r=t.pop(),a=t.pop();if("string"==typeof a){var o=this.stringToObject(a,e);o&&(a=o)}a instanceof qt&&a.setVariable(r,void 0)},It.prototype.ActionDelete2=function(t,e){var r=t.pop();e&&e.setVariable(r,void 0)},It.prototype.ActionEnumerate=function(t,e){var r=t.pop();if(t[t.length]=null,"string"==typeof r&&(r=this.stringToObject(r,e)),r instanceof Object){var a;switch(!0){case r instanceof Et:var o=r.getTags(),n=r.getStage();for(a in o)if(o.hasOwnProperty(a)){var i=o[a],s=n.getInstance(i),c="instance"+i;s.getName()&&(c=s.getName()),t[t.length]=c}var l=r.variables;for(a in l)l.hasOwnProperty(a)&&(t[t.length]=a);break;default:for(a in r)r.hasOwnProperty(a)&&(t[t.length]=a)}}},It.prototype.ActionEquals2=function(t){var e=t.pop(),r=t.pop(),a=e,o=r;e instanceof qt&&(a=e.getTarget()),r instanceof qt&&(o=r.getTarget()),t[t.length]=o==a},It.prototype.ActionGetMember=function(t,e){var r,a=this,o=t.pop(),n=t.pop();if("string"==typeof n){var i=a.stringToObject(n,e);i&&(n=i)}n&&(r=n[o]),t[t.length]=r},It.prototype.ActionInitArray=function(t){var e=t.pop(),r=[];if(e>0)for(;e--;)r[r.length]=t.pop();t[t.length]=r},It.prototype.ActionInitObject=function(t){var e=t.pop(),r={};if(e>0)for(;e--;){var a=t.pop(),o=t.pop();r[o]=a}t[t.length]=r},It.prototype.ActionNewMethod=function(e,r){var a=e.pop(),o=e.pop(),n=e.pop(),i=[];if(n>0)for(;n--;){var s=e.pop();s&&"object"==typeof s&&"callee"in s&&(s=Array.prototype.slice.call(s)),i[i.length]=s}var c;""===a&&(c=o.apply(o,i)),!c&&a in o&&(c=this.CreateNewActionScript(o[a],r,i)),!c&&a in t&&(c="CSSStyleDeclaration"===a?void 0:this.CreateNewActionScript(t[a],r,i)),e[e.length]=c},It.prototype.ActionNewObject=function(e,r){var a=e.pop(),o=+e.pop(),n=[];if(o>0)for(;o;){o--;var i=e.pop();i&&"object"==typeof i&&"callee"in i&&(i=Array.prototype.slice.call(i)),n[n.length]=i}var s={};if(a in t)n.unshift(t[a]),s=new(Function.prototype.bind.apply(t[a],n));else switch(a){case"Object":s={};break;case"MovieClip":s=new qt;var c=r.getStage();s.setStage(c),s.setParent(r);break;case"Sound":s=new te(r),s.movieClip=r;break;case"XML":s=new $t;break;case"LoadVars":s=new Qt;break;case"Color":s=new re(n[0]);break;case"TextFormat":s=new Wt;break;case"MovieClipLoader":s=new Jt;break;default:if(r){var l=this,p=l.getVariable(a)||r.getVariable(a);s=l.CreateNewActionScript(p,r,n)}}e[e.length]=s},It.prototype.getNativeClass=function(t){var e;switch(t){case"MovieClip":e=qt;break;case"Sprite":e=jt;break;case"SimpleButton":e=Kt;break;case"TextField":e=zt;break;case"Shape":e=Gt;break;case"Sound":e=te;break;case"XML":e=$t;break;case"LoadVars":e=Qt;break;case"Color":e=re;break;case"TextFormat":e=Wt;break;case"MovieClipLoader":e=Jt}return e},It.prototype.CreateNewActionScript=function(t,e,r){return t?(r.unshift(t),new(Function.prototype.bind.apply(t,r))):void 0},It.prototype.ActionSetMember=function(t,e){var r=t.pop(),a=t.pop(),o=t.pop();if(o){if("string"==typeof o){var n=this.stringToObject(o,e);n&&(o=n)}if("object"==typeof o||"function"==typeof o)switch(!0){default:case o===qt.prototype:case o===zt.prototype:case o===Kt.prototype:case o===jt.prototype:case o===Gt.prototype:o[a]=r;break;case o instanceof Et:case o instanceof ie:o._extend?o[a]=r:o.setProperty(a,r,!1)}}},It.prototype.ActionTargetPath=function(t){Y.log("ActionTargetPath");var e=t.pop(),r=null;if(e instanceof qt&&(r=e.getName(),null!==r))for(;;){var a=e.getParent();if(null===a){r="/"+r;break}var o=a.getName();if(null===o){r=null;break}r=o+"/"+r}t[t.length]=r},It.prototype.ActionWith=function(t,e,r){var a=r;return e&&(a=t.pop()),a},It.prototype.ActionToNumber=function(t){var e=+t.pop();t[t.length]=e},It.prototype.ActionToString=function(t){var e=t.pop();t[t.length]=this.valueToString(e)},It.prototype.ActionTypeOf=function(t){var e=t.pop(),r="";switch(!0){case e instanceof qt:r="movieclip";break;default:r=typeof e}t[t.length]=r},It.prototype.ActionAdd2=function(t){var e=t.pop(),r=t.pop();t[t.length]=r+e},It.prototype.ActionLess2=function(t){var e=t.pop(),r=t.pop();t[t.length]=e>r},It.prototype.ActionModulo=function(t){var e=t.pop(),r=t.pop();t[t.length]=r%e},It.prototype.ActionBitAnd=function(t){var e=t.pop(),r=t.pop();t[t.length]=r&e},It.prototype.ActionBitLShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=r<<e},It.prototype.ActionBitOr=function(t){var e=t.pop(),r=t.pop();t[t.length]=r|e},It.prototype.ActionBitRShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>>e},It.prototype.ActionBitURShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>>e},It.prototype.ActionBitXor=function(t){var e=t.pop(),r=t.pop();t[t.length]=e^r},It.prototype.ActionDecrement=function(t){var e=+t.pop();e--,t[t.length]=e},It.prototype.ActionIncrement=function(t){var e=+t.pop();e++,t[t.length]=e},It.prototype.ActionPushDuplicate=function(t){var e=t.length;t[e]=t[e-1]},It.prototype.ActionStackSwap=function(t){var e=t.pop(),r=t.pop();t[t.length]=e,t[t.length]=r},It.prototype.ActionStoreRegister=function(t,e){this.params[e]=t[t.length-1]},It.prototype.ActionInstanceOf=function(t){var e=t.pop(),r=t.pop();t[t.length]=r instanceof e},It.prototype.ActionStrictEquals=function(t){var e=t.pop(),r=t.pop();t[t.length]=r===e},It.prototype.ActionGreater=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>e},It.prototype.ActionExtends=function(t){var e=t.pop(),r=t.pop();e&&r&&(this.superClass=e)},It.prototype.ActionCastOp=function(t){var e=t.pop(),r=t.pop();t[t.length]="function"==typeof r&&e instanceof r.prototype.constructor?e:null},It.prototype.ActionImplementsOp=function(t){Y.log("ActionImplementsOp");var e=t.pop();Y.log(e);var r=t.pop(),a=[];if(r>0)for(;r--;)a[a.length]=t.pop();t[t.length]=null},It.prototype.ActionTry=function(t,e){try{t["try"].apply(e)}catch(r){t.CatchBlockFlag&&t["catch"].apply(e,[r])}finally{t.FinallyBlockFlag&&t["finally"].apply(e)}},It.prototype.ActionThrow=function(t){var e=t.pop();throw e.message};var Ct=function(){};Ct.prototype.generateColorTransform=function(t,e){return{R:0|c(0,s(t.R*e[0]+e[4],255)),G:0|c(0,s(t.G*e[1]+e[5],255)),B:0|c(0,s(t.B*e[2]+e[6],255)),A:c(0,s(255*t.A*e[3]+e[7],255))/255}},Ct.prototype.intToRGBA=function(t,e){return e=e||100,{R:(16711680&t)>>16,G:(65280&t)>>8,B:255&t,A:e/100}},Ct.prototype.filterOperation=function(t,e,r){var a="source-over";return a=e===!0?t?"source-in":"source-out":r===!0?t?"source-in":"copy":t?"source-atop":"destination-over"},Ct.prototype.coatOfColor=function(t,e,r,a){for(var o=t.canvas,n=t.getImageData(0,0,o.width,o.height),i=0,s=n.data,c=e.R,l=e.G,p=e.B,g=s.length;g>i;i+=4){var u=i+3,f=s[u];r?255!==f&&(s[i]=0|c,s[i+1]=0|l,s[i+2]=0|p,s[u]=255-(0|f)):0!==f&&(s[i]=0|c,s[i+1]=0|l,s[i+2]=0|p,s[u]=0|f)}if(t.putImageData(n,0,0),a>0)for(i=1;a>i;i++)t.drawImage(t.canvas,0,0);return t},Ct.prototype.clone=function(){var t=this,e=[];for(var r in t)t.hasOwnProperty(r)&&(e[e.length]=t[r]);var a=t.filterId,o=t;switch(a){case 0:o=new(Function.prototype.bind.apply(kt,e));break;case 1:o=new(Function.prototype.bind.apply(xt,e));break;case 2:o=new(Function.prototype.bind.apply(Tt,e));break;case 3:o=new(Function.prototype.bind.apply(Mt,e));break;case 4:o=new(Function.prototype.bind.apply(Ft,e));break;case 5:o=new(Function.prototype.bind.apply(Bt,e));break;case 6:o=new(Function.prototype.bind.apply(Ut,e));break;case 7:o=new(Function.prototype.bind.apply(wt,e))}return o},Ct.prototype.toColorInt=function(t){if("string"==typeof t){var e=dt.getCanvas();e.width=1,e.height=1;var r=e.getContext("2d");r.fillStyle=t,t="0x"+r.fillStyle.substr(1),dt.destroy(r)}return t};var xt=function(){var t=this;Ct.call(t),t.filterId=1,t.blurX=4,t.blurY=4,t.quality=1;var e=arguments,r=0|e[0];!T(r)&&r>=0&&255>=r&&(t.blurX=r);var a=0|e[1];!T(a)&&a>=0&&255>=a&&(t.blurY=a);var o=0|e[2];!T(o)&&o>=1&&15>=o&&(t.quality=o)};xt.prototype=Object.create(Ct.prototype),xt.prototype.constructor=xt,xt.prototype.render=function(t,e,r,a){var o=t.canvas,n=dt.getCanvas();n.width=o.width,n.height=o.height;var i=n.getContext("2d");return i.drawImage(o,0,0),i._offsetX=t._offsetX,i._offsetY=t._offsetY,this.executeFilter(i,a)},xt.prototype.executeFilter=function(t,e){var r=this,a=r.blurX,o=r.blurY;if(0===a&&0===o)return t;0===a&&(a=4),0===o&&(o=4);var n=r.quality,i=e.getScale(),s=[.5,1.05,1.35,1.55,1.75,1.9,2,2.1,2.2,2.3,2.5,3,3,3.5,3.5],c=s[n-1],l=p(a*c*i*et),g=p(o*c*i*et),u=t.canvas,f=p(u.width+2*l+1),v=p(u.height+2*g+1),h=dt.getCanvas();h.width=f,h.height=v;var d=h.getContext("2d"),y=l,b=g;d._offsetX=l+t._offsetX,d._offsetY=g+t._offsetY,d.drawImage(u,y,b);for(var m=d.getImageData(0,0,f,v),S=m.data,A=y>>1,I=b>>1,C=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],x=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],k=C[A],T=x[A],M=C[I],F=x[I],B=0,U=0,w=0,_=0,Y=0,P=0,O=0,D=0,X=0,L=0,E=0,R=0,H=0,N=0,j=A+A+1,G=I+I+1,Z=m.width,V=m.height,W=Z-1,z=V-1,K=A+1,q=I+1,J={r:0,b:0,g:0,a:0},Q=J,$=1;j>$;$++)Q=Q.n={r:0,b:0,g:0,a:0};Q.n=J;var tt={r:0,b:0,g:0,a:0},rt=tt;for($=1;G>$;$++)rt=rt.n={r:0,b:0,g:0,a:0};rt.n=tt;for(var at=null;n-- >0;){P=Y=0;var ot=0|k,nt=0|T;for(U=V;--U>-1;){for(E=S[Y],R=S[Y+1],H=S[Y+2],N=S[Y+3],O=K*E,D=K*R,X=K*H,L=K*N,Q=J,$=K;--$>-1;)Q.r=E,Q.g=R,Q.b=H,Q.a=N,Q=Q.n;for($=1;K>$;$++)w=Y+(($>W?W:$)<<2)|0,O+=Q.r=S[w],D+=Q.g=S[w+1],X+=Q.b=S[w+2],L+=Q.a=S[w+3],Q=Q.n;for(at=J,B=0;Z>B;B++)S[Y++]=O*ot>>>nt,S[Y++]=D*ot>>>nt,S[Y++]=X*ot>>>nt,S[Y++]=L*ot>>>nt,w=P+((w=B+A+1)<W?w:W)<<2,O-=at.r-(at.r=S[w]),D-=at.g-(at.g=S[w+1]),X-=at.b-(at.b=S[w+2]),L-=at.a-(at.a=S[w+3]),at=at.n;P+=Z}for(ot=M,nt=F,B=0;Z>B;B++){for(Y=B<<2|0,O=q*(E=S[Y])|0,D=q*(R=S[Y+1|0])|0,X=q*(H=S[Y+2|0])|0,L=q*(N=S[Y+3|0])|0,rt=tt,$=0;q>$;$++)rt.r=E,rt.g=R,rt.b=H,rt.a=N,rt=rt.n;for(_=Z,$=1;I>=$;$++)Y=_+B<<2,O+=rt.r=S[Y],D+=rt.g=S[Y+1],X+=rt.b=S[Y+2],L+=rt.a=S[Y+3],rt=rt.n,z>$&&(_+=Z);if(Y=B,at=tt,n>0)for(U=0;V>U;U++)w=Y<<2,S[w+3]=N=L*ot>>>nt,N>0?(S[w]=O*ot>>>nt,S[w+1]=D*ot>>>nt,S[w+2]=X*ot>>>nt):S[w]=S[w+1]=S[w+2]=0,w=B+((w=U+q)<z?w:z)*Z<<2,O-=at.r-(at.r=S[w]),D-=at.g-(at.g=S[w+1]),X-=at.b-(at.b=S[w+2]),L-=at.a-(at.a=S[w+3]),at=at.n,Y+=Z;else for(U=0;V>U;U++)w=Y<<2,S[w+3]=N=L*ot>>>nt,N>0?(N=255/N,S[w]=(O*ot>>>nt)*N,S[w+1]=(D*ot>>>nt)*N,S[w+2]=(X*ot>>>nt)*N):S[w]=S[w+1]=S[w+2]=0,w=B+((w=U+q)<z?w:z)*Z<<2,O-=at.r-(at.r=S[w]),D-=at.g-(at.g=S[w+1]),X-=at.b-(at.b=S[w+2]),L-=at.a-(at.a=S[w+3]),at=at.n,Y+=Z}}return d.putImageData(m,0,0),dt.destroy(t),d};var kt=function(){var t=this;Ct.call(t),t.filterId=0,t.distance=4,t.angle=45,t.color=0,t.alpha=1,t.blurX=4,t.blurY=4,t.strength=1,t.quality=1,t.inner=!1,t.knockout=!1,t.hideObject=!1;var e=arguments,r=0|e[0];T(r)||(t.distance=r);var a=+e[1];!T(a)&&a>=0&&360>=a&&(t.angle=a);var o=t.toColorInt(e[2]);T(o)||(t.color=o);var n=+e[3];!T(n)&&n>=0&&1>=n&&(t.alpha=n);var i=0|e[4];!T(i)&&i>=0&&255>=i&&(t.blurX=i);var s=0|e[5];!T(s)&&s>=0&&255>=s&&(t.blurY=s);var c=+e[6];!T(c)&&c>=0&&255>=c&&(t.strength=c);var l=0|e[7];!T(l)&&l>=1&&15>=l&&(t.quality=l);var p=e[8];"boolean"==typeof p&&(t.inner=p);var g=e[9];"boolean"==typeof g&&(t.knockout=g);var u=e[10];"boolean"==typeof u&&(t.hideObject=u)};kt.prototype=Object.create(Ct.prototype),kt.prototype.constructor=kt,kt.prototype.render=function(t,e,r,a){var o=this,n=o.strength;if(0===n)return t;var i=o.quality,s=o.inner,c=o.angle*C/180,l=o.blurX,g=o.blurY,u=new xt(l,g,i),f=u.render(t,e,r,a),v=o.toColorInt(o.color),y=o.intToRGBA(v),m=o.generateColorTransform(y,r);f=o.coatOfColor(f,m,s,n);var S=t._offsetX,A=t._offsetY,I=f._offsetX,x=f._offsetY,k=f.canvas,T=dt.getCanvas(),M=k.width+S,F=k.height+A,B=0,U=0,w=0,_=0,Y=o.distance,P=a.getScale(),O=p(h(c)*Y*P),D=p(d(c)*Y*P);0!==O&&(M+=b(O),0>O?B-=O:w=O),0!==D&&(F+=b(D),0>D?U-=D:_=D),T.width=M,T.height=F;var X=T.getContext("2d");X.drawImage(t.canvas,I+B,x+U),X.globalAlpha=o.alpha,1>n&&(X.globalAlpha*=n);var L=o.knockout,E=o.hideObject;return X.globalCompositeOperation=o.filterOperation(s,L,E),X.drawImage(k,S+w,A+_),X._offsetX=S+I,X._offsetY=A+x,dt.destroy(f),X};var Tt=function(){var t=this;Ct.call(t),t.filterId=2,t.color=16711680,t.alpha=1,t.blurX=6,t.blurY=6,t.strength=2,t.quality=1,t.inner=!1,t.knockout=!1;var e=arguments,r=t.toColorInt(e[0]);T(r)||(t.color=r);var a=+e[1];!T(a)&&a>=0&&1>=a&&(t.alpha=a);var o=0|e[2];!T(o)&&o>=0&&255>=o&&(t.blurX=o);var n=0|e[3];!T(n)&&n>=0&&255>=n&&(t.blurY=n);var i=+e[4];!T(i)&&i>=0&&255>=i&&(t.strength=i);var s=0|e[5];!T(s)&&s>=1&&15>=s&&(t.quality=s);var c=e[6];"boolean"==typeof c&&(t.inner=c);var l=e[7];"boolean"==typeof l&&(t.knockout=l)};Tt.prototype=Object.create(Ct.prototype),Tt.prototype.constructor=Tt,Tt.prototype.render=function(t,e,r,a){var o=this,n=o.strength;if(0===n)return t;var i=o.inner,s=o.blurX,c=o.blurY,l=new xt(s,c,o.quality),p=l.render(t,e,r,a),g=p.canvas.width+t._offsetX,u=p.canvas.height+t._offsetY,f=o.toColorInt(o.color),v=o.intToRGBA(f),h=o.generateColorTransform(v,r);p=o.coatOfColor(p,h,i,n);var d=dt.getCanvas();d.width=g,d.height=u;var y=d.getContext("2d");y.drawImage(t.canvas,p._offsetX,p._offsetY),y.globalAlpha=o.alpha,1>n&&(y.globalAlpha*=n);var b="source-over";return b=o.knockout?i?"source-in":"source-out":i?"source-atop":"destination-over",y.globalCompositeOperation=b,y.drawImage(p.canvas,t._offsetX,t._offsetY),y._offsetX=t._offsetX+p._offsetX,y._offsetY=t._offsetY+p._offsetY,dt.destroy(p),y};var Mt=function(){var t=this;Ct.call(t),t.filterId=3,t.distance=4,t.angle=45,t.highlightColor=16777215,t.highlightAlpha=1,t.shadowColor=0,t.shadowAlpha=1,t.blurX=4,t.blurY=4,t.strength=1,t.quality=1,t.type="inner",t.knockout=!1;var e=arguments,r=0|e[0];T(r)||(t.distance=r);var a=+e[1];!T(a)&&a>=0&&360>=a&&(t.angle=a);var o=t.toColorInt(e[2]);T(o)||(t.highlightColor=o);var n=+e[3];!T(n)&&n>=0&&1>=n&&(t.highlightAlpha=n);var i=t.toColorInt(e[4]);T(i)||(t.shadowColor=i);var s=+e[5];!T(s)&&s>=0&&1>=s&&(t.shadowAlpha=s);var c=0|e[6];!T(c)&&c>=0&&255>=c&&(t.blurX=c);var l=0|e[7];!T(l)&&l>=0&&255>=l&&(t.blurY=l);var p=+e[8];!T(p)&&p>=0&&255>=p&&(t.strength=p);var g=0|e[9];!T(g)&&g>=1&&15>=g&&(t.quality=g);var u=e[10];"string"==typeof u&&(t.type=u);var f=e[11];"boolean"==typeof f&&(t.knockout=f)};Mt.prototype=Object.create(Ct.prototype),Mt.prototype.constructor=Mt,Mt.prototype.render=function(t,e,r,a){var o,n,i=this,s=i.distance,c=i.angle,l=i.shadowColor,g=i.shadowAlpha,u=i.highlightColor,f=i.highlightAlpha,v=i.blurX,y=i.blurY,m=i.strength,S=i.quality,A=i.knockout,I=c*C/180,x=i.type,k=new xt(v,y,S),T=k.render(t,e,r,a),M=T.canvas,F=T._offsetX,B=T._offsetY,U=dt.getCanvas();U.width=M.width,U.height=M.height;var w=U.getContext("2d");w.drawImage(M,0,0);var _=i.toColorInt(l);o=i.intToRGBA(_),n=i.generateColorTransform(o,r),w=i.coatOfColor(w,n,!1,m);var Y=dt.getCanvas();Y.width=M.width,Y.height=M.height;var P=Y.getContext("2d");P.drawImage(M,0,0);var O=i.toColorInt(u);o=i.intToRGBA(O),n=i.generateColorTransform(o,r),P=i.coatOfColor(P,n,!1,m);var D="inner"===x||"full"===x,X="outer"===x||"full"===x,L=t._offsetX,E=t._offsetY,R=dt.getCanvas(),H=M.width+L,N=M.height+E,j=0,G=0,Z=a.getScale(),V=p(h(I)*s*Z),W=p(d(I)*s*Z);0!==V&&(H+=b(V),0>V&&(j-=V)),0!==W&&(N+=b(W),0>W&&(G-=W)),R.width=H,R.height=N;var z=R.getContext("2d");A||z.drawImage(t.canvas,F+j,B+G),1>m&&(z.globalAlpha*=m),z._offsetX=L+F,z._offsetY=E+B;var K=dt.getCanvas();K.width=H+F,K.height=N+B;var q=K.getContext("2d");q.globalCompositeOperation="xor",q.globalAlpha=f,q.drawImage(P.canvas,-V+j,-W+G),q.globalAlpha=g,q.drawImage(w.canvas,V,W);var J;return D&&X?J="source-over":D?(z.drawImage(t.canvas,F+j,B+G),J=i.filterOperation(!0,A)):X&&(J="destination-over"),z.globalCompositeOperation=J,z.drawImage(q.canvas,0,0),!D&&X&&A&&(z.globalCompositeOperation="destination-out",z.drawImage(t.canvas,F+j,B+G)),dt.destroy(T),dt.destroy(P),dt.destroy(w),dt.destroy(q),z};var Ft=function(){var t=this;Ct.call(t),t.filterId=4,t.distance=4,t.angle=45,t.colors=null,t.alphas=null,t.ratios=null,t.blurX=4,t.blurY=4,t.strength=1,t.quality=1,t.type="inner",t.knockout=!1;var e=arguments,r=0|e[0];T(r)||(t.distance=r);var a=+e[1];!T(a)&&a>=0&&360>=a&&(t.angle=a),t.colors=e[2],t.alphas=e[3],t.ratios=e[4];var o=0|e[5];!T(o)&&o>=0&&255>=o&&(t.blurX=o);var n=0|e[6];!T(n)&&n>=0&&255>=n&&(t.blurY=n);var i=+e[7];!T(i)&&i>=0&&255>=i&&(t.strength=i);var s=0|e[8];!T(s)&&s>=1&&15>=s&&(t.quality=s);var c=e[9];"string"==typeof c&&(t.type=c);var l=e[10];"boolean"==typeof l&&(t.knockout=l)};Ft.prototype=Object.create(Ct.prototype),Ft.prototype.constructor=Ft,Ft.prototype.render=function(t,e,r,a){var o=this,n=o.strength;if(0===n)return t;var i=o.type,s=o.blurX,c=o.blurY,l="inner"===i||"full"===i,g="outer"===i||"full"===i,u=o.knockout,f=o.angle,v=f*C/180,y=new xt(s,c,o.quality),m=y.render(t,e,r,a),S=t._offsetX,A=t._offsetY,I=m._offsetX,x=m._offsetY,k=m.canvas,T=dt.getCanvas(),M=k.width+S,F=k.height+A,B=0,U=0,w=0,_=0,Y=o.distance,P=a.getScale(),O=p(h(v)*Y*P),D=p(d(v)*Y*P);0!==O&&(M+=b(O),0>O?B-=O:w=O),0!==D&&(F+=b(D),0>D?U-=D:_=D),T.width=M,T.height=F;var X=T.getContext("2d");u||X.drawImage(t.canvas,I+B,x+U),1>n&&(X.globalAlpha*=n);var L;return l&&g?L="source-over":(u&&X.drawImage(t.canvas,I+B,x+U),L=o.filterOperation(l,u)),X.globalCompositeOperation=L,X.drawImage(k,S+w,A+_),X._offsetX=S+I,X._offsetY=A+x,dt.destroy(m),X};var Bt=function(){var t=this;Ct.call(t),t.filterId=5};Bt.prototype=Object.create(Ct.prototype),Bt.prototype.constructor=Bt,Bt.prototype.render=function(t,e,r,a){return t};var Ut=function(){var t=this;Ct.call(t),t.filterId=6};Ut.prototype=Object.create(Ct.prototype),Ut.prototype.constructor=Ut,Ut.prototype.render=function(t,e,r,a){return t};var wt=function(){var t=this;Ct.call(t),t.filterId=7};wt.prototype=Object.create(Ct.prototype),wt.prototype.constructor=wt,wt.prototype.render=function(t,e,r,a){return t};var _t=function(){this.clear()};_t.prototype.MOVE_TO=0,_t.prototype.CURVE_TO=1,_t.prototype.LINE_TO=2,_t.prototype.CUBIC=3,_t.prototype.ARC=4,_t.prototype.FILL_STYLE=5,_t.prototype.STROKE_STYLE=6,_t.prototype.FILL=7,_t.prototype.STROKE=8,_t.prototype.LINE_WIDTH=9,_t.prototype.LINE_CAP=10,_t.prototype.LINE_JOIN=11,_t.prototype.MITER_LIMIT=12,_t.prototype.BEGIN_PATH=13,_t.prototype.multiplicationMatrix=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},_t.prototype.generateColorTransform=function(t,e){return{R:0|c(0,s(t.R*e[0]+e[4],255)),G:0|c(0,s(t.G*e[1]+e[5],255)),B:0|c(0,s(t.B*e[2]+e[6],255)),A:c(0,s(255*t.A*e[3]+e[7],255))/255}},_t.prototype.intToRGBA=function(t,e){return e=e||100,{R:(16711680&t)>>16,G:(65280&t)>>8,B:255&t,A:e/100}},_t.prototype.clear=function(){var t=this,e=x.MAX_VALUE;return t.bounds={xMin:e,xMax:-e,yMin:e,yMax:-e},t.maxWidth=0,t.cmd=null,t.isDraw=!1,t.isFillDraw=!1,t.isLineDraw=!1,t.cacheKey="",t.recodes=[],t.lineRecodes=[],t},_t.prototype.getCacheKey=function(){return this.cacheKey},_t.prototype.addCacheKey=function(){var t=arguments,e="",r=t.length;if(r)for(var a=0;r>a;a++){var o=t[a];e+="_"+o}this.cacheKey+=e},_t.prototype.getBounds=function(){return this.bounds},_t.prototype.setBounds=function(t,e){var r=this.bounds;r.xMin=s(r.xMin,t),r.xMax=c(r.xMax,t),r.yMin=s(r.yMin,e),r.yMax=c(r.yMax,e)},_t.prototype.colorStringToInt=function(t){var e=dt.getCanvas(),r=e.getContext("2d");r.fillStyle=t;var a="0x"+r.fillStyle.substr(1);return dt.destroy(r),a},_t.prototype.beginFill=function(t,e){var r=this;"string"==typeof t&&(t=r.colorStringToInt(t)),t|=0,e=+e,T(e)?e=100:e*=100;var a=r.intToRGBA(t,e),o=r.recodes;return r.isFillDraw||(o[o.length]=[r.BEGIN_PATH]),o[o.length]=[r.FILL_STYLE,a.R,a.G,a.B,a.A],r.addCacheKey(t,e),r.isFillDraw=!0,r.isDraw=!0,r},_t.prototype.lineStyle=function(t,e,r,a,o,n,i,s){var l=this,p=l.lineRecodes;if(t=+t,T(t)){if(l.isLineDraw){l.isLineDraw=!1,p[p.length]=[l.STROKE];for(var g=p.length,u=l.recodes,f=0;g>f;f++)u[u.length]=p[f];l.lineRecodes=[]}}else{void 0===e&&(e=0),"string"==typeof e&&(e=l.colorStringToInt(e)),n||(n="round"),i||(i="round"),e|=0,r=+r,T(r)?r=100:r*=100;var v=l.intToRGBA(e,r);.5>t&&(t+=.2),t*=20,l.maxWidth=c(l.maxWidth,t),l.isLineDraw&&(p[p.length]=[l.STROKE]),p[p.length]=[l.BEGIN_PATH],p[p.length]=[l.STROKE_STYLE,v.R,v.G,v.B,v.A],p[p.length]=[l.LINE_WIDTH,t],p[p.length]=[l.LINE_CAP,n],p[p.length]=[l.LINE_JOIN,i],l.addCacheKey(e,r),l.isLineDraw=!0,l.isDraw=!0}return l},_t.prototype.moveTo=function(t,e){var r=this,a=r.recodes;if(t*=20,e*=20,r.isFillDraw&&(a[a.length]=[r.MOVE_TO,t,e]),r.isLineDraw){var o=r.lineRecodes;o[o.length]=[r.MOVE_TO,t,e]}return(r.isFillDraw||r.isLineDraw)&&(r.setBounds(t,e),r.addCacheKey(t,e)),r},_t.prototype.lineTo=function(t,e){var r=this,a=r.recodes;if(t*=20,e*=20,r.isFillDraw&&(a[a.length]=[r.LINE_TO,t,e]),r.isLineDraw){var o=r.lineRecodes;o[o.length]=[r.LINE_TO,t,e]}return(r.isFillDraw||r.isLineDraw)&&(r.setBounds(t,e),r.addCacheKey(t,e)),r},_t.prototype.curveTo=function(t,e,r,a){var o=this,n=o.recodes;if(t*=20,e*=20,r*=20,a*=20,o.isFillDraw&&(n[n.length]=[o.CURVE_TO,t,e,r,a]),o.isLineDraw){var i=o.lineRecodes;i[i.length]=[o.CURVE_TO,t,e,r,a]}return(o.isFillDraw||o.isLineDraw)&&(o.setBounds(t,e),o.setBounds(r,a),o.addCacheKey(t,e,r,a)),o},_t.prototype.cubicCurveTo=function(t,e,r,a,o,n){var i=this,s=i.recodes;if(t*=20,e*=20,r*=20,a*=20,o*=20,n*=20,i.isFillDraw&&(s[s.length]=[i.CUBIC,t,e,r,a,o,n]),i.isLineDraw){var c=i.lineRecodes;c[c.length]=[i.CUBIC,t,e,r,a,o,n]}return(i.isFillDraw||i.isLineDraw)&&(i.setBounds(o,n),i.setBounds(t,e),i.setBounds(r,a),i.addCacheKey(t,e,r,a,o,n)),i},_t.prototype.drawCircle=function(t,e,r){var a=this,o=a.recodes;if(t*=20,e*=20,r*=20,a.isFillDraw&&(o[o.length]=[a.ARC,t,e,r]),a.isLineDraw){var n=a.lineRecodes;n[n.length]=[a.ARC,t,e,r]}return(a.isFillDraw||a.isLineDraw)&&(a.setBounds(t-r,e-r),a.setBounds(t+r,e+r),a.addCacheKey(t,e,r)),a},_t.prototype.drawEllipse=function(t,e,r,a){var o=this,n=r/2,i=a/2,s=t+n,c=t+r,l=e+i,p=e+a,g=4/3*(m-1)*n,u=4/3*(m-1)*i;return o.moveTo(s,e),o.cubicCurveTo(s+g,e,c,l-u,c,l),o.cubicCurveTo(c,l+u,s+g,p,s,p),o.cubicCurveTo(s-g,p,t,l+u,t,l),o.cubicCurveTo(t,l-u,s-g,e,s,e),o},_t.prototype.drawRect=function(t,e,r,a){var o=this;return o.moveTo(t,e),o.lineTo(t+r,e),o.lineTo(t+r,e+a),o.lineTo(t,e+a),o.lineTo(t,e),o},_t.prototype.drawRoundRect=function(t,e,r,a,o,n){var i=this,s=o/2,c=n/2,l=4/3*(m-1)*s,p=4/3*(m-1)*c,g=t+s,u=t+r,f=u-s,v=e+c,h=e+a,d=h-c;return i.moveTo(g,e),i.lineTo(f,e),i.cubicCurveTo(f+l,e,u,v-p,u,v),i.lineTo(u,d),i.cubicCurveTo(u,d+p,f+l,h,f,h),i.lineTo(g,h),i.cubicCurveTo(g-l,h,t,d+p,t,d),i.lineTo(t,v),i.cubicCurveTo(t,v-p,g-l,e,g,e),i},_t.prototype.drawTriangles=function(t,e,r,a){var o=this,n=t.length;if(n&&n%3===0){var i=0,s=0;if(e){if(n=e.length,n&&n%3===0)for(i=0;n>i;i++){var c=e[i];0===s?o.moveTo(t[c],t[c+1]):o.lineTo(t[c],t[c+1]),s++,s%3===0&&(s=0)}}else for(i=0;n>i;i++)0===s?o.moveTo(t[i++],t[i]):o.lineTo(t[i++],t[i]),s++,s%3===0&&(s=0)}return o},_t.prototype.endFill=function(){var t=this;if(t.isFillDraw){var e=t.recodes;e[e.length]=[t.FILL]}return t.isFillDraw=!1,t},_t.prototype.render=function(t,e,r,a){var o=this,n="",i=r[3]+r[7]/255;if(!i)return n;var c=o.multiplicationMatrix(a.getMatrix(),e),l=v(c[0]*c[0]+c[1]*c[1]),u=v(c[2]*c[2]+c[3]*c[3]);l=g(m,p(y(l)/A-I)),u=g(m,p(y(u)/A-I));var f=o.maxWidth,h=f/2,d=o.getBounds(),S=d.xMax,C=d.xMin,x=d.yMax,k=d.yMin,T=b(p((S-C+f)*l)),M=b(p((x-k+f)*u));if(0>=T||0>=M)return n;var F,B,U=a.clipMc||o.isClipDepth;if(!U&&(n=dt.generateKey("Graphics",0,[l,u],r),n+=o.getCacheKey(),F=dt.getCache(n),!F&&a.getWidth()>T&&a.getHeight()>M&&dt.size>T*M)){B=dt.getCanvas(),B.width=T,B.height=M,F=B.getContext("2d");var w=[l,0,0,u,(-C+h)*l,(-k+h)*u];F.setTransform(w[0],w[1],w[2],w[3],w[4],w[5]),F=o.executeRender(F,s(l,u),r,!1),dt.setCache(n,F)}if(F){B=F.canvas;var _=[1/l,0,0,1/u,C-h,k-h],Y=o.multiplicationMatrix(c,_);t.setTransform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),W&&!K?(t.fillStyle=a.context.createPattern(F.canvas,"no-repeat"),t.fillRect(0,0,T,M)):t.drawImage(B,0,0,T,M)}else t.setTransform(c[0],c[1],c[2],c[3],c[4],c[5]),o.executeRender(t,s(c[0],c[3]),r,U);return n+"_"+c[4]+"_"+c[5]},_t.prototype.executeRender=function(t,e,r,a){var o=this,n=o.recodes,i=n.length,s=o.lineRecodes;if(i||s){var c=o.cmd;if(!c){var l=s.length;if(l){for(var p=0;l>p;p++)n[n.length]=s[p];o.lineRecodes=[]}c=vt.buildCommand(n),o.cmd=c}t.beginPath(),c(t,r,a),a?t.clip():(o.isFillDraw&&t.fill(),o.isLineDraw&&t.stroke())}var g="rgba(0,0,0,1)";return t.strokeStyle=g,t.fillStyle=g,t.globalAlpha=1,t},_t.prototype.renderHitTest=function(t,e,r,a,o){var n=this,i=n.cmd;if(!i){var s=n.recodes;i=vt.buildCommand(s),n.cmd=i}var c=n.multiplicationMatrix(r.getMatrix(),e);t.setTransform(c[0],c[1],c[2],c[3],c[4],c[5]),t.beginPath(),i(t,[1,1,1,1,0,0,0,0],!0);var l=t.isPointInPath(a,o);return l?l:"isPointInStroke"in t&&(l=t.isPointInStroke(a,o))?l:l};var Yt=function(){var t=this;t._leftToLeft=0,t._leftToRight=1,t._pan=0,t._rightToLeft=0,t._rightToRight=1,t._volume=1};Object.defineProperties(Yt.prototype,{leftToLeft:{get:function(){return this.getLeftToLeft()},set:function(t){this.setLeftToLeft(t)}},leftToRight:{get:function(){return this.getLeftToRight()},set:function(t){this.setLeftToRight(t)}},pan:{get:function(){return this.getPan()},set:function(t){this.setPan(t)}},rightToLeft:{get:function(){return this.getRightToLeft()},set:function(t){this.setRightToLeft(t)}},rightToRight:{get:function(){return this.getRightToRight()},set:function(t){this.setRightToRight(t)}},volume:{get:function(){return this.getVolume()},set:function(t){this.setVolume(t)}}}),Yt.prototype.getLeftToLeft=function(){return this._leftToLeft},Yt.prototype.setLeftToLeft=function(t){this._leftToLeft=0|t},Yt.prototype.getLeftToRight=function(){return this._leftToRight},Yt.prototype.setLeftToRight=function(t){this._leftToRight=0|t},Yt.prototype.getPan=function(){return this._pan},Yt.prototype.setPan=function(t){this._pan=0|t},Yt.prototype.getRightToLeft=function(){return this._rightToLeft},Yt.prototype.setRightToLeft=function(t){this._rightToLeft=0|t},Yt.prototype.getRightToRight=function(){return this._rightToRight},Yt.prototype.setRightToRight=function(t){this._rightToRight=0|t},Yt.prototype.getVolume=function(){return this._volume},Yt.prototype.setVolume=function(t){this._volume=0|t},Yt.prototype.SoundTransform=function(t,e){var r=this;r.volume=0|t,r.pan=0|e};var Pt=function(){var t=this;t.target={},t.bubbles=!0,t.cancelable=!0,t.currentTarget={},t.eventPhase=0};Pt.prototype.ACTIVATE="activate",Pt.prototype.CLICK="press",Pt.prototype.CONTEXT_MENU="contextMenu",Pt.prototype.DOUBLE_CLICK="doubleClick",Pt.prototype.MIDDLE_CLICK="middleClick",Pt.prototype.MIDDLE_MOUSE_DOWN="middleMouseDown",Pt.prototype.MIDDLE_MOUSE_UP="middleMouseUp",Pt.prototype.MOUSE_DOWN="mouseDown",Pt.prototype.MOUSE_MOVE="mouseMove",Pt.prototype.MOUSE_OUT="rollOut",Pt.prototype.MOUSE_OVER="rollOver",Pt.prototype.MOUSE_UP="mouseUp",Pt.prototype.MOUSE_WHEEL="mouseWheel",Pt.prototype.RIGHT_CLICK="rightClick",Pt.prototype.RIGHT_MOUSE_DOWN="rightMouseDown",Pt.prototype.RIGHT_MOUSE_UP="rightMouseUp",Pt.prototype.ROLL_OUT="rollOut",Pt.prototype.ROLL_OVER="rollOver";var Ot=function(t){var e=this;e.type=t,e.target=null,Pt.call(this)};Ot.prototype=Object.create(Pt.prototype),Ot.prototype.constructor=Ot;var Dt=new Ot,Xt=function(){var t=this;t.events={},t.isLoad=!1,t.active=!1};Object.defineProperties(Xt.prototype,{onEnterFrame:{get:function(){return this.getOnEvent("onEnterFrame")},set:function(t){this.setOnEvent("onEnterFrame",t)}},onPress:{get:function(){return this.getOnEvent("onPress")},set:function(t){this.setOnEvent("onPress",t)}},onRelease:{get:function(){return this.getOnEvent("onRelease")},set:function(t){this.setOnEvent("onRelease",t)}},onReleaseOutside:{get:function(){return this.getOnEvent("onReleaseOutside")},set:function(t){this.setOnEvent("onReleaseOutside",t)}},onRollOver:{get:function(){return this.getOnEvent("onRollOver")},set:function(t){this.setOnEvent("onRollOver",t)}},onRollOut:{get:function(){return this.getOnEvent("onRollOut")},set:function(t){this.setOnEvent("onRollOut",t)}},onData:{get:function(){return this.getOnEvent("onData")},set:function(t){this.setOnEvent("onData",t)}},onMouseDown:{get:function(){return this.getOnEvent("onMouseDown")},set:function(t){this.setOnEvent("onMouseDown",t)}},onMouseUp:{get:function(){return this.getOnEvent("onMouseUp")},set:function(t){this.setOnEvent("onMouseUp",t)}},onMouseMove:{get:function(){return this.getOnEvent("onMouseMove")},set:function(t){this.setOnEvent("onMouseMove",t)}},onDragOut:{get:function(){return this.getOnEvent("onDragOut")},set:function(t){this.setOnEvent("onDragOut",t)}},onDragOver:{get:function(){return this.getOnEvent("onDragOver")},set:function(t){this.setOnEvent("onDragOver",t)}},onKeyDown:{get:function(){return this.getOnEvent("onKeyDown")},set:function(t){this.setOnEvent("onKeyDown",t)}},onKeyUp:{get:function(){return this.getOnEvent("onKeyUp")},set:function(t){this.setOnEvent("onKeyUp",t)}},onLoad:{get:function(){return this.getOnEvent("onLoad")},set:function(t){this.setOnEvent("onLoad",t)}},onUnLoad:{get:function(){return this.getOnEvent("onUnLoad")},set:function(t){this.setOnEvent("onUnLoad",t)}}}),Xt.prototype.getOnEvent=function(t){return this.variables[t]},Xt.prototype.setOnEvent=function(t,e){this.variables[t]=e},Xt.prototype.addEventListener=function(t,e,r,a,o){var n=this.events;t in n||(n[t]=[]);var i=n[t];i[i.length]=e},Xt.prototype.dispatchEvent=function(t,e){var r=this,a=t.type;if(r.hasEventListener(a)){var o=r.events[a],n=new Ot;n.type=a,n.target=this;var i=[n];r.setActionQueue(o,e,i)}},Xt.prototype.hasEventListener=function(t){return t in this.events},Xt.prototype.removeEventListener=function(t,e,r){var a=this;if(a.hasEventListener(t))for(var o=a.events,n=o[t],i=n.length,s=0;i>s;s++)if(n[s]===e){n.slice(s,0);break}},Xt.prototype.willTrigger=function(t){return this.hasEventListener(t)},Xt.prototype.setActionQueue=function(t,e,r){var a=e.actions;a[a.length]={as:t,mc:this,args:r}};var Lt=function(){},Et=function(){var t=this;Xt.call(t),t.initialize()};Et.prototype=Object.create(Xt.prototype),Et.prototype.constructor=Et,Object.defineProperties(Et.prototype,{accessibilityProperties:{value:new Lt},alpha:{get:function(){return this.getAlpha()/100},set:function(t){this.setAlpha(100*t)}},_alpha:{get:function(){return this.getAlpha()},set:function(t){this.setAlpha(t)}},name:{get:function(){return this.getName()},set:function(t){this.setName(t)}},_name:{get:function(){return this.getName()},set:function(t){this.setName(t);
}},blendMode:{get:function(){return this.getBlendMode()},set:function(t){this.setBlendMode(t)}},filters:{get:function(){return this.getFilters()},set:function(t){this.setFilters(t)}},_visible:{get:function(){return this.getVisible()},set:function(t){this.setVisible(t)}},visible:{get:function(){return this.getVisible()},set:function(t){this.setVisible(t)}},_rotation:{get:function(){return this.getRotation()},set:function(t){this.setRotation(t)}},rotation:{get:function(){return this.getRotation()},set:function(t){this.setRotation(t)}},_height:{get:function(){return this.getHeight()},set:function(t){this.setHeight(t)}},height:{get:function(){return this.getHeight()},set:function(t){this.setHeight(t)}},_width:{get:function(){return this.getWidth()},set:function(t){this.setWidth(t)}},width:{get:function(){return this.getWidth()},set:function(t){this.setWidth(t)}},_x:{get:function(){return this.getX()},set:function(t){this.setX(t)}},x:{get:function(){return this.getX()},set:function(t){this.setX(t)}},_y:{get:function(){return this.getY()},set:function(t){this.setY(t)}},y:{get:function(){return this.getY()},set:function(t){this.setY(t)}},_xscale:{get:function(){return this.getXScale()},set:function(t){this.setXScale(t)}},scaleX:{get:function(){return this.getXScale()},set:function(t){this.setXScale(t)}},_yscale:{get:function(){return this.getYScale()},set:function(t){this.setYScale(t)}},scaleY:{get:function(){return this.getYScale()},set:function(t){this.setYScale(t)}},_xmouse:{get:function(){return this.getXMouse()},set:function(){}},mouseX:{get:function(){return this.getXMouse()},set:function(){}},_ymouse:{get:function(){return this.getYMouse()},set:function(){}},mouseY:{get:function(){return this.getYMouse()},set:function(){}},mask:{get:function(){return this.getMask()},set:function(t){this.setMask(t)}},enabled:{get:function(){return this.getEnabled()},set:function(t){this.setEnabled(t)}},_parent:{get:function(){return this.getParent()},set:function(t){this.setParent(t)}},parent:{get:function(){return this.getParent()},set:function(t){this.setParent(t)}}}),Et.prototype.initialize=function(){var t=this;t.instanceId=N++,t.characterId=0,t.tagType=0,t.ratio=0,t.isMask=!1,t.clipDepth=0,t.isClipDepth=!1,t.stageId=null,t.loadStageId=null,t.variables={},t.buttonStatus="up",t.removeFlag=!1,t.parentId=null,t.__visible=!0,t.__name=null,t._url=null,t._highquality=1,t._focusrect=1,t._soundbuftime=null,t._totalframes=1,t._level=0,t._depth=null,t._framesloaded=0,t._target="",t._lockroot=void 0,t._enabled=!0,t._blendMode=null,t._filters=null,t._filterCacheKey=null,t._parentPlace=null,t._mask=null,t._matrix=null,t._colorTransform=null,t._extend=!1,t.avm2=null},Et.prototype.flash={filters:{DropShadowFilter:kt,BlurFilter:xt,GlowFilter:Tt,BevelFilter:Mt,GradientGlowFilter:Ft,ConvolutionFilter:Bt,ColorMatrixFilter:Ut,GradientBevelFilter:wt,BitmapFilter:Ct}},Et.prototype.toString=function(){var t=this.getTarget(),e="_level0",r=t.split("/");return e+=r.join(".")},Et.prototype.multiplicationMatrix=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},Et.prototype.multiplicationColor=function(t,e){return[t[0]*e[0],t[1]*e[1],t[2]*e[2],t[3]*e[3],t[0]*e[4]+t[4],t[1]*e[5]+t[5],t[2]*e[6]+t[6],t[3]*e[7]+t[7]]},Et.prototype.boundsMatrix=function(t,e,r){var a=x.MAX_VALUE,o=-a,n=-a,i=a,l=a;r&&(i=r.xMin,o=r.xMax,l=r.yMin,n=r.yMax);var p=t.xMax*e[0]+t.yMax*e[2]+e[4],g=t.xMax*e[0]+t.yMin*e[2]+e[4],u=t.xMin*e[0]+t.yMax*e[2]+e[4],f=t.xMin*e[0]+t.yMin*e[2]+e[4],v=t.xMax*e[1]+t.yMax*e[3]+e[5],h=t.xMax*e[1]+t.yMin*e[3]+e[5],d=t.xMin*e[1]+t.yMax*e[3]+e[5],y=t.xMin*e[1]+t.yMin*e[3]+e[5];return o=c(c(c(c(o,p),g),u),f),i=s(s(s(s(i,p),g),u),f),n=c(c(c(c(n,v),h),d),y),l=s(s(s(s(l,v),h),d),y),{xMin:i,xMax:o,yMin:l,yMax:n}},Et.prototype.generateColorTransform=function(t,e){return{R:0|c(0,s(t.R*e[0]+e[4],255)),G:0|c(0,s(t.G*e[1]+e[5],255)),B:0|c(0,s(t.B*e[2]+e[6],255)),A:c(0,s(255*t.A*e[3]+e[7],255))/255}},Et.prototype.cloneArray=function(t){for(var e=[],r=t.length,a=0;r>a;a++)e[a]=t[a];return e},Et.prototype.getBlendName=function(t){var e=null;switch(t){case 1:case"normal":e="normal";break;case 2:case"layer":e="layer";break;case 3:case"multiply":e="multiply";break;case 4:case"screen":e="screen";break;case 5:case"lighten":e="lighten";break;case 6:case"darken":e="darken";break;case 7:case"difference":e="difference";break;case 8:case"add":e="add";break;case 9:case"subtract":e="subtract";break;case 10:case"invert":e="invert";break;case 11:case"alpha":e="alpha";break;case 12:case"erase":e="erase";break;case 13:case"overlay":e="overlay";break;case 14:case"hardlight":e="hardlight"}return e},Et.prototype.setStage=function(t){var e=this;if(e.stageId=t.getId(),e instanceof Kt){var r=e.getSprite("up");r.setStage(t);var a=e.getSprite("down");a.setStage(t);var o=e.getSprite("hit");o.setStage(t);var n=e.getSprite("over");n.setStage(t)}t.setInstance(e)},Et.prototype.getStage=function(){var t=this,e=t.getLoadStage();return e||(e=t.getParentStage()),e},Et.prototype.getParentStage=function(){var t=this.stageId;return null!==t?t in R?R[t]:H[t]:void 0},Et.prototype.getLoadStage=function(){var t=this.loadStageId;return null!==t?t in R?R[t]:H[t]:void 0},Et.prototype.setLoadStage=function(t){var e=this;e.loadStageId=null,null!==t&&(t.setInstance(e),e.loadStageId=t.getId())},Et.prototype.getCharacterId=function(){return this.characterId},Et.prototype.setCharacterId=function(t){this.characterId=t},Et.prototype.getTagType=function(){return this.tagType},Et.prototype.setTagType=function(t){this.tagType=t},Et.prototype.getRatio=function(){return this.ratio},Et.prototype.setRatio=function(t){this.ratio=t},Et.prototype.getParent=function(){var t,e=this,r=e.getLoadStage(),a=e.parentId;return r&&(t=r.getInstance(a)),t||(r=e.getParentStage(),t=r.getInstance(a)),t},Et.prototype.setParent=function(t){var e=this;t instanceof Nt&&t.setInstance(e),e.parentId=t.instanceId},Et.prototype.getParentSprite=function(){var t=this,e=t.getStage();return e.getInstance(t._sprite)},Et.prototype.setParentSprite=function(t){this._sprite=t.instanceId},Et.prototype.getButtonStatus=function(){return this.buttonStatus},Et.prototype.setButtonStatus=function(t){this.buttonStatus=t},Et.prototype.getMask=function(){return this._mask},Et.prototype.setMask=function(t){var e=this,r=e._mask;r&&(r.isMask=!1),t.isMask=!0,e._mask=t},Et.prototype.getEnabled=function(){return this._enabled},Et.prototype.setEnabled=function(t){this._enabled=t},Et.prototype.getButtonMode=function(){return this._buttonMode},Et.prototype.setButtonMode=function(t){this._buttonMode=t},Et.prototype.getTarget=function(){return this._target},Et.prototype.setTarget=function(t){this._target=t},Et.prototype.splitPath=function(t){var e,r=this,a=r,o=t,n="";if("string"==typeof t&&(-1!==t.indexOf("::")?(a=r,o=t):-1!==t.indexOf(":")?(e=t.split(":"),n=e[0],o=e[1]):-1!==t.indexOf(".")&&(e=t.split("."),o=e.pop(),n+=e.join(".")),""!==n)){var i=r.getDisplayObject(n);i&&(a=i)}return{scope:a,target:o}},Et.prototype.getProperty=function(t,e){var r=this,a=t;if(e!==!1){var o=r.splitPath(t);r=o.scope,a=o.target}if(!r.removeFlag){var n,i="string"==typeof a?a.toLowerCase():a;switch(i){case 0:case"_x":n=r.getX();break;case 1:case"_y":n=r.getY();break;case 2:case"_xscale":n=r.getXScale();break;case 3:case"_yscale":n=r.getYScale();break;case 4:case"_currentframe":r instanceof qt&&(n=r.getCurrentFrame());break;case 5:case"_totalframes":r instanceof qt&&(n=r.getTotalFrames());break;case 6:case"_alpha":n=r.getAlpha();break;case 7:case"_visible":n=r.getVisible();break;case 8:case"_width":n=r.getWidth();break;case 9:case"_height":n=r.getHeight();break;case 10:case"_rotation":n=r.getRotation();break;case 11:case"_target":n=r.getTarget();break;case 12:case"_framesloaded":n=r._framesloaded;break;case 13:case"_name":n=r.getName();break;case 14:case"_droptarget":r instanceof qt&&(n=r.getDropTarget());break;case 15:case"_url":n=r._url;break;case 16:case"_highquality":n=r._highquality;break;case 17:case"_focusrect":n=r._focusrect;break;case 18:case"_soundbuftime":n=r._soundbuftime;break;case 19:case"_quality":n=r._quality;break;case 20:case"_xmouse":n=r.getXMouse();break;case 21:case"_ymouse":n=r.getYMouse();break;case"text":case"htmltext":if(r instanceof zt){var s=r.getVariable("variable");if(s){var c=r.getParent();n=c.getProperty(s)}else n=r.getVariable("text")}else n=r.getVariable(a);break;case"$version":n="swf2js 8,0,0";break;case"enabled":n=r.getEnabled();break;case"blendmode":n=r.getBlendMode();break;case"sharedobject":n=new ee;break;case"key":n=ne;break;case"mouse":var l=r.getDisplayObject("_root"),p=l.getStage();n=p.mouse;break;default:n=r.getVariable(a,e),void 0===n&&a!==t&&(n=r.getGlobalVariable(t))}return n}},Et.prototype.setProperty=function(t,e,r){var a=this,o=t;if(r!==!1){var n=a.splitPath(t);a=n.scope,o=n.target}var i="string"==typeof o?o.toLowerCase():o;switch(i){case 0:case"_x":a.setX(e);break;case 1:case"_y":a.setY(e);break;case 2:case"_xscale":a.setXScale(e);break;case 3:case"_yscale":a.setYScale(e);break;case 4:case"_currentframe":case 5:case"_totalframes":case 15:case"_url":case 20:case"_xmouse":case 21:case"_ymouse":case 11:case"_target":case 12:case"_framesloaded":case 14:case"_droptarget":break;case 6:case"_alpha":a.setAlpha(e);break;case 7:case"_visible":a.setVisible(e);break;case 8:case"_width":a.setWidth(e);break;case 9:case"_height":a.setHeight(e);break;case 10:case"_rotation":a.setRotation(e);break;case 13:case"_name":a.setName(e);break;case 16:case"_highquality":a._highquality=e;break;case 17:case"_focusrect":a._focusrect=e;break;case 18:case"_soundbuftime":a._soundbuftime=e;break;case 19:case"_quality":a._quality=e;break;case"text":case"htmltext":if(a instanceof zt){var s=a.getVariable("variable");if(s){var c=a.getParent();c.setProperty(s,e)}else a.setVariable("text",e);var l=a.input;l&&(l.value=e)}else a.setVariable(o,e);break;case"blendmode":a.setBlendMode(e);break;case"enabled":a.setEnabled(e);break;case"filters":a.setFilters(e);break;default:a.setVariable(o,e)}},Et.prototype.getDepth=function(){var t=this,e=t._depth,r=null!==e?e:t.getLevel();return r-16384},Et.prototype.setDepth=function(t,e,r){var a=this,o=a.getParent(),n=a._depth,i=null!==n?n:a.getLevel(),s=o.getTotalFrames()+1;r?(a._depth=e,r._depth=t):a._depth=t;for(var c=o.container,l=a.instanceId,p=1;s>p;p++){p in c||(c[p]=[]);var g=c[p];r?(i in g&&g[i]===l&&(g[t]=r.instanceId),e in g&&g[e]===r.instanceId&&(g[e]=l)):(!(i in g)||i in g&&g[i]===l)&&(delete g[i],g[t]=l),c[p]=g}a.setController(!1,!1,!1,!1),r&&r.setController(!1,!1,!1,!1)},Et.prototype.getX=function(){var t=this.getMatrix();return t?t[4]/20:void 0},Et.prototype.setX=function(t){if(t=+t,!T(t)){var e=this,r=e.getMatrix(),a=e.cloneArray(r);a[4]=20*t,e.setMatrix(a)}},Et.prototype.getY=function(){var t=this.getMatrix();return t?t[5]/20:void 0},Et.prototype.setY=function(t){if(t=+t,!T(t)){var e=this,r=e.getMatrix(),a=e.cloneArray(r);a[5]=20*t,e.setMatrix(a)}},Et.prototype.getXScale=function(){var t=this.getMatrix(),e=100*v(t[0]*t[0]+t[1]*t[1]);return 0>t[0]&&(e*=-1),e},Et.prototype.setXScale=function(t){if(t=+t,!T(t)){var e=this,r=e.getMatrix(),a=e.cloneArray(r),o=1;0>a[0]&&(o=-1);var n=f(a[1],a[0]);t/=100,a[0]=t*h(n)*o,a[1]=t*d(n)*o,e.setMatrix(a)}},Et.prototype.getYScale=function(){var t=this.getMatrix(),e=100*v(t[2]*t[2]+t[3]*t[3]);return 0>t[3]&&(e*=-1),e},Et.prototype.setYScale=function(t){if(t=+t,!T(t)){var e=this,r=e.getMatrix(),a=e.cloneArray(r),o=1;0>a[3]&&(o=-1);var n=f(-a[2],a[3]);t/=100,a[2]=-t*d(n)*o,a[3]=t*h(n)*o,e.setMatrix(a)}},Et.prototype.getAlpha=function(){var t=this.getColorTransform(),e=t[3]+t[7]/255;return 100*e},Et.prototype.setAlpha=function(t){if(t=+t,!T(t)){var e=this,r=e.getColorTransform(),a=e.cloneArray(r);a[3]=t/100,a[7]=0,e.setColorTransform(a)}},Et.prototype.getVisible=function(){var t=this,e=t.getStage(),r=e.getVersion();return r>4?t.__visible:t.__visible?1:0},Et.prototype.setVisible=function(t){var e=this;"boolean"==typeof t?e.__visible=t:(t=+t,T(t)||(e.__visible=t?!0:!1))},Et.prototype.getLevel=function(){return this._level},Et.prototype.setLevel=function(t){this._level=t},Et.prototype.getName=function(){return this.__name},Et.prototype.setName=function(t){this.__name=t},Et.prototype.getRotation=function(){var t=this.getMatrix(),e=180*f(t[1],t[0])/C;switch(e){case-90.00000000000001:e=-90;break;case 90.00000000000001:e=90}return e},Et.prototype.setRotation=function(t){if(t=+t,!T(t)){var e=this,r=e.getMatrix(),a=e.cloneArray(r),o=f(a[1],a[0]),n=f(-a[2],a[3]),i=v(a[0]*a[0]+a[1]*a[1]),s=v(a[2]*a[2]+a[3]*a[3]);t*=C/180,n+=t-o,o=t,a[0]=i*h(o),a[1]=i*d(o),a[2]=-s*d(n),a[3]=s*h(n),e.setMatrix(a)}},Et.prototype.getWidth=function(){var t=this,e=t.getMatrix(),r=t.getBounds(e);return b(r.xMax-r.xMin)},Et.prototype.setWidth=function(t){if(t=+t,!T(t)){var e=this,r=e.getOriginMatrix(),a=e.getBounds(r),o=b(a.xMax-a.xMin),n=t*r[0]/o;T(n)&&(n=0),r=e.getMatrix();var i=e.cloneArray(r);i[0]=n,e.setMatrix(i)}},Et.prototype.getHeight=function(){var t=this,e=t.getMatrix(),r=t.getBounds(e);return b(r.yMax-r.yMin)},Et.prototype.setHeight=function(t){if(t=+t,!T(t)){var e=this,r=e.getOriginMatrix(),a=e.getBounds(r),o=b(a.yMax-a.yMin),n=t*r[3]/o;T(n)&&(n=0),r=e.getMatrix();var i=e.cloneArray(r);i[3]=n,e.setMatrix(i)}},Et.prototype.getXMouse=function(){if(!at)return null;var t=this,e=t.getDisplayObject("_root"),r=e.getStage(),a=n.getElementById(r.getName()),o=a.getBoundingClientRect(),i=n.body,s=i.scrollLeft+o.left,c=0;if(q){var l=at.changedTouches[0];c=l.pageX}else c=at.pageX;for(var p=t,g=t.getMatrix();;){var u=p.getParent();if(!u)break;g=t.multiplicationMatrix(u.getMatrix(),g),p=u}var f=r.getScale();return c-=s,c/=f,c-=g[4]/20},Et.prototype.getYMouse=function(){if(!at)return null;var t=this,e=t.getDisplayObject("_root"),r=e.getStage(),a=n.getElementById(r.getName()),o=a.getBoundingClientRect(),i=n.body,s=i.scrollTop+o.top,c=0;if(q){var l=at.changedTouches[0];c=l.pageY}else c=at.pageY;for(var p=t,g=t.getMatrix();;){var u=p.getParent();if(!u)break;g=t.multiplicationMatrix(u.getMatrix(),g),p=u}var f=r.getScale();return c-=s,c/=f,c-=g[5]/20},Et.prototype.getVariable=function(e,r){var a=this;if(void 0===e)return e;var o=a.variables;if(o){if(e in o)return o[e];var n=a.getStage(),i=n.getVersion();if(7>i)for(var s in o)if(o.hasOwnProperty(s)&&s.toLowerCase()===e.toLowerCase())return o[s];var c;if(i>4){var l=o.registerClass;if(l&&"object"==typeof l&&e in l)return l[e];if(a instanceof qt&&(c=a.getDisplayObject(e,r)))return c;var p=a.getCharacterId(),g=n.symbols[p];if(g){for(var u=g.split("."),f=u.pop(),v=u.length,h=n.avm2,d=0;v>d;d++)h=h[u[d]];var y=h[f];if(c=y[e])return c}var b=n.getGlobal();if(c=b.getVariable(e))return c;if(a instanceof qt&&"flash"===e)return a.flash;if(e in t)return t[e]}}},Et.prototype.setVariable=function(t,e){var r=this,a=r.variables,o=r.getStage();if("string"!=typeof t&&(t+=""),o.getVersion()<7)for(var n in a)if(a.hasOwnProperty(n)&&n.toLowerCase()===t.toLowerCase())return r.variables[n]=e,0;r.variables[t]=e},Et.prototype.getGlobalVariable=function(t){var e=this,r=e.getStage(),a=r.getVersion();if(!(5>a)){var o=null;-1!==t.indexOf(".")&&(o=t.split("."));var n;if(o)for(var i=r.getGlobal(),s=i.variables,c=o.length,l=0;c>l;l++){var p=o[l];if(7>a){for(var g in s)if(s.hasOwnProperty(g)&&g.toLowerCase()===p.toLowerCase()){n=s[g];break}}else n=s[p];if(!n)break;s=n}return n}},Et.prototype.getDisplayObject=function(t,e){var r,a,o,n,i=this,s=i,c=s;if(i._lockroot)o=i.getStage(),c=o.getParent();else for(;;){if(n=c.getParent(),!n)break;c=n}if("string"!=typeof t&&(t+=""),"_root"===t)return c;if("this"===t)return this;if(o=c.getStage(),"_global"===t)return o.getGlobal();if(n=s.getParent(),"_parent"===t)return null!==n?n:void 0;var l=1,p=[t];if(e!==!1)if(-1!==t.indexOf("/"))p=t.split("/"),l=p.length,""===p[0]&&(s=c);else if(-1!==t.indexOf("."))p=t.split("."),l=p.length,"_root"===p[0]&&(s=c);else if("_level"===t.substr(0,6)){var g=t.substr(6);if(g=+g,0===g)return c;if(n||(n=o.getParent()),r=n.getTags(),g in r){var u=r[g];if(a=o.getInstance(u),a instanceof qt)return a}return}for(var f=o.getVersion(),v=0;l>v;v++){var h=p[v];if(""!==h)if("_root"!==h)if("this"!==h)if("_parent"!==h){if(".."!==h){if(r=s.getTags(),void 0===r)return;var d=r.length,y=!1;if(d>0)for(var b in r)if(r.hasOwnProperty(b)){var m=r[b],S=s.getStage();if(a=S.getInstance(m),a&&!a.removeFlag){var A=a.getName();if(A)if(7>f){if(A.toLowerCase()===h.toLowerCase()){s=a,y=!0;break}}else if(A===h){s=a,y=!0;break}}}if(!y)return}else if(s=s.getParent(),!s)return}else{if(n=s.getParent(),!n)return;s=n}else s=i;else s=c}return s},Et.prototype.preRender=function(t,e,r,a,o){var n=this;n.isLoad=!0;var i,s,c,l,g,u,f,h,d="",y=t,m=e,S=!1,A=!1,I=n.getMask();if(I&&n.renderMask(t,a),o&&!a.clipMc){var C=n.getFilters();null!==C&&C.length&&(S=!0);var x=n.getBlendMode();null!==x&&"normal"!==x&&(A=!0)}if(S||A){s=n.multiplicationMatrix(a.getMatrix(),e);var k,T=1;n instanceof Gt||n instanceof Vt?(k=n.getBounds(),c=v(s[0]*s[0]+s[1]*s[1]),l=v(s[2]*s[2]+s[3]*s[3])):(T=20,k=n.getBounds(e),c=a.getScale()*rt,l=a.getScale()*rt),g=k.xMin,u=k.yMin,f=k.xMax,h=k.yMax;var M=b(p((f-g)*c)),F=b(p((h-u)*l)),B=dt.getCanvas();B.width=M,B.height=F,i=B.getContext("2d"),i._offsetX=0,i._offsetY=0;var U=[1,0,0,1,-g*T,-u*T],w=[e[0],e[1],e[2],e[3],e[4],e[5]];n instanceof Gt&&(w[4]=0,w[5]=0),y=i,m=n.multiplicationMatrix(U,w)}return o&&(d+=n.renderGraphics(y,m,r,a)),{preCtx:y,preMatrix:m,isFilter:S,isBlend:A,rMatrix:s,cacheKey:d,xMin:g*c,yMin:u*l}},Et.prototype.postRender=function(t,e,r,a,o){var n=this,i=o.preCtx,s=o.isFilter,c=o.cacheKey;s&&""!==c&&(i=n.renderFilter(i,e,r,a,c));var l=o.xMin,p=o.yMin;n instanceof Gt&&(l+=o.rMatrix[4],p+=o.rMatrix[5]),i&&(l-=i._offsetX,p-=i._offsetY),n.renderBlend(t,i,l,p,s)},Et.prototype.renderGraphics=function(t,e,r,a){var o=this.graphics,n="";return o&&o.isDraw&&(n=o.render(t,e,r,a)),n},Et.prototype.renderMask=function(t,e){var r=this,a=r.getMask();if(a){t.save(),t.beginPath(),e.clipMc=!0;for(var o=a,n=[1,0,0,1,0,0],i=r.multiplicationMatrix;;){var s=o.getParent();if(!s.getParent())break;n=i(s.getMatrix(),n),o=s}a.render(t,n,[1,1,1,1,0,0,0,0],e,!0),t.clip(),e.clipMc=!1}},Et.prototype.getFilterKey=function(t){for(var e=[],r=t.length,a=0;r>a;a++){var o=t[a];for(var n in o)o.hasOwnProperty(n)&&(e[e.length]=o[n])}return e.join("_")},Et.prototype.renderFilter=function(t,e,r,a,o){var n=this,i=n.getFilters();if(a.clipMc||!i||!i.length)return t;o+="_"+n.getFilterKey(i);var s,c="Filter_"+n.instanceId;if(n._filterCacheKey===o&&(s=dt.getCache(c)),!s){for(var l=i.length,p=0;l>p;p++){var g=i[p];s=g.render(t,e,r,a)}n._filterCacheKey=o,dt.setCache(c,s)}return dt.destroy(t),s},Et.prototype.renderBlend=function(t,e,r,a,o){var n=this,i=n.getBlendMode(),s="source-over",c=e.canvas,l=c.width,p=c.height;switch(e.setTransform(1,0,0,1,0,0),i){case"multiply":s="multiply";break;case"screen":s="screen";break;case"lighten":s="lighten";break;case"darken":s="darken";break;case"difference":s="difference";break;case"add":s="lighter";break;case"subtract":e.globalCompositeOperation="difference",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,l,p),e.globalCompositeOperation="darken",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,l,p),s="color-burn";break;case"invert":e.globalCompositeOperation="difference",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,l,p),e.globalCompositeOperation="lighter",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,l,p),s="difference";break;case"alpha":s="source-over";break;case"erase":s="destination-out";break;case"overlay":s="overlay";break;case"hardlight":s="hard-light"}t.globalAlpha=1,t.globalCompositeOperation=s,t.setTransform(1,0,0,1,0,0),t.drawImage(c,r,a,c.width,c.height),t.globalCompositeOperation="source-over",o||dt.destroy(e)},Et.prototype.getOriginMatrix=function(){var t=this,e=t.getController();return e.getMatrix()},Et.prototype.getMatrix=function(){return this._matrix||this.getOriginMatrix()},Et.prototype.setMatrix=function(t){var e=this;e._matrix=t,e.setController(!0,!1,!1,!1)},Et.prototype.getOriginColorTransform=function(){var t=this,e=t.getController();return e.getColorTransform()},Et.prototype.getColorTransform=function(){return this._colorTransform||this.getOriginColorTransform()},Et.prototype.setColorTransform=function(t){var e=this;e._colorTransform=t,e.setController(!1,!0,!1,!1)},Et.prototype.getOriginBlendMode=function(){var t=this,e=t.getController();return e.getBlendMode()},Et.prototype.getBlendMode=function(){return this._blendMode||this.getOriginBlendMode()},Et.prototype.setBlendMode=function(t){var e=this,r=e.getBlendName(t);null!==r&&(e._blendMode=r,e.setController(!1,!1,!1,!0))},Et.prototype.getOriginFilters=function(){var t=this,e=t.getController();return e.getFilters()},Et.prototype.getFilters=function(){return this._filters||this.getOriginFilters()},Et.prototype.setFilters=function(t){var e=this;e._filterCacheKey=null,e._filters=t,e.setController(!1,!1,!0,!1)},Et.prototype.setController=function(t,e,r,a){var o=this;if(!t){var n=o._matrix;null===n&&(n=o.getMatrix(),o._matrix=o.cloneArray(n))}if(!e){var i=o._colorTransform;null===i&&(i=o.getColorTransform(),o._colorTransform=o.cloneArray(i))}if(!r){var s=o._filters;null===s&&(s=o.getFilters(),null===s&&(s=[]),o._filters=s)}if(!a){var c=o._blendMode;null===c&&(c=o.getBlendMode(),o._blendMode=c)}},Et.prototype.getController=function(){var t=this,e=0,r=t.getLevel(),a=t.getParentStage();if(!a)return new bt;var o=t.getParentSprite();if(o||(o=t.getParent()),!o)return new bt;o instanceof qt&&(e=o.getCurrentFrame());var n=a.getPlaceObject(o.instanceId,r,e);return n||(a=t.getLoadStage(),a&&(n=a.getPlaceObject(o.instanceId,r,e))),n||new bt},Et.prototype.reset=function(){var t=this;if(t.active=!1,t.isMask=!1,t._matrix=null,t._colorTransform=null,t._filters=null,t._blendMode=null,t._depth=null,t.setVisible(!0),t.setEnabled(!0),t.setButtonStatus("up"),t instanceof zt){var e=t.input;if(t.inputActive){t.inputActive=!1,e.onchange=null;var r=t.getStage(),a=n.getElementById(r.getName());if(a){var o=n.getElementById(t.getTagName());if(o)try{a.removeChild(o)}catch(i){}}}t.variables.text=t.initialText}},Et.prototype.trace=function(){for(var e=["[trace]"],r=arguments.length,a=0;r>a;a++)e[e.length]=arguments[a];Y.log.apply(t,e)};var Rt=function(){var t=this;t._mouseEnabled=!0,Et.call(t)};Rt.prototype=Object.create(Et.prototype),Rt.prototype.constructor=Rt,Object.defineProperties(Et.prototype,{mouseEnabled:{get:function(){return this.getMouseEnabled()},set:function(t){this.setMouseEnabled(t)}}}),Rt.prototype.getMouseEnabled=function(){return this._mouseEnabled},Rt.prototype.setMouseEnabled=function(t){this._mouseEnabled=t};var Ht=function(){this.charCount=0};Ht.prototype.findText=function(t,e,r){},Ht.prototype.getSelected=function(t,e){},Ht.prototype.getSelectedText=function(t){},Ht.prototype.getText=function(t,e,r){},Ht.prototype.getTextRunInfo=function(t,e){},Ht.prototype.hitTestTextNearPos=function(t,e,r){},Ht.prototype.setSelectColor=function(t){},Ht.prototype.setSelected=function(t,e,r){};var Nt=function(){var t=this;if(Rt.call(t),t._mouseChildren=!0,t._tabChildren=!0,t._textSnapshot=new Ht,t._numChildren=0,t.soundId=null,t.soundInfo=null,t.container=[],t instanceof qt)for(var e=t.getTotalFrames()+1,r=1;e>r;)t.container[r++]=[];t.instances=[],t.isSwap=!1};Nt.prototype=Object.create(Rt.prototype),Nt.prototype.constructor=Nt,Object.defineProperties(Nt.prototype,{mouseChildren:{get:function(){return this.getMouseChildren()},set:function(t){this.setMouseChildren(t)}},textSnapshot:{get:function(){return this.getTextSnapshot()},set:function(){}},numChildren:{get:function(){return this.getNumChildren()},set:function(){}},tabChildren:{get:function(){return this.getTabChildren()},set:function(t){this.setTabChildren(t)}}}),Nt.prototype.getMouseChildren=function(){return this._mouseChildren},Nt.prototype.setMouseChildren=function(t){this._mouseChildren=t},Nt.prototype.getTextSnapshot=function(){return this._textSnapshot},Nt.prototype.getNumChildren=function(){return this._numChildren},Nt.prototype.getTabChildren=function(){return this._tabChildren},Nt.prototype.setTabChildren=function(t){this._tabChildren=t},Nt.prototype.getContainer=function(){return this.container},Nt.prototype.getInstances=function(){return this.instances},Nt.prototype.setInstance=function(t){var e=this.instances,r=t.instanceId;r in e||(e[r]=1)},Nt.prototype.deleteInstance=function(t){delete this.instances[t.instanceId]},Nt.prototype.addChild=function(t,e){if(t instanceof Et){var r=this;void 0===e&&(e=r._numChildren);var a=r.getStage();t.setParent(r),t.setStage(a),t.setLevel(e);var o=r.getContainer(),n=1,i=new bt,s=r.instanceId;if(r instanceof qt)for(var c=r.getTotalFrames()+1;c>n;n++)n in o||(o[n]=[]),a.setPlaceObject(i,s,e,n),o[n][e]=t.instanceId;else a.setPlaceObject(i,s,e,n),o[e]=t.instanceId;r._numChildren++}return t},Nt.prototype.addChildAt=function(t,e){return this.addChild(t,e)},Nt.prototype.getChildAt=function(t){var e=this,r=e.getContainer(),a=r;if(16384>t&&(t+=16384),e instanceof qt){var o=e.getCurrentFrame();a=r[o]}return a[t]},Nt.prototype.getChildByName=function(t){var e=this,r=e.getContainer(),a=r;if(e instanceof qt){var o=e.getCurrentFrame();a=r[o]}var n;for(var i in a)if(a.hasOwnProperty(i)){var s=a[i];if(s.getName()===t){n=s;break}}return n},Nt.prototype.getChildIndex=function(t){var e;return t instanceof Et&&(e=t.getLevel()-16384),e},Nt.prototype.removeChild=function(t){var e,r,a=this,o=a.getContainer();if(a instanceof qt){for(var n=a.getTotalFrames()+1,i=1;n>i;i++)if(i in o){var s=o[i];for(e in s)if(s.hasOwnProperty(e)){var c=s[e];if(c===t.instanceId){delete o[i][e];break}}}}else for(e in o)if(o.hasOwnProperty(e)&&(r=o[e],r.instanceId===t.instanceId)){delete o[e];break}return t&&(a.deleteInstance(t),a._numChildren--),t},Nt.prototype.removeChildAt=function(t){var e=this,r=e.getContainer(),a=r;16384>t&&(t+=16384);var o;if(e instanceof qt)for(var n=e.getTotalFrames(),i=1;n>i;i++)i in r&&(a=r[i],t in a&&(o=a[t],delete r[i][t]));else o=a[t],delete a[t];return o&&e._numChildren--,o},Nt.prototype.addTag=function(t,e){var r=this;r.container[t]=e.instanceId,r._numChildren++},Nt.prototype.startSound=function(){var t=this,e=t.soundId;if(e){var a=t.getStage(),o=a.sounds[e];if(o){var i=n.createElement("audio");i.onload=function(){this.load(),this.preload="auto",this.autoplay=!1,this.loop=!1},i.src=o.base64,r(i,t.soundInfo)}}},Nt.prototype.reset=function(){var t=this,e=t.container,r=e.length;if(r){var a=t.getStage();for(var o in e)if(e.hasOwnProperty(o)){var n=e[o],i=a.getInstance(n);i.reset()}}t.isMask=!1,t._depth=null,t._matrix=null,t._colorTransform=null,t._filters=null,t._blendMode=null,t.mouseEnabled=!0},Nt.prototype.setHitRange=function(t,e,r,a){var o=this,n=s(o.getVisible(),r);if(o.getEnabled()&&n){var i=e.buttonHits,c=o.variables,l=o.events;if(void 0!==l.press||void 0!==l.release||void 0!==l.releaseOutside||void 0!==l.rollOver||void 0!==l.rollOut||void 0!==l.dragOver||void 0!==l.dragOut||void 0!==c.onPress||void 0!==c.onRelease||void 0!==c.onRollOver||void 0!==c.onReleaseOutside||void 0!==c.onRollOut||void 0!==c.onDragOver||void 0!==c.onDragOut){var p=o.multiplicationMatrix(t,o.getMatrix()),g=o.getBounds(p);i[i.length]={xMax:g.xMax,xMin:g.xMin,yMax:g.yMax,yMin:g.yMin,parent:o,matrix:o.cloneArray(t)}}}},Nt.prototype.createMovieClip=function(t,e){var r=new qt;return r=this.addChild(r,e),t&&r.setName(t),r},Nt.prototype.createSprite=function(t,e){var r=new jt;return r=this.addChild(r,e),t&&r.setName(t),r},Nt.prototype.createButton=function(t,e){var r=new Kt;return r=this.addChild(r,e),t&&r.setName(t),r},Nt.prototype.createText=function(t,e,r,a){var o=new zt(t,a,e,r);return o=this.addChild(o,a),o.setInitParams(),t&&o.setName(t),o.size=12,o},Nt.prototype.createShape=function(t){var e=new Gt;return this.addChild(e,t),e};var jt=function(){var t=this;Nt.call(t),t.touchPointID=0,t._buttonMode=!1,t._useHandCursor=!1,t._dropTarget=null,t._hitArea=null,t._graphics=new _t,t._soundTransform=new Yt};jt.prototype=Object.create(Nt.prototype),jt.prototype.constructor=jt,Object.defineProperties(jt.prototype,{graphics:{get:function(){return this.getGraphics()},set:function(){}},hitArea:{get:function(){return this.getHitArea()},set:function(t){this.setHitArea(t)}},buttonMode:{get:function(){return this.getButtonMode()},set:function(t){this.setButtonMode(t)}},soundTransform:{get:function(){return this._soundTransform},set:function(){}},useHandCursor:{get:function(){return this.getUseHandCursor()},set:function(t){this.setUseHandCursor(t)}},dropTarget:{get:function(){return this.getDropTarget()},set:function(){this.setDropTarget()}}}),jt.prototype.getGraphics=function(){return this._graphics},jt.prototype.getHitArea=function(){return this._hitArea},jt.prototype.setHitArea=function(t){this._hitArea=t},jt.prototype.getUseHandCursor=function(){return this._useHandCursor},jt.prototype.setUseHandCursor=function(t){this._useHandCursor=t},jt.prototype.startTouchDrag=function(t,e,r){this.startDrag(e)},jt.prototype.stopTouchDrag=function(t){this.stopDrag()},jt.prototype.startDrag=function(){var t=arguments,e=t[0],r=t[1],a=t[2],o=t[3],n=t[4],i=this,s=i.getDisplayObject("_root"),c=s.getStage(),l=0,p=0;e||(l=i.getXMouse(),p=i.getYMouse()),c.dragMc=i,c.dragRules={startX:l,startY:p,left:r,top:a,right:o,bottom:n},i.setDropTarget()},jt.prototype.stopDrag=function(){var t=this,e=t.getDisplayObject("_root"),r=e.getStage();r.dragMc=null,r.dragRules=null,t.setDropTarget()},jt.prototype.executeDrag=function(){var t=this,e=t.getDisplayObject("_root"),r=e.getStage(),a=r.dragRules,o=a.startX,n=a.startY,i=a.left,s=a.top,c=a.right,l=a.bottom,p=t.getX(),g=t.getY(),u=t.getXMouse(),f=t.getYMouse();u-=o,f-=n;var v=p+u,h=g+f;null===i||void 0===i?(t.setX(v),t.setY(h)):(i=+i,s=+s,c=+c,l=+l,v>c?t.setX(c):i>v?t.setX(i):t.setX(v),h>l?t.setY(l):s>h?t.setY(s):t.setY(h))},jt.prototype.getDropTarget=function(){return this._droptarget},jt.prototype.setDropTarget=function(){var t=this;t._droptarget=null;var e=t.getDisplayObject("_root"),r=e.getStage(),a=t.getParent();a||(a=r.getParent());var o=e.getXMouse(),n=e.getYMouse(),i=a.getTags();for(var s in i)if(i.hasOwnProperty(s)){var c=i[s];if(c!==t.instanceId){var l=r.getInstance(c);if(l instanceof qt){var p=l.hitTest(o,n);if(p){t._droptarget=l;break}}}}},jt.prototype.getTags=function(){return this.getContainer()},jt.prototype.render=function(t,e,r,a,o){var n=this;if(n.removeFlag)return"";if(n.isLoad=!0,a.doneTags.unshift(n),n instanceof qt&&!n.soundStopFlag){var i=n.getSounds();if(void 0!==i)for(var c=i.length,l=0;c>l;l++)if(l in i){var p=i[l];n.startSound(p)}}var g=n.multiplicationMatrix,u=g(e,n.getMatrix()),f=n.multiplicationColor,v=f(r,n.getColorTransform()),h=s(n.getVisible(),o),d=n.preRender(t,u,v,a,o),y=d.cacheKey,b=d.preCtx,m=d.preMatrix,S=[],A=n.getTags(),I=A.length,C=n.getMask();if(I){var x=n.getStage();for(var k in A)if(A.hasOwnProperty(k)){var T=A[k],M=x.getInstance(T);if(M){for(var F=S.length,B=0;F>B;B++){var U=S[B];if(k>U){S.splice(B,1),t.restore();break}}if(M.isClipDepth&&(t.save(),t.beginPath(),S[S.length]=M.clipDepth,M instanceof qt&&(a.isClipDepth=!0)),h)switch(!0){case M instanceof zt:case M instanceof Nt:M.setHitRange(u,a,o,F);break;case M instanceof Kt:M.clipDepth||M.setHitRange(u,a,o,F)}M.isMask||(M.isClipDepth&&(0===m[0]&&(m[0]=1e-14),0===m[3]&&(m[3]=1e-14)),y+=M.render(b,m,v,a,h),a.isClipDepth&&(b.clip(),a.isClipDepth=!1))}}}return(S.length||C)&&t.restore(),(d.isFilter||d.isBlend)&&(d.cacheKey=y,n.postRender(t,u,v,a,d)),y},jt.prototype.initFrame=function(){},jt.prototype.putFrame=function(t,e){var r=this;r.active=!0,r.dispatchEvent(e,t)},jt.prototype.addActions=function(t){var e=this,r=e.getStage(),a=e.getTags(),o=a.length;if(o)for(var n in a)if(a.hasOwnProperty(n)){var i=a[n],s=r.getInstance(i);s&&s.addActions(t)}},jt.prototype.renderHitTest=function(t,e,r,a,o){var n=this,i=n.getStage(),s=n.getTags(),c=s.length,l=!1,p=n.multiplicationMatrix(e,n.getMatrix());
if(c)for(var g in s)if(s.hasOwnProperty(g)){var u=s[g],f=i.getInstance(u);if(l=f.renderHitTest(t,p,r,a,o))return l}var v=n.graphics;return v.isDraw?v.renderHitTest(t,p,r,a,o):l},jt.prototype.getRect=function(t){var e=this;t||(t=e);var r=t.getBounds(t.getOriginMatrix()),a=e.graphics,o=20,n=a.maxWidth/o,i=n/2,s=r.xMin+i,c=r.xMax-i,l=r.yMin+i,p=r.yMax-i;return{xMin:s,xMax:c,yMin:l,yMax:p}},jt.prototype.getBounds=function(t){if(t instanceof qt)return t.getBounds(t.getOriginMatrix());var e=this,r=e.getTags(),a=0,o=0,n=0,i=0,l=e.graphics,p=l.isDraw;if(p){var g=l.maxWidth,u=g/2,f=e.boundsMatrix(l.bounds,t),v=t?20:1;n=(f.xMin-u)/v,a=(f.xMax+u)/v,i=(f.yMin-u)/v,o=(f.yMax+u)/v}var h=r.length,d=e.getStage();if(h){if(!p){var y=x.MAX_VALUE;a=-y,o=-y,n=y,i=y}var b=e.multiplicationMatrix;for(var m in r)if(r.hasOwnProperty(m)){var S=r[m],A=d.getInstance(S);if(A&&!A.isClipDepth){var I=t?b(t,A.getMatrix()):A.getMatrix(),C=A.getBounds(I);C&&(n=s(n,C.xMin),a=c(a,C.xMax),i=s(i,C.yMin),o=c(o,C.yMax))}}}return{xMin:n,xMax:a,yMin:i,yMax:o}},jt.prototype.hitCheck=function(t,e,r,a,o){var n=this;if(!n.getEnabled()||!n.getVisible()||!n.getMouseEnabled())return!1;var i,s=!1,c=n.getTags(),l=c.length,p=n.multiplicationMatrix(e,n.getMatrix());if(l){var g=n.getStage();c.reverse();for(var u in c)if(c.hasOwnProperty(u)){var f=c[u],v=g.getInstance(f);if(s=v instanceof Gt||v instanceof Vt||v instanceof zt?v.renderHitTest(t,p,r,a,o):v.hitCheck(t,p,r,a,o)){if(i=s,"object"!=typeof s){var h=n.events;(void 0!==h.press||void 0!==h.release||void 0!==h.releaseOutside||void 0!==h.rollOver||void 0!==h.rollOut||void 0!==h.dragOver||void 0!==h.dragOut)&&(r.isHit=s,i={parent:n})}return c.reverse(),i}}c.reverse()}var d=n.graphics;return d.isDraw&&(s=d.renderHitTest(t,p,r,a,o),s&&(i={parent:n})),i};var Gt=function(){var t=this;Et.call(t),t.data=null,t._graphics=new _t;var e=x.MAX_VALUE;t.setBounds({xMin:e,xMax:-e,yMin:e,yMax:-e})};Gt.prototype=Object.create(Et.prototype),Gt.prototype.constructor=Gt,Object.defineProperties(Gt.prototype,{graphics:{get:function(){return this.getGraphics()},set:function(){}}}),Gt.prototype.addActions=function(){},Gt.prototype.initFrame=function(){},Gt.prototype.putFrame=function(t,e){var r=this;r.active=!0,r.dispatchEvent(e,t)},Gt.prototype.getGraphics=function(){return this._graphics},Gt.prototype.getData=function(){return this.data},Gt.prototype.setData=function(t){this.data=t},Gt.prototype.getBounds=function(t){var e,r,a=this,o=a.graphics,n=o.isDraw;if(t){e=a.boundsMatrix(a.bounds,t),n&&(r=a.boundsMatrix(o.getBounds(),t),e.xMin=s(r.xMin,e.xMin),e.xMax=c(r.xMax,e.xMax),e.yMin=s(r.yMin,e.yMin),e.yMax=c(r.yMax,e.yMax));for(var i in e)e.hasOwnProperty(i)&&(e[i]/=20);return e}return e=a.bounds,n&&(r=o.getBounds(),e.xMin=s(r.xMin,e.xMin),e.xMax=c(r.xMax,e.xMax),e.yMin=s(r.yMin,e.yMin),e.yMax=c(r.yMax,e.yMax)),this.bounds},Gt.prototype.setBounds=function(t){this.bounds=t},Gt.prototype.isMorphing=function(){var t=this.getTagType();return 46===t||84===t},Gt.prototype.render=function(t,e,r,a,o){var n=this;a.doneTags.unshift(n);var i=n.multiplicationColor,c=i(r,n.getColorTransform()),l=s(n.getVisible(),o),u=c[3]+c[7]/255,f=a.clipMc||a.isClipDepth;if(!(f||u&&l))return"";var h=n.multiplicationMatrix,d=h(e,n.getMatrix()),S=n.preRender(t,d,c,a,l),C=S.cacheKey,x=null,k=h(a.getMatrix(),S.preMatrix),T=n.isClipDepth||f;if(T)0===k[0]&&(k[0]=1e-14),0===k[3]&&(k[3]=1e-14),t.setTransform(k[0],k[1],k[2],k[3],k[4],k[5]),n.executeRender(t,s(k[0],k[3]),c,T,a);else{var M=v(k[0]*k[0]+k[1]*k[1]),F=v(k[2]*k[2]+k[3]*k[3]);M=g(m,p(y(M)/A-I)),F=g(m,p(y(F)/A-I));var B=n.getBounds(),U=B.xMax,w=B.xMin,_=B.yMax,Y=B.yMin,P=b(p((U-w)*M)),O=b(p((_-Y)*F));if(0>=P||0>=O)return C;var D,X=n.getStage(),L=n.getCharacterId()+"_"+X.getId();if(n.isMorphing()&&(L+="_"+n.getRatio()),C=dt.generateKey("Shape",L,[M,F],c),x=dt.getCache(C),!x&&a.getWidth()>P&&a.getHeight()>O&&dt.size>P*O){D=dt.getCanvas(),D.width=P,D.height=O,x=D.getContext("2d");var E=[M,0,0,F,-w*M,-Y*F];x.setTransform(E[0],E[1],E[2],E[3],E[4],E[5]),x=n.executeRender(x,s(M,F),c,T,a),dt.setCache(C,x)}var R=S.preCtx;if(x){D=x.canvas;var H=[1/M,0,0,1/F,w,Y],N=h(k,H);R.setTransform(N[0],N[1],N[2],N[3],N[4],N[5]),W&&!K?(R.fillStyle=a.context.createPattern(x.canvas,"no-repeat"),R.fillRect(0,0,P,O)):R.drawImage(D,0,0,P,O)}else R.setTransform(k[0],k[1],k[2],k[3],k[4],k[5]),n.executeRender(R,s(k[0],k[3]),c,T,a)}return C+="_"+k[4]+"_"+k[5],(S.isFilter||S.isBlend)&&(S.cacheKey=C,n.postRender(t,e,c,a,S)),C},Gt.prototype.renderHitTest=function(t,e,r,a,o){var n=this,i=n.multiplicationMatrix,l=i(e,n.getMatrix()),p=n.graphics;if(p.isDraw)return p.renderHitTest(t,l,r,a,o);if(!n.getData())return!1;var g=i(r.getMatrix(),l);t.setTransform(g[0],g[1],g[2],g[3],g[4],g[5]);for(var u=s(g[0],g[3]),f=n.getData(),v=f.length,h=!1,d=0;v>d;d++){var y=f[d],b=y.obj,m=void 0!==b.Width;t.beginPath();var S=y.cmd;if(S(t),m&&(t.lineWidth=c(b.Width,1/u),t.lineCap="round",t.lineJoin="round"),h=t.isPointInPath(a,o))return h;if("isPointInStroke"in t&&(h=t.isPointInStroke(a,o)))return h}return h},Gt.prototype.executeRender=function(t,e,r,a,o){var n=this,i=n.getData();if(!i)return t;for(var l,p,g,u=o.clipMc||o.isClipDepth,f=i.length,v=0;f>v;v++){var h=i[v],d=h.obj,y=d.HasFillFlag?d.FillType:d,b=h.cmd,m=void 0!==d.Width;if(a){if(m)continue;b(t)}else{t.beginPath(),b(t);var S=y.fillStyleType;switch(S){case 0:l=y.Color,l=n.generateColorTransform(l,r),p="rgba("+l.R+","+l.G+","+l.B+","+l.A+")",m?(t.strokeStyle=p,t.lineWidth=c(d.Width,1/e),t.lineCap="round",t.lineJoin="round",t.stroke()):(t.fillStyle=p,t.fill());break;case 16:case 18:case 19:var A=y.gradientMatrix,I=y.fillStyleType;if(16!==I)t.save(),t.transform(A[0],A[1],A[2],A[3],A[4],A[5]),p=t.createRadialGradient(0,0,0,0,0,16384);else{var C=n.linearGradientXY(A);p=t.createLinearGradient(C[0],C[1],C[2],C[3])}for(var x=y.gradient.GradientRecords,k=x.length,T=0;k>T;T++){var M=x[T];l=M.Color,l=n.generateColorTransform(l,r);var F="rgba("+l.R+","+l.G+","+l.B+","+l.A+")";p.addColorStop(M.Ratio,F)}m?(t.strokeStyle=p,t.lineWidth=c(d.Width,1/e),t.lineCap="round",t.lineJoin="round",t.stroke()):(t.fillStyle=p,t.fill()),16!==I&&t.restore();break;case 64:case 65:case 66:case 67:var B,U,w=n.getStage(),_=y.bitmapId,Y=y.bitmapMatrix,P=64===S||66===S?"repeat":"no-repeat",O=dt.generateKey("Bitmap",_+"_"+w.getId()+"_"+P,void 0,r),X=dt.getCache(O);if(void 0===X){if(X=w.getCharacter(_),!X)break;if(1!==r[0]||1!==r[1]||1!==r[2]||r[4]||r[5]||r[6]){var L=X.canvas;if(B=L.width,U=L.height,B>0&&U>0){g=dt.getCanvas(),g.width=B,g.height=U;var E=g.getContext("2d");E.drawImage(X.canvas,0,0,B,U),X=n.generateImageTransform.call(n,E,r),dt.setCache(O,X)}}else t.globalAlpha=c(0,s(255*r[3]+r[7],255))/255}X&&(t.save(),g=X.canvas,B=g.width,U=g.height,B>0&&U>0&&(65===S||67===S?(t.clip(),t.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),t.drawImage(g,0,0,B,U)):(t.fillStyle=o.context.createPattern(g,P),t.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),t.fill())),t.restore())}}}if(a&&!u&&(t.clip(),V&&K)){g||(g=t.canvas);var R=g.width,H=g.height,N=D.canvas;g=t.canvas,N.width=R,N.height=H,D.drawImage(g,0,0),t.save(),t.setTransform(1,0,0,1,0,0),t.beginPath(),t.clearRect(0,0,R+1,H+1),t.drawImage(N,0,0),t.restore(),D.setTransform(1,0,0,1,0,0),D.clearRect(0,0,R+1,H+1)}var j="rgba(0,0,0,1)";return t.strokeStyle=j,t.fillStyle=j,t.globalAlpha=1,t},Gt.prototype.generateImageTransform=function(t,e){var r=t.canvas,a=r.width,o=r.height,n=t.getImageData(0,0,a,o),i=n.data,l=0,p=e[0],g=e[1],u=e[2],f=e[3],v=e[4],h=e[5],d=e[6],y=e[7],b=a*o;if(b>0)for(;b--;){var m=i[l++],S=i[l++],A=i[l++],I=i[l++];i[l-4]=0|c(0,s(m*p+v,255)),i[l-3]=0|c(0,s(S*g+h,255)),i[l-2]=0|c(0,s(A*u+d,255)),i[l-1]=c(0,s(I*f+y,255))}return t.putImageData(n,0,0),t},Gt.prototype.linearGradientXY=function(t){var e=-16384*t[0]-16384*t[2]+t[4],r=16384*t[0]-16384*t[2]+t[4],a=-16384*t[0]+16384*t[2]+t[4],o=-16384*t[1]-16384*t[3]+t[5],n=16384*t[1]-16384*t[3]+t[5],i=-16384*t[1]+16384*t[3]+t[5],s=a-e,c=i-o,l=v(s*s+c*c);s/=l,c/=l;var p=(r-e)*s+(n-o)*c;return[e+p*s,o+p*c,r,n]};var Zt=function(){var t=this;t.color=null,t.matrix=null};Zt.prototype.getColor=function(){return this.color},Zt.prototype.setColor=function(t){this.color=t},Zt.prototype.getMatrix=function(){return this.matrix},Zt.prototype.setMatrix=function(t){this.matrix=t},Zt.prototype.getData=function(){return this.data},Zt.prototype.setData=function(t){this.data=t};var Vt=function(){var t=this;Et.call(t),t.data=null,t.records=[]};Vt.prototype=Object.create(Et.prototype),Vt.prototype.constructor=Vt,Vt.prototype.initFrame=function(){},Vt.prototype.addActions=function(){},Vt.prototype.getBounds=function(t){var e=this;if(t){var r=e.boundsMatrix(e.bounds,t);for(var a in r)r.hasOwnProperty(a)&&(r[a]/=20);return r}return e.bounds},Vt.prototype.setBounds=function(t){this.bounds=t},Vt.prototype.getRecords=function(){return this.records},Vt.prototype.addRecord=function(t){var e=this.getRecords();e[e.length]=t},Vt.prototype.render=function(t,e,r,a,o){var n=this,i=n.multiplicationColor,c=i(r,n.getColorTransform()),l=s(n.getVisible(),o),u=c[3]+c[7]/255,f=a.clipMc||a.isClipDepth;if(!(f||u&&l))return 0;var h=n.multiplicationMatrix,d=h(e,n.getMatrix()),S=n.preRender(t,d,c,a,o),C=h(a.getMatrix(),S.preMatrix),x=v(C[0]*C[0]+C[1]*C[1]),k=v(C[2]*C[2]+C[3]*C[3]);x=g(m,p(y(x)/A-I)),k=g(m,p(y(k)/A-I));var T=n.getBounds(),M=T.xMax,F=T.xMin,B=T.yMax,U=T.yMin,w=b(p((M-F)*x)),_=b(p((B-U)*k)),Y=n.isClipDepth||f;if(w>0&&_>0){var P,O=n.getCharacterId()+"_"+n.getStage().getId(),D=dt.generateKey("Text",O,[x,k],c),X=dt.getCache(D);if(!X&&!Y&&a.getWidth()>w&&a.getHeight()>_&&dt.size>w*_){P=dt.getCanvas(),P.width=w,P.height=_,X=P.getContext("2d");var L=[x,0,0,k,-F*x,-U*k];X.setTransform(L[0],L[1],L[2],L[3],L[4],L[5]),X=n.executeRender(X,L,c,!1,!1),dt.setCache(D,X)}if(X){P=X.canvas;var E=h(C,[1/x,0,0,1/k,F,U]);t.setTransform(E[0],E[1],E[2],E[3],E[4],E[5]),W&&!K?(t.fillStyle=a.context.createPattern(X.canvas,"no-repeat"),t.fillRect(0,0,w,_)):t.drawImage(P,0,0,w,_)}else t.setTransform(C[0],C[1],C[2],C[3],C[4],C[5]),n.executeRender(t,C,c,Y,f);return D+="_"+C[4]+"_"+C[5],(S.isFilter||S.isBlend)&&(S.cacheKey=D,n.postRender(t,e,c,a,S)),D}return null},Vt.prototype.executeRender=function(t,e,r,a,o){var n=this,i=n.getRecords(),s=i.length;if(!s)return t;for(var c=n.multiplicationMatrix,l=n.generateColorTransform,p=0;s>p;p++){var g=i[p],u=g.getData(),f=u.length;if(f){var v=c(e,g.getMatrix());t.setTransform(v[0],v[1],v[2],v[3],v[4],v[5]);var h=g.getColor();h=l(h,r),t.fillStyle="rgba("+h.R+","+h.G+","+h.B+","+h.A+")";for(var d=0;f>d;d++){var y=u[d],b=y.cmd;a?b(t):(t.beginPath(),b(t),t.fill())}}}return a&&!o&&t.clip(),t.globalAlpha=1,t},Vt.prototype.renderHitTest=function(t,e,r,a,o){var n=this,i=n.getRecords(),s=i.length;if(!s)return!1;for(var c=!1,l=n.multiplicationMatrix,p=l(e,n.getMatrix()),g=l(r.getMatrix(),p),u=0;s>u;u++){var f=i[u],v=f.getData(),h=v.length;if(h){var d=l(g,f.getMatrix());t.setTransform(d[0],d[1],d[2],d[3],d[4],d[5]);for(var y=0;h>y;y++){var b=v[y],m=b.cmd;if(t.beginPath(),m(t),c=t.isPointInPath(a,o))return c}}}return c};var Wt=function(){var t=this;t.align="left",t.font="'HiraKakuProN-W3', 'sans-serif'",t.size=8,t.color={R:0,G:0,B:0,A:1},t.bold=0,t.italic=0,t.underline=0,t.bullet=0,t.kerning=0,t.blockIndent=0,t.indent=0,t.leading=80,t.leftMargin=0,t.rightMargin=0,t.letterSpacing=0,t.tabStops=[],t.url=null,t.target=null},zt=function(t,e,r,a){var o=this;Rt.call(o),t&&o.setName(t),e&&o.setLevel(e),r||(r=0),r*=20,a||(a=0),a*=20,o.fontId=0,o.bounds={xMin:0,xMax:r,yMin:0,yMax:a},o.input=null,o.inputActive=!1,o.span=null};zt.prototype=Object.create(Rt.prototype),zt.prototype.constructor=zt,Object.defineProperties(zt.prototype,{text:{get:function(){return this.variables.text},set:function(t){this.variables.text=t}},htmlText:{get:function(){return this.variables.text},set:function(t){this.variables.text=t}},size:{get:function(){return this.variables.size},set:function(t){this.variables.size=t}},font:{get:function(){return this.variables.font},set:function(t){this.variables.font=t}},type:{get:function(){return this.variables.type},set:function(t){this.variables.type=t,"input"===t&&this.setInputElement()}},multiline:{get:function(){return this.variables.multiline},set:function(t){this.variables.multiline=t,t&&(this.wordWrap=t),"input"===this.type&&this.setInputElement()}},wordWrap:{get:function(){return this.variables.wordWrap},set:function(t){this.variables.wordWrap=t,"input"===this.type&&this.setInputElement()}},border:{get:function(){return this.variables.border},set:function(t){this.variables.border=t}},borderColor:{get:function(){return this.variables.borderColor},set:function(t){"string"==typeof t&&(t=this.colorStringToInt(t)),t=this.intToRGBA(t),this.variables.borderColor=t}},background:{get:function(){return this.variables.background},set:function(t){this.variables.background=t}},backgroundColor:{get:function(){return this.variables.backgroundColor},set:function(t){"string"==typeof t&&(t=this.colorStringToInt(t)),t=this.intToRGBA(t),this.variables.backgroundColor=t}},textColor:{get:function(){return this.variables.textColor},set:function(t){"string"==typeof t&&(t=this.colorStringToInt(t)),t=this.intToRGBA(t),this.variables.textColor=t}},align:{get:function(){return this.variables.align},set:function(t){this.variables.align=t}},autoSize:{get:function(){return this.variables.autoSize},set:function(t){this.variables.autoSize=t}},onChanged:{get:function(){return this.variables.onChanged},set:function(t){this.variables.onChanged=t}}}),zt.prototype.intToRGBA=function(t,e){return e=e||100,{R:(16711680&t)>>16,G:(65280&t)>>8,B:255&t,A:e/100}},zt.prototype.colorStringToInt=function(t){var e=dt.getCanvas(),r=e.getContext("2d");r.fillStyle=t;var a="0x"+r.fillStyle.substr(1);return dt.destroy(r),a},zt.prototype.setInitParams=function(){var t=this,e={};e.antiAliasType=null,e.autoSize="none",e.background=0,e.backgroundColor={R:255,G:255,B:255,A:1},e.border=0,e.borderColor={R:0,G:0,B:0,A:1},e.condenseWhite=0,e.html=0,e.password=0,e.embedFonts=0,e.gridFitType="none",e.maxChars=null,e.mouseWheelEnabled=0,e.multiline=0,e.selectable=0,e.sharpness=0,e.textColor=0,e.thickness=0,e.type="dynamic",e.wordWrap=0,e.text="";for(var r in e)e.hasOwnProperty(r)&&t.setProperty(r,e[r]);t.setTextFormat(new Wt)},zt.prototype.getTagName=function(){return"__swf2js_input_element_"+this.instanceId},zt.prototype.setTextFormat=function(t){var e=this;for(var r in t)t.hasOwnProperty(r)&&e.setProperty(r,t[r])},zt.prototype.getBounds=function(t){var e=this;if(t){var r=e.boundsMatrix(e.bounds,t);for(var a in r)r.hasOwnProperty(a)&&(r[a]/=20);return r}return e.bounds},zt.prototype.setBounds=function(t){this.bounds=t},zt.prototype.setInputElement=function(){var t=this,e=t.variables,r=t.getDisplayObject("_root"),a=r.getParentStage(),o=n.createElement("textarea"),i=e.multiline,s=e.align,c=t.initialText;if(c||(c=e.text),o.onkeypress=null,i||(o.onkeypress=function(t){return 13===t.keyCode?!1:void 0}),o.style.position="absolute",o.style.webkitBorderRadius="0px",o.style.padding="1px",o.style.margin="0px",o.style.webkitAppearance="none",o.style.resize="none",o.style.border="none",o.style.overflow="hidden",o.style.backgroundColor="transparent",o.style.zIndex=2147483647,o.style.textAlign=s,o.value=c,"string"!=typeof c){for(var l="",p=c.length,g=0;p>g;g++){var u=c[g];l+=u.innerText,g+1!==p&&(l+="\n")}o.value=l}o.id=t.getTagName();var f=function(t,e,r){return function(){e.setProperty("text",r.value),e.inputActive=!1;var a=n.getElementById(t.getName());if(a){var o=n.getElementById(e.getTagName());if(o)try{a.removeChild(o)}catch(i){}}}};o.onblur=f(a,t,o),t.input=o},zt.prototype.setHitRange=function(t,e,r,a){var o=this,n=o.variables.type,i=s(o.getVisible(),r);if("input"===n&&i){var c=e.buttonHits,l=o.multiplicationMatrix(t,o.getMatrix()),p=o.getBounds(l);c[c.length]={xMax:p.xMax,xMin:p.xMin,yMax:p.yMax,yMin:p.yMin,parent:o}}},zt.prototype.render=function(t,e,r,a,o){var i=this;a.doneTags.unshift(i);var l=i.multiplicationColor,g=l(r,i.getColorTransform()),u=s(i.getVisible(),o),f=a.clipMc||a.isClipDepth,v=g[3]+g[7]/255;if(!(f||v&&u))return 0;var h=i.multiplicationMatrix,d=h(e,i.getMatrix()),y=i.preRender(t,d,g,a,o),m=y.preCtx,S=y.preMatrix,A=h(a.getMatrix(),S);m.setTransform(A[0],A[1],A[2],A[3],A[4],A[5]);var I=["TextField"],C=i.variables,x=C.text,k=C.variable;if(k){var T=i.getParent();x=T.getProperty(k),void 0===x&&(x=C.text)}"number"==typeof x&&(x+="");var M=C.html;if(M&&"string"==typeof x){-1!==x.indexOf("<sbr />")&&(x=x.replace(new RegExp("<sbr />","gi"),"\n")),-1!==x.indexOf("<b>")&&(x=x.replace(new RegExp("<b>","gi"),""),x=x.replace(new RegExp("</b>","gi"),""));var F=n.createElement("span");F.innerHTML=x;var B=F.getElementsByTagName("p"),U=B.length;if(U){for(var w=[],_=0;U>_;_++)w[_]=B[_];x=w}else x=F.innerText}m.textBaseline="top",void 0===x&&(x="");var Y,P,O,D=i.getBounds(),X=D.xMax,L=D.xMin,E=D.yMax,R=D.yMin,H=b(p(X-L)),N=b(p(E-R)),j=a.getScale(),G=C.autoSize,Z=C.wordWrap,V="string"==typeof x?x.split("\n"):x,W=V.length,z=0,K=0,q=!1,J="string"==typeof G?G.toLowerCase():G;switch(J){default:case"none":case!1:case 0:z=H,K=N;break;case!0:case 1:case"left":case"center":case"right":q=!0}var Q=i.getStage().getCharacter(i.fontId);if(q)if(C.embedFonts){var $=Q.CodeTable,tt=Q.FontAdvanceTable,et=i.fontScale;for(z=0,K=Q.FontAscent*et+C.leading,Y=0;W>Y;Y++)if(P=V[Y],"string"!=typeof P){var rt=P.firstChild;z=i.getDomWidth(rt,$,tt)}else for(var at=P.length,ot=0;at>ot;ot++){var nt=$.indexOf(P[ot].charCodeAt(0));-1!==nt&&(z+=tt[nt]*et)}}else{var it=20*C.size+C.leading;if(K=D.yMin+80,Z){for(z=H,Y=0;W>Y;Y++)if(P=V[Y],"string"==typeof P){O=m.measureText(P);var st=p(20*O.width);st>H&&(K+=p(p(st/H)*it))}}else for(Y=0;W>Y;Y++)P=V[Y],"string"==typeof P&&(O=m.measureText(P),z=c(z,p(20*O.width)),K+=it);z+=80}var ct=40;switch(J){case"center":ct=p((c(z,H)-s(z,H))/2);break;case"right":ct=p(c(z,H)-s(z,H))}if(H=z,N=K,H>0&&N>0){var lt,pt=i.isClipDepth||f,gt=L,ut=R,ft=i._matrix;if(ft){gt=-L,ut=-R;var vt=h(S,[1,0,0,1,L,R]);A=h(a.getMatrix(),vt),m.setTransform(A[0],A[1],A[2],A[3],A[4],A[5])}var ht=C.border;ht&&!pt&&(m.beginPath(),m.rect(gt-ct,ut,H,N),lt=i.generateColorTransform(C.borderColor,g),I[I.length]=lt,m.strokeStyle="rgba("+lt.R+","+lt.G+","+lt.B+","+lt.A+")",m.lineWidth=s(20,1/s(A[0],A[3])),m.globalAlpha=1,m.fillStyle="rgba(0,0,0,0)",C.background&&(lt=i.generateColorTransform(C.backgroundColor,g),I[I.length]=lt,m.fillStyle="rgba("+lt.R+","+lt.G+","+lt.B+","+lt.A+")"),m.fill(),m.stroke());var yt=C.textColor,bt=yt;"number"==typeof yt&&(bt=i.intToRGBA(yt,100)),lt=i.generateColorTransform(bt,g);var mt="rgba("+lt.R+","+lt.G+","+lt.B+","+lt.A+")";I[I.length]=mt,m.fillStyle=mt;var St="";C.italic&&(St+="italic "),C.bold&&(St+="bold ");var At=St+C.size+"px "+C.font;if(I[I.length]=At,m.font=At,null!==i.input){var It=i.input,Ct=p(C.size*j*s(S[0],S[3]));It.style.font=St+Ct+"px "+C.font,It.style.color="rgba("+lt.R+","+lt.G+","+lt.B+","+lt.A+")";var xt=C.onChanged;if(xt&&!It.onchange){var kt=function(t,e,r,a){return function(){r.active&&(r.setProperty("text",a.value),e.apply(r,arguments),t.executeAction())}};It.onchange=kt(a,xt,i,It)}}x&&!pt&&(m.save(),m.beginPath(),m.rect(gt-ct,ut,H,N-40),m.clip(),i.inputActive===!1&&(C.embedFonts?i.renderOutLine(m,Q,V,A,gt-ct,H,mt):i.renderText(m,V,A,St,mt)),m.restore(),m.globalAlpha=1),I[I.length]=x;var Tt=dt.generateKey(I.join("_"),i.getCharacterId(),A,g);return y.cacheKey=Tt,(y.isFilter||y.isBlend)&&i.postRender(t,e,g,a,y),Tt}return null},zt.prototype.renderOutLine=function(t,e,r,a,o,n,i){for(var s,c,l=this,g=l.variables,u=l.fontScale,f=(e.FontAscent+e.FontDescent)*u,v=g.rightMargin*u,h=g.leftMargin*u,d=g.indent*u,y=g.align,b="",m=e.CodeTable,S=e.GlyphShapeTable,A=e.FontAdvanceTable,I=e.FontAscent*u,C=I,x=g.wordWrap,k=g.multiline,T=l.getBounds(),M=p(T.xMax-T.xMin)-h-v,F=r.length,B=l.multiplicationMatrix,U=0;F>U;U++){var w,_=o,Y=0,P=0,O=r[U];if("string"!=typeof O){if(w=O.firstChild,!w)continue;Y=l.getDomWidth(w,m,A),b=O.innerText,y=g.align,O.align&&(y=O.align)}else for(b=O,P=b.length,s=0;P>s;s++)c=m.indexOf(b[s].charCodeAt(0)),-1!==c&&(Y+=A[c]*u);_+="right"===y?n-v-Y-40:"center"===y?d+h+40+(n-d-h-v-Y)/2:d+h+40;var D=_,X=0;if("string"!=typeof O){var L={XOffset:_,YOffset:I,cacheXOffset:D,cacheYOffset:C,wordWidth:X,addXOffset:0,size:w.size,areaWidth:M,matrix:a};l.renderDomOutLine(t,w,L,i,m,A,S)}else for(s=0;P>s;s++)if(c=m.indexOf(b[s].charCodeAt(0)),-1!==c){var E=A[c]*u;x&&k&&X+E>M&&(_=D,I+=C,X=0);var R=B(a,[u,0,0,u,_,I]);t.setTransform(R[0],R[1],R[2],R[3],R[4],R[5]),l.renderGlyph(S[c],t),_+=E,X+=E}I+=f}},zt.prototype.renderDomOutLine=function(t,e,r,a,o,n,i){var s=this,c=s.variables,l=c.wordWrap,p=c.multiline,g=s.multiplicationMatrix,u=s.getStage(),f=u.fonts,v=e.face,h=f[v],d=o,y=n,b=i,m=a;h&&(d=h.CodeTable,y=h.FontAdvanceTable,b=h.GlyphShapeTable),e.color&&(m=e.color),e.size&&(r.size=e.size);for(var S=e.childNodes,A=S.length,I=0;A>I;I++){var C=S[I];if(C instanceof HTMLFontElement)s.renderDomOutLine(t,C,r,m,d,y,b);else{var x,k=r.size,T=k/1024,M=C.nodeValue;if(!M)continue;for(var F=M.length,B=0;F>B;B++){var U=M[B],w=d.indexOf(U.charCodeAt(0));if(-1===w){if(w=o.indexOf(U.charCodeAt(0)),-1===w)continue;m=a,r.addXOffset=n[w]*T,x=i}else r.addXOffset=y[w]*T,x=b;l&&p&&r.wordWidth+r.addXOffset>r.areaWidth&&(r.XOffset=r.cacheXOffset,r.YOffset+=r.cacheYOffset,r.wordWidth=0);var _=[T,0,0,T,r.XOffset,r.YOffset],Y=g(r.matrix,_);t.setTransform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),t.fillStyle=m,s.renderGlyph(x[w],t),r.XOffset+=r.addXOffset,r.wordWidth+=r.addXOffset}}}},zt.prototype.getDomWidth=function(t,e,r){var a=this,o=a.fontScale,n=a.getStage(),i=n.fonts,s=0,c=t.face,l=i[c],p=e,g=r;l&&(p=l.CodeTable,g=l.FontAdvanceTable);for(var u=t.childNodes,f=u.length,v=0;f>v;v++){var h=u[v];if(h instanceof HTMLFontElement)s+=a.getDomWidth(h,p,g);else{var d=h.nodeValue;if(!d)continue;for(var y=d.length,b=0;y>b;b++){var m=d[b],S=p.indexOf(m.charCodeAt(0));if(-1===S){if(S=e.indexOf(m.charCodeAt(0)),-1===S)continue;s+=r[S]*o}else s+=g[S]*o}}}return s},zt.prototype.renderGlyph=function(t,e){t.data||(t.data=vt.convert(t));for(var r=t.data,a=r.length,o=0;a>o;o++){var n=r[o],i=n.cmd;e.beginPath(),i(e),e.fill()}},zt.prototype.renderText=function(t,e,r,a,o,n){var i=this,s=i.variables,l=s.wordWrap,g=s.multiline,u=s.leading/20,f=s.rightMargin/20,h=s.leftMargin/20,d=s.indent/20,y=s.align,b=i.getBounds(),m=b.xMax/20,S=b.xMin/20,A=p(m-S),I=[20*r[0],20*r[1],20*r[2],20*r[3],r[4],r[5]],C=v(I[0]*I[0]+I[1]*I[1]),x=v(I[2]*I[2]+I[3]*I[3]),k=c(C,x);t.setTransform(k,I[1],I[2],k,I[4],I[5]);var T=S,M=b.yMin/20+2;"right"===y?(t.textAlign="end",T+=A-f-2):"center"===y?(t.textAlign="center",T+=h+d+(A-h-d-f)/2):T+=2+h+d,b=i.getBounds(I);var F=b.xMax-b.xMin-(h-f)*C;F/=k;for(var B=s.size,U=e.length,w=0;U>w;w++){var _="",Y=e[w];if(_="string"!=typeof Y?Y.innerText:Y,""!==_){var P=t.measureText(_),O=P.width;if("string"==typeof Y)if(l||g)if(O>F)for(var D=_.length,X="",L=2*k,E=0;D>E;E++){var R=_[E],H=t.measureText(R);L+=H.width,X+=R;var N=_[E+1];N&&(H=t.measureText(N),L+=H.width),L>F||E+1===D?(t.fillText(X,T,M,p(L)),L=2*k,X="",M+=u+B):N&&(L-=H.width)}else t.fillText(_,T,M,O),M+=u+B;else t.fillText(_,T,M,O),M+=u+B;else{var j=Y.firstChild,G={startDx:T,dx:T,cloneDy:M,dy:M,color:o,fontType:a,fillStyle:o,size:B,scale:k,originSize:B,txtTotalWidth:O,areaWidth:F,joinWidth:0,joinTxt:"",offset:0,offsetArray:[]};if(0===G.offsetArray.length&&i.offsetDomText(t,j,G),G.dx=T,G.dy=M,G.cloneDy=M,G.size=B,G.joinWidth=0,G.joinTxt="",G.offset=0,G.offsetArray.length>0){var Z=G.offsetArray[0];Z&&(G.dy+=Z,G.cloneDy=G.dy)}i.renderDomText(t,j,G),M=G.dy}}else M+=u+B}},zt.prototype.offsetDomText=function(t,e,r){var a=this,o=a.variables,n=o.wordWrap,i=o.multiline,s=o.leading/20;if(e.face&&(r.face=e.face),e.size){var l=0|e.size,p=r.originSize-l;if(p)if(r.dy+=p,p>0)r.dy-=4;else{var g=r.offsetArray,u=r.offset,f=g[u];f?g[u]=c(f,~p):g[u]=~p,r.dy+=6}r.size=l}for(var v=e.childNodes,h=v.length,d=0;h>d;d++){var y=v[d];if(y instanceof HTMLFontElement)a.offsetDomText(t,y,r);else{var b=y.nodeValue;if(n&&i)if(r.txtTotalWidth>r.areaWidth)for(var m=b.length,S=0;m>S;S++){var A=t.measureText(b[S]);r.joinWidth+=A.width,r.joinTxt+=b[S];var I=r.joinWidth>r.areaWidth;(I||S+1===m)&&(r.dx+A.width>r.areaWidth&&(r.dx=r.startDx,r.dy+=s+r.size,r.cloneDy=r.dy,r.joinWidth=2*r.scale,I=!1,r.offset++),r.joinTxt="",I&&(r.dx=r.startDx,r.joinWidth=22*r.scale,r.dy+=s+r.size,r.cloneDy=r.dy,r.offset++))}else r.dy+=s+r.size,r.cloneDy=r.dy,r.offset++;else r.dy+=s+r.size,r.cloneDy=r.dy,r.offset++;var C=t.measureText(b);r.dx+=C.width,r.size=r.originSize,r.dy=r.cloneDy}}},zt.prototype.renderDomText=function(t,e,r){var a=this,o=a.variables,n=o.wordWrap,i=o.multiline,s=o.leading/20;if(e.face&&(r.face=e.face),e.color&&(r.color=e.color),e.size){var c=0|e.size,l=r.originSize-c;l&&(r.dy+=l,l>0?r.dy-=4:r.dy+=8),r.size=c}for(var g,u=e.childNodes,f=u.length,v=0;f>v;v++){var h=u[v];if(h instanceof HTMLFontElement)a.renderDomText(t,h,r);else{t.fillStyle=r.color,t.font=r.fontType+r.size+"px "+r.face;for(var d=h.nodeValue,y=d.split("\n"),b=y.length,m=0;b>m;m++){r.dx=r.startDx;var S=y[m];if(n&&i)if(r.txtTotalWidth>r.areaWidth)for(var A=S.length,I=0;A>I;I++){var C=t.measureText(S[I]);r.joinWidth+=C.width,r.joinTxt+=S[I];var x=r.joinWidth>r.areaWidth;(x||I+1===A)&&(r.dx+C.width>r.areaWidth&&(x=0,r.joinWidth=r.size,r.dx=r.startDx,r.offset++,r.dy+=s+r.size,r.offsetArray.length>0&&(g=r.offsetArray[r.offset],g&&(r.dy+=g)),r.cloneDy=r.dy),t.fillText(r.joinTxt,r.dx,r.dy,p(r.joinWidth)),r.joinTxt="",x&&(r.dx=r.startDx,r.joinWidth=r.size,r.offset++,r.dy+=s+r.size,r.offsetArray.length>0&&(g=r.offsetArray[r.offset],g&&(r.dy+=g)),r.cloneDy=r.dy))}else t.fillText(S,r.dx,r.dy,p(r.txtTotalWidth)),r.offset++,r.dy+=s+r.size,r.offsetArray.length>0&&(g=r.offsetArray[r.offset],g&&(r.dy+=g)),r.cloneDy=r.dy;else t.fillText(S,r.dx,r.dy,p(r.txtTotalWidth)),r.offset++,r.dy+=s+r.size,r.offsetArray.length>0&&(g=r.offsetArray[r.offset],g&&(r.dy+=g)),r.cloneDy=r.dy;var k=t.measureText(S);r.dx+=k.width,r.color=r.fillStyle,r.size=r.originSize,r.dy=r.cloneDy}}}},zt.prototype.putFrame=function(t,e){var r=this;r.active=!0,r.inputActive===!1&&r.dispatchEvent(e,t)},zt.prototype.renderHitTest=function(t,e,r,a,o){var n=this,i=n.getBounds(),s=i.xMax,c=i.xMin,l=i.yMax,g=i.yMin,u=p(s-c),f=p(l-g),v=n.multiplicationMatrix,h=v(e,n.getMatrix()),d=v(r.getMatrix(),h);t.setTransform(d[0],d[1],d[2],d[3],d[4],d[5]);var y=n._matrix;if(y){c=-c,g=-g;var b=v(h,[1,0,0,1,c,g]),m=v(r.getMatrix(),b);t.setTransform(m[0],m[1],m[2],m[3],m[4],m[5])}return t.beginPath(),t.rect(c,g,u,f),t.isPointInPath(a,o)},zt.prototype.initFrame=function(){},zt.prototype.addActions=function(){},zt.prototype.getTags=function(){};var Kt=function(){var t=this;Rt.call(t),t.actions=[],t._downState=new jt,t._hitState=new jt,t._overState=new jt,t._upState=new jt};Kt.prototype=Object.create(Rt.prototype),Kt.prototype.constructor=Kt,Object.defineProperties(Kt.prototype,{downState:{get:function(){return this.getSprite("down")},set:function(t){this.setSprite("down",t)}},hitState:{get:function(){return this.getSprite("hit")},set:function(t){this.setSprite("hit",t)}},overState:{get:function(){return this.getSprite("over")},set:function(t){this.setSprite("over",t)}},upState:{get:function(){return this.getSprite("up")},set:function(t){this.setSprite("up",t)}}}),Kt.prototype.getActions=function(){return this.actions},Kt.prototype.setActions=function(t){this.actions=t},Kt.prototype.setButtonStatus=function(t){var e=this;e.getButtonStatus()!==t&&e.buttonReset(t),e.buttonStatus=t},Kt.prototype.getSprite=function(t){var e=this;return t||(t=e.buttonStatus),t+="State",e["_"+t]},Kt.prototype.setSprite=function(t,e){var r=this,a=r.getStage(),o=0;switch(t){case"down":o=1;break;case"hit":o=2;break;case"over":o=3;break;case"up":o=4}a.setPlaceObject(new bt,r.instanceId,o,0),e.setParent(r),e.setLevel(o),e.setStage(a);var n=e.getContainer();for(var i in n)if(n.hasOwnProperty(i)){var s=n[i],c=a.getInstance(s);c.setParentSprite(e)}t+="State",r["_"+t]=e},Kt.prototype.getBounds=function(t,e){var r=this,a=0,o=0,n=0,i=0,l=r.getSprite(e),p=l.getContainer(),g=p.length;if(g){var u=r.getStage(),f=x.MAX_VALUE;a=-f,o=-f,n=f,i=f;var v=r.multiplicationMatrix;for(var h in p)if(p.hasOwnProperty(h)){var d=p[h],y=u.getInstance(d);if(y&&!y.isClipDepth){var b=t?v(t,y.getMatrix()):y.getMatrix(),m=y.getBounds(b,e);m&&(n=s(n,m.xMin),a=c(a,m.xMax),i=s(i,m.yMin),o=c(o,m.yMax))}}}return{xMin:n,xMax:a,yMin:i,yMax:o}},Kt.prototype.buttonReset=function(t){var e=this,r=e.getSprite(),a=r.getContainer(),o=e.getSprite(t),n=o.getContainer(),i=e.getStage();for(var s in a)if(a.hasOwnProperty(s)){var c=a[s];if(!(s in n&&c===n[s])){var l=i.getInstance(c);l&&l.reset()}}},Kt.prototype.setHitRange=function(t,e,r,a){var o=this,n=s(o.getVisible(),r);if(o.getEnabled()&&n){var i=e.buttonHits;if(q){var c=o.getActions(),l=c.length;if(l)for(var p=0;l>p;p++){var g=c[p];13===g.CondKeyPress&&(i[i.length]={button:o,xMin:0,xMax:e.getWidth(),yMin:0,yMax:e.getHeight(),CondKeyPress:g.CondKeyPress,parent:o.getParent()})}}var u="hit",f=o.getSprite(u),v=f.getContainer();if(v.length||(u="up",f=o.getSprite(u),v=f.getContainer()),v.length){var h=o.multiplicationMatrix(t,o.getMatrix()),d=o.getBounds(h,u);d&&(i[i.length]={button:o,xMin:d.xMin,xMax:d.xMax,yMin:d.yMin,yMax:d.yMax,CondKeyPress:0,parent:o.getParent(),matrix:o.cloneArray(t)})}}},Kt.prototype.render=function(t,e,r,a,o){var n=this,i=n.multiplicationColor,c=i(r,n.getColorTransform()),l=n.multiplicationMatrix,p=l(e,n.getMatrix()),g=s(n.getVisible(),o),u=n.preRender(t,p,c,a,g),f=n.getSprite(),v=l(u.preMatrix,f.getMatrix()),h=i(c,f.getColorTransform());g=s(f.getVisible(),o);var d=u.cacheKey;return d+=f.render(u.preCtx,v,h,a,g),(u.isFilter||u.isBlend)&&(u.cacheKey=d,n.postRender(t,e,r,a,u)),d},Kt.prototype.renderHitTest=function(t,e,r,a,o){var n=this,i=n.getSprite("hit"),s=i.getContainer(),c=s.length;if(!c)return!1;var l=n.multiplicationMatrix,p=l(e,n.getMatrix()),g=l(p,i.getMatrix());if(c){var u=n.getStage();for(var f in s)if(s.hasOwnProperty(f)){var v=s[f],h=u.getInstance(v);if(h){var d=h.renderHitTest(t,g,r,a,o);if(d)return d}}}return!1},Kt.prototype.hitCheck=function(t,e,r,a,o){var n=this,i=n.getSprite("hit"),s=i.getContainer(),c=s.length;if(!c)return!1;var l=n.multiplicationMatrix,p=l(e,n.getMatrix()),g=l(p,i.getMatrix()),u=!1,f=!1;if(c){var v=n.getStage();s.reverse();for(var h in s)if(s.hasOwnProperty(h)){var d=s[h],y=v.getInstance(d);if(f=y instanceof Gt||y instanceof Vt||y instanceof zt?y.renderHitTest(t,g,r,a,o):y.hitCheck(t,g,r,a,o)){if(u=f,"object"!=typeof f){var b=n.events;(void 0!==b.press||void 0!==b.release||void 0!==b.releaseOutside||void 0!==b.rollOver||void 0!==b.rollOut||void 0!==b.dragOver||void 0!==b.dragOut)&&(r.isHit=f,u={parent:n.getParent(),button:n})}return s.reverse(),u}}s.reverse()}return!1},Kt.prototype.addActions=function(t){var e=this,r=e.getSprite(),a=r.getContainer(),o=a.length;if(o){var n=e.getStage();for(var i in a)if(a.hasOwnProperty(i)){var s=a[i],c=n.getInstance(s);c&&c.addActions(t)}}},Kt.prototype.getTags=function(){},Kt.prototype.initFrame=function(){};var qt=function(){var t=this;jt.call(t),t._currentframe=1,t.removeTags=[],t.actions=[],t.labels=[],t.stopFlag=!1,t.isAction=!0,t.isClipDepth=!1,t.clipDepth=0,t.sounds=[],t.soundStopFlag=!1};qt.prototype=Object.create(jt.prototype),qt.prototype.constructor=qt,qt.prototype.dispatchOnEvent=function(t,e){var r=this,a=r.variables[t];a&&r.setActionQueue(a,e)},qt.prototype.createEmptyMovieClip=function(t,e){var r=this,a=r.getStage();if(void 0!==t){var o=r.getDisplayObject(t);o||(o=new qt),e+=16384,o.setName(t),o.setLevel(e),o.setParent(r),o.setStage(a);for(var n=r.getContainer(),i=r.getTotalFrames()+1,s=new bt,c=r.instanceId,l=1;i>l;l++)l in n||(n[l]=[]),n[l][e]=o.instanceId,a.setPlaceObject(s,c,e,l);return o}},qt.prototype.createTextField=function(t,e,r,a,o,n){16384>e&&(e+=16384);var i=this,s=new zt(t,e,o,n);s.setX(r),s.setY(a),s.setParent(i),s.setStage(i.getStage()),s.setInitParams();var c=i.getContainer();for(var l in c)c.hasOwnProperty(l)&&(c[l][e]=s.instanceId);
return s},qt.prototype.setBackgroundColor=function(t,e,r){var a=this,o=a.getStage();o.setBackgroundColor(t,e,r)},qt.prototype.play=function(){this.stopFlag=!1},qt.prototype.stop=function(){this.stopFlag=!0},qt.prototype.gotoAndPlay=function(t){var e=this;T(t)?"string"==typeof t&&(t=e.getLabel(t)):t=+t,"number"==typeof t&&t>0&&(e.setNextFrame(t),e.play())},qt.prototype.gotoAndStop=function(t){var e=this;"string"==typeof t&&(t=e.getLabel(t)),t|=0,"number"==typeof t&&t>e.getTotalFrames()&&(t=e.getTotalFrames(),e.isAction=!1),t>0&&(e.setNextFrame(t),e.stop())},qt.prototype.stopAllSounds=function(){var t=this.getStage(),e=t.loadSounds,r=e.length,a=function(){this.removeEventListener("pause",a),this.currentTime=0,this.loop=!1};if(r>0)for(;r--;)if(r in e){var o=e[r];o.addEventListener("pause",a),o.pause()}t.loadSounds=[]},qt.prototype.loadMovie=function(t,e,r){var a=this,o=a.getStage(),n=null;if(e||(e=a.getName(),n=a),!n){if("string"==typeof e){var i=e.substr(0,6);"_level"===i&&(e=+e.substr(6))}if("number"==typeof e){var s=o.getParent();s||(s=o.getParent());var c=s.getTags();n=c[e]}else n=a.getDisplayObject(e)}if(n){a.unloadMovie(n);var l=new XMLHttpRequest,p=t,g=null;if(2===r){var u=t.split("?");void 0!==u[1]&&(g=u[1]),p=u[0],l.open("POST",p,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}else l.open("GET",p,!0);Q?l.responseType="arraybuffer":l.overrideMimeType("text/plain; charset=x-user-defined"),l.onreadystatechange=function(){var r=l.readyState,i=l.status;if(4===r)switch(i){case 200:case 304:var s=a.getDisplayObject("_root"),c=s.getStage(),g=Q?l.response:l.responseText,u=new ce;H[u.getId()]=u,n._url=t,n.reset(),u.setParent(n),n.setLoadStage(u),u.parse(g,p),u.stop(),(0===e||"number"!=typeof e&&!n.getParent())&&(o.stop(),u.setId(o.getId()),u.setName(o.getName()),u.backgroundColor=o.backgroundColor,u.initCanvas(),u.loadStatus=2,u.loadEvent(),delete H[u.getId()],R[o.getId()]=u,o=null);var f=n.variables.onData;"function"==typeof f&&u.executeEventAction(f,n),Dt.type="data",n.dispatchEvent(Dt,c),n.addActions(c)}},l.send(g)}},qt.prototype.unloadMovie=function(t){var e=this,r=null;if(t instanceof qt)r=t;else if(r=e.getDisplayObject(t),!r)return 0;r.reset(),r.setLoadStage(null),r.setStage(e.getStage()),r.container=[],r.actions=[],r.instances=[],r.labels=[],r.sounds=[],r.removeTags=[],r._totalframes=1,r._url=null,r._lockroot=void 0;var a=r.getStage();delete H[a.getId()]},qt.prototype.getURL=function(t,e,r){var a=this;if("string"==typeof t){var o=t.substr(0,9);if("FSCommand"===o){var i=t.split(":");o=i.pop();var s=arguments[1];void 0===s&&(s="");var c=a.getStage(),l=c.abc.flash.system.fscommand;return l.apply(c,[o,s])}}if(e&&"string"==typeof e)switch(e.toLowerCase()){case"_self":case"_blank":case"_parent":case"_top":break;case"post":e="_self",r="GET";break;case"get":e="_self",r="GET";break;default:return r||(r="GET"),a.loadMovie(t,e,r),0}if("POST"===r){var p=n.createElement("form");p.action=t,p.method=r,e&&(p.target=e);var g=t.split("?");if(g.length>1)for(var u=g[1].split("&"),f=u.length,v=encodeURI,h=0;f>h;h++){var d=u[h].split("="),y=n.createElement("input");y.type="hidden",y.name=d[0],y.value=v(d[1]||""),p.appendChild(y)}n.body.appendChild(p),p.submit()}else{var b=new w("location.href = '"+t+"';");b()}},qt.prototype.loadVariables=function(t,e,r){var a=this,o=a;if(e&&(o=a.getDisplayObject(e)),o){var n=new XMLHttpRequest,i=null;if("POST"===r){var s=t.split("?");void 0!==s[1]&&(i=s[1]),n.open(r,s[0],!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}else n.open("GET",t,!0);n.onreadystatechange=function(){var t=n.readyState;if(4===t){var e=n.status;switch(e){case 200:case 304:for(var r=decodeURIComponent(n.responseText),i=r.split("&"),s=i.length,c=0;s>c;c++){var l=i[c],p=l.split("=");o.setVariable(p[0],p[1])}var g=a.getDisplayObject(),u=g.getStage(),f=a.getStage(),v=o.variables.onData;"function"==typeof v&&f.executeEventAction(v,o),Dt.type="data",o.dispatchEvent(Dt,u)}}},n.send(i)}},qt.prototype.hitTest=function(){var t=this,e=arguments[0],r=0,a=0,o=!1;if(!(e instanceof qt||(r=arguments[0],a=arguments[1],o=arguments[2],r&&a)))return!1;var n=t.getHitBounds(),i=n.xMax,s=n.xMin,c=n.yMax,l=n.yMin;if(e instanceof qt){var p=e.getHitBounds(),g=p.xMax,u=p.xMin,f=p.yMax,v=p.yMin;return g>s&&f>l&&i>u&&c>v}if(r>=s&&i>=r&&a>=l&&c>=a){if(o){for(var h=[1,0,0,1,0,0],d=t,y=t.multiplicationMatrix;;){var b=d.getParent();if(!b.getParent())break;h=y(b.getMatrix(),h),d=b}var m=t.getDisplayObject("_root"),S=m.getStage(),A=S.hitContext,I=S.getScale();return r*=I,a*=I,a*=rt,r*=rt,t.renderHitTest(A,h,S,r,a)}return!0}return!1},qt.prototype.getHitBounds=function(){for(var t=this,e=t,r=t.getMatrix(),a=t.multiplicationMatrix;;){var o=e.getParent();if(!o.getParent())break;r=a(o.getMatrix(),r),e=o}return t.getBounds(r)},qt.prototype.getInstanceAtDepth=function(t){var e=this,r=e.getParent();r||(r=e.getDisplayObject("_root"));var a=r.getTags();return t+=16384,a[t]},qt.prototype.swapDepths=function(){var t=this,e=arguments[0],r=0,a=t.getParent();if(a){var o=a.getTags();if(e instanceof qt){if(a===e.getParent()){r=t.getDepth()+16384;var n=e.getDepth()+16384;t.setDepth(r,n,e)}}else if(r=arguments[0],T(r)&&(r=a.getNextHighestDepth()),16384>r&&(r+=16384),r in o){var i=o[r];if(i!==t.instanceId){var s=t.getStage(),c=s.getInstance(i);t.swapDepths(c)}}else t.setDepth(r,null,null)}},qt.prototype.attachMovie=function(t,e,r,a){var o=null,n=this;T(r)&&(r=n.getNextHighestDepth()),16384>r&&(r+=16384);var i=n.getDisplayObject(e);i&&i.removeMovieClip();var s=n.getStage(),c=s.exportAssets;if(t in c){var l=c[t],p=s.getCharacter(l);if(p){o=new qt,o.setStage(s),o.setParent(n),o.setCharacterId(l),o.setLevel(r),o.setName(e),o.setTarget(n.getTarget()+"/"+e);var g=s.initActions[l];"function"==typeof g&&(o.active=!0,g.apply(o),o.reset());var u=s.registerClass[l];u&&(o.variables.registerClass=new u);var f=new mt(s,null);f.build(p,o);for(var v=new bt,h=n.instanceId,d=n.getTotalFrames()+1,y=n.getContainer(),b=1;d>b;b++)b in y||(y[b]=[]),y[b][r]=o.instanceId,s.setPlaceObject(v,h,r,b);if(a)for(var m in a)a.hasOwnProperty(m)&&o.setProperty(m,a[m]);var S=n.getDisplayObject("_root"),A=S.getStage();o.addActions(A)}}return o},qt.prototype.getNextHighestDepth=function(){var t=0,e=this,r=e.getContainer();for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];t=c(t,o.length)}return 16384>t&&(t=0),t},qt.prototype.getBytesLoaded=function(){var t=this,e=t.getStage(),r=e.bitio;return r?r.byte_offset:e.fileSize},qt.prototype.getBytesTotal=function(){var t=this,e=t.getStage();return e.fileSize},qt.prototype.updateAfterEvent=function(){var t=this,e=t.getDisplayObject("_root"),r=e.getStage();r.touchRender()},qt.prototype.duplicateMovieClip=function(){var t,e,r=this,a=r.getDisplayObject("_root"),o=a.getStage(),n=arguments[0],i=arguments[1],s=arguments[2],c=r.getDisplayObject(i);!c&&o.getVersion()>4&&(n=arguments[0],s=arguments[1],T(s)&&(t=r.getParent(),t||(t=o.getParent()),s=t.getNextHighestDepth()),e=arguments[2],c=r),16384>s&&(s+=16384);var l;if(void 0!==c&&0!==c.getCharacterId()){o=c.getStage(),t=c.getParent(),t||(t=o.getParent());var p=o.getCharacter(c.characterId),g=new mt(o);if(p instanceof Array)l=new qt,l.setStage(o),l.setParent(t),l.setLevel(s),l.setTotalFrames(c.getTotalFrames()),l.setCharacterId(c.characterId),g.build(p,l);else{var u={CharacterId:c.characterId,Ratio:0,Depth:s};l=g.buildObject(u,t)}l.setName(n),c._matrix&&(l._blendMode=c._blendMode,l._filters=c._filters,l._matrix=r.cloneArray(c._matrix),l._colorTransform=r.cloneArray(c._colorTransform));for(var f=t.getTotalFrames()+1,v=t.getContainer(),h=t.instanceId,d=o.placeObjects[h],y=c.getLevel(),b=1;f>b;b++)if(b in v||(v[b]=[]),v[b][s]=l.instanceId,b in d){var m=d[b][y];m&&(b in d||(d[b]=[]),d[b][s]=m.clone())}if(e)for(var S in e)e.hasOwnProperty(S)&&l.setProperty(S,e[S]);l.addActions(o)}return l},qt.prototype.removeMovieClip=function(t){var e=this,r=e;if("string"==typeof t){var a=e.getDisplayObject(t);a&&(r=a)}var o=r.getDepth()+16384,n=r.getLevel();if(r instanceof qt&&o>=16384){r.reset(),r.removeFlag=!0;for(var i,s=r.getParent(),c=s.getContainer(),l=r.instanceId,p=s.getTotalFrames()+1;--p;)if(p in c){var g=c[p];o in g&&(i=g[o],i===l&&delete c[p][o]),o!==n&&16384>n&&(n in g||(g[n]=l))}}},qt.prototype.initFrame=function(){var t=this;t.active=!0;var e=t.getStage(),r=t.getTags(),a=r.length;if(a){r.reverse();for(var o in r)if(r.hasOwnProperty(o)){var n=r[o],i=e.getInstance(n);i&&i.initFrame()}r.reverse()}var s=e.initActions[t.getCharacterId()];"function"==typeof s&&s.apply(t)},qt.prototype.putFrame=function(t,e){var r,a=this,o=a.getStage(),n=a.stopFlag;if(!n&&a.active){var i=a.getCurrentFrame(),s=a.getTotalFrames();s>1&&(a.isLoad&&(r=a.getTags(),i++),i>s&&(i=1,a.resetCheck()),a.setCurrentFrame(i),a.remove(t),a.isAction=!0,a.soundStopFlag=!1)}if(a.removeFlag)return 0;if(a.active=!0,void 0!==r){a.isSwap&&a.resetSwap();var c=a.getTags(),l=c.length;if(l&&c.toString()!==r.toString())for(var p in c)if(c.hasOwnProperty(p)){var g=c[p];if(!(p in r&&g===r[p])){var u=o.getInstance(g);u&&u instanceof qt&&t.newTags.unshift(u)}}}if(a.isLoad){if(e.type="enterFrame",a.dispatchEvent(e,t),a.dispatchOnEvent("onEnterFrame",t),a.addTouchEvent(t),a.isAction){a.isAction=!1;var f=a.getActions(a.getCurrentFrame());f&&a.setActionQueue(f,t)}}else{var v=o.initActions[a.getCharacterId()];"function"==typeof v&&v.apply(a)}},qt.prototype.nextFrame=function(){var t=this,e=t.getCurrentFrame();e++,t.setNextFrame(e),t.stop()},qt.prototype.prevFrame=function(){var t=this,e=t.getCurrentFrame();e--,t.setNextFrame(e),t.stop()},qt.prototype.getCurrentFrame=function(){return this._currentframe},qt.prototype.setCurrentFrame=function(t){this._currentframe=t},qt.prototype.setNextFrame=function(t){var e=this;if(t>0&&e.getCurrentFrame()!==t){e.isAction=!0,t>e.getTotalFrames()&&(t=e.getTotalFrames(),e.isAction=!1);var r,a,o,n,i,l=c(t,e.getCurrentFrame())+1,p=s(t,e.getCurrentFrame()),g=e.getStage(),u=e.getTags(),f=[],v=e.getTags(t),h=c(u.length,v.length);if(h)for(o=0;h>o;o++)if((o in u||o in v)&&(a=u[o],i=v[o],a||i))if(r=g.getInstance(a),n=g.getInstance(i),a&&i){if(a===i){f[a]=!0;continue}r.reset(),n.reset(),f[a]=!0,f[i]=!0}else r?(r.reset(),f[a]=!0):n&&(n.reset(),f[i]=!0);if(f.length)for(var d=p;l>d;d++){var y=e.getTags(d);if(y.length)for(o in y)y.hasOwnProperty(o)&&(a=y[o],a in f||(f[a]=!0,r=g.getInstance(a),r.reset()))}e.setCurrentFrame(t),e.soundStopFlag=!1;var b=e.getDisplayObject("_root"),m=b.getStage();e.addActions(m)}},qt.prototype.getTotalFrames=function(){return this._totalframes},qt.prototype.setTotalFrames=function(t){this._totalframes=t,this._framesloaded=t},qt.prototype.addLabel=function(t,e){"string"!=typeof e&&(e+=""),this.labels[e.toLowerCase()]=0|t},qt.prototype.getLabel=function(t){return"string"!=typeof t&&(t+=""),this.labels[t.toLowerCase()]},qt.prototype.addSound=function(t,e){var r=this;t in r.sounds||(r.sounds[t]=[]),r.sounds[t].push(e)},qt.prototype.getSounds=function(){var t=this;return t.sounds[t.getCurrentFrame()]},qt.prototype.startSound=function(t){var e=this,a=e.getStage(),o=t.SoundId,n=a.getCharacter(o);if(!n)return 0;var i=n.SoundInfo;r(t.Audio,i),e.soundStopFlag=!0},qt.prototype.getTags=function(t){var e=this,r=t||e.getCurrentFrame();return e.container[r]||[]},qt.prototype.setRemoveTag=function(t,e){var r=this.removeTags;r[t]=[];for(var a=e.length,o=0;a>o;o++){var n=e[o];r[t][n.Depth]=1}},qt.prototype.getRemoveTags=function(t){return this.removeTags[t]},qt.prototype.remove=function(t){var e=this,r=e.getRemoveTags(e.getCurrentFrame());if(r){var a=e.getStage(),o=e.getCurrentFrame()-1,n=e.getTags(o);for(var i in n)if(n.hasOwnProperty(i)){var s=n[i],c=a.getInstance(s);if(c)if(c instanceof qt){var l=c.getDepth()+16384;if(!(l in r))continue;Dt.type="unload",e.dispatchEvent(Dt,t),c.reset()}else{if(!(i in r))continue;c.reset()}}}},qt.prototype.resetCheck=function(){var t=this,e=t.getInstances(),r=t.getStage();for(var a in e)if(e.hasOwnProperty(a)){var o=r.getInstance(a);o&&(o.getRatio()||o.removeFlag)&&o.reset()}},qt.prototype.resetSwap=function(){for(var t=this,e=t.getStage(),r=t.getTags(),a=t.getTotalFrames()+1,o=1;a>o;o++){var n=t.getTags(o),i=n.length;if(i){var s=[];for(var c in n)if(n.hasOwnProperty(c)){c|=0;var l=n[c],p=e.getInstance(l);p?p.active||p.getLevel()!==c&&(p.getLevel()in r||(p._depth=null,s[p.getLevel()]=l),delete n[c]):delete n[c]}if(i=s.length)for(var g in s)s.hasOwnProperty(g)&&(n[g]=s[g])}}t.isSwap=!1},qt.prototype.reset=function(){var t=this,e=t.getStage(),r=t.getInstances();for(var a in r)if(r.hasOwnProperty(a)){var o=e.getInstance(a);o instanceof qt&&o.getDepth()>=0?(o.removeMovieClip(),o.getDepth()<0&&(o.removeFlag=!1)):o.reset()}var n=t.getParent();n&&t.getLevel()!==t.getDepth()+16384&&(n.isSwap=!0),t.play(),t.setCurrentFrame(1),t.clear(),t.initParams(),t.variables={}},qt.prototype.initParams=function(){var t=this;t.active=!1,t.removeFlag=!1,t.isLoad=!1,t.isMask=!1,t.isAction=!0,t.soundStopFlag=!1,t._droptarget=null,t._depth=null,t._mask=null,t._matrix=null,t._colorTransform=null,t._filters=null,t._blendMode=null,t.buttonStatus="up",t.mouseEnabled=!0,t.setVisible(!0),t.setEnabled(!0)},qt.prototype.addTouchEvent=function(t){var e=this,r=e.events,a=t.moveEventHits,o=t.downEventHits,n=t.upEventHits,i=t.keyDownEventHits;for(var s in r)if(r.hasOwnProperty(s)){var c=r[s];switch(s){case"mouseDown":o[o.length]={as:c,mc:e};break;case"mouseMove":a[a.length]={as:c,mc:e};break;case"mouseUp":n[n.length]={as:c,mc:e};break;case"keyDown":q?o[o.length]={as:c,mc:e}:i[i.length]={as:c,mc:e};break;case"keyUp":n[n.length]={as:c,mc:e}}}var l=e.variables,p=l.onMouseDown;p&&(o[o.length]={mc:e});var g=l.onMouseMove;g&&(a[a.length]={mc:e});var u=l.onMouseUp;u&&(n[n.length]={mc:e})},qt.prototype.createActionScript=function(t){return function(t,e){var r=new It([],e.constantPool,e.register,e.initAction);return r.cache=e.cache,r.scope=t,function(){return r.reset(),r.variables["this"]=this,r.execute(t)}}(this,t)},qt.prototype.createActionScript2=function(t,e){return function(t,e,r){return function(){var a=new It([],e.constantPool,e.register,e.initAction);return a.parentId=e.id,a.cache=e.cache,a.scope=t,a.parent=r?r:null,a.register.length&&a.initVariable(arguments),a.variables["this"]=this,a.execute(t)}}(this,t,e)},qt.prototype.addFrameScript=function(){for(var t=this,e=arguments,r=e.length,a=0;r>a;a++){var o=e[a++],n=e[a];if("string"==typeof o?o=t.getLabel(o):o+=1,o=0|o,o>0&&t.getTotalFrames()>=o){var i=t.actions;if(o in i||(i[o]=[]),null===n)i[o]=[];else{var s=i[o].length;i[o][s]=n}}}},qt.prototype.addActions=function(t){var e=this;e.active=!0;var r=e.getStage();if(e.isAction){if(e.isAction=!1,!e.isLoad){e.buildAVM2();var a=r.registerClass[e.getCharacterId()];"function"==typeof a&&(e.variables.registerClass=new a),Dt.type="initialize",e.dispatchEvent(Dt,t),Dt.type="construct",e.dispatchEvent(Dt,t),Dt.type="load",e.dispatchEvent(Dt,t);var o=e.variables.onLoad;"function"==typeof o&&e.setActionQueue(o,t),e.addTouchEvent(t)}var n=e.getActions(e.getCurrentFrame());n&&e.setActionQueue(n,t)}var i=e.getTags(),s=i.length;if(s)for(var c in i)if(i.hasOwnProperty(c)){var l=i[c],p=r.getInstance(l);p&&p.addActions(t)}},qt.prototype.getActions=function(t){return this.actions[t]},qt.prototype.setActions=function(t,e){var r=this,a=r.actions;t in a||(a[t]=[]);var o=a[t].length;a[t][o]=r.createActionScript(e)},qt.prototype.overWriteAction=function(t,e){var r=this;"string"==typeof t&&(t=r.getLabel(t)),t=0|t,t>0&&r.getTotalFrames()>=t&&(r.actions[t]=[e])},qt.prototype.addAction=function(t,e){var r=this;if("string"==typeof t&&(t=r.getLabel(t)),t=0|t,t>0&&r.getTotalFrames()>=t){var a=r.actions;t in a||(a[t]=[]);var o=a[t].length;a[t][o]=e}},qt.prototype.executeActions=function(t){var e=this,r=e.getActions(t);if(void 0!==r)for(var a=r.length,o=0;a>o;o++)r[o].apply(e)},qt.prototype.ASSetPropFlags=function(){},qt.prototype.beginFill=function(t,e){var r=this.getGraphics();r.beginFill(t,e)},qt.prototype.lineStyle=function(t,e,r,a,o,n,i,s){var c=this.getGraphics();c.lineStyle(t,e,r,a,o,n,i,s)},qt.prototype.moveTo=function(t,e){var r=this.getGraphics();r.moveTo(t,e)},qt.prototype.lineTo=function(t,e){var r=this.getGraphics();r.lineTo(t,e)},qt.prototype.curveTo=function(t,e,r,a){var o=this.getGraphics();o.curveTo(t,e,r,a)},qt.prototype.clear=function(){var t=this.getGraphics();t.clear()},qt.prototype.endFill=function(){var t=this.getGraphics();t.endFill()},qt.prototype.buildAVM2=function(){var t=this,e=t.getStage(),r=e.symbols[t.getCharacterId()];if(r){for(var a=r.split("."),o=a.pop(),n=a.length,i=e.avm2,s=e.abc,c=0;n>c;c++)i=i[a[c]],s=s[a[c]];var l=s[o],p=new l(t);i[o]=p,t.avm2=p;var g=p[o];"function"==typeof g&&(t.actions=[],g.apply(t))}};var Jt=function(){var t=this;t.events={onLoadStart:void 0,onLoadProgress:void 0,onLoadComplete:void 0,onLoadInit:void 0,onLoadError:void 0}};Jt.prototype.loadClip=function(t,e){if(!t||!e)return!1;var r=this,a=r.events,o=new XMLHttpRequest;o.open("GET",t,!0),Q?o.responseType="arraybuffer":o.overrideMimeType("text/plain; charset=x-user-defined");var n=a.onLoadProgress;n||(n=r.onLoadProgress),"function"==typeof n&&(o.onprogress=function(t){n.apply(r,[e,t.loaded,t.total])});var i=a.onLoadComplete;return i||(i=r.onLoadComplete),"function"==typeof i&&(o.onloadend=function(t){var a=t.currentTarget.status;200===a&&i.apply(r,[e,a])}),o.onreadystatechange=function(){var n=o.readyState;if(4===n){var i=o.status,s=a.onLoadStart;switch(s||(s=r.onLoadStart),"function"==typeof s&&(o.onloadstart=function(){s.apply(r,[e])}),i){case 200:case 304:var c=e.getDisplayObject("_root"),l=c.getStage(),p=Q?o.response:o.responseText,g=new ce;H[g.getId()]=g,e._url=t,e.reset(),e.setLoadStage(g),g.setParent(e),g.parse(p,t),g.stop();var u=a.onLoadInit;if(u||(u=r.onLoadInit),"function"==typeof u){var f=function(t,e,r){return function(){return t.apply(e,[r])}}(u,r,e);e.events.load=[f]}e.addActions(l);break;default:var v=a.onLoadError;v||(v=r.onLoadError),"function"==typeof v&&v.apply(r,[e,"error",i])}}},o.send(null),!0},Jt.prototype.addListener=function(t){var e=this;if(t&&"object"==typeof t)for(var r=["onLoadStart","onLoadProgress","onLoadComplete","onLoadInit","onLoadError"],a=t.variables,o=0;5>o;o++){var n=r[o];"function"==typeof t[n]?e.events[n]=t[n]:a&&"function"==typeof a[n]&&(e.events[n]=a[n])}return!0},Jt.prototype.removeListener=function(t){var e=this;if(t&&"object"==typeof t)for(var r=["onLoadStart","onLoadProgress","onLoadComplete","onLoadInit","onLoadError"],a=0;5>a;a++){var o=r[a],n=t.variables;("function"==typeof t[o]||n&&"function"==typeof n[o])&&(e.events[o]=void 0)}return!0},Jt.prototype.getProgress=function(t){return{bytesLoaded:0,bytesTotal:0}};var Qt=function(){var t=this;t.xmlHttpRequest=new XMLHttpRequest,t.variables={},t.target=t,t.events={onData:void 0,onLoad:void 0}};Object.defineProperties(Qt.prototype,{onData:{get:function(){return this.getProperty("onData")},set:function(t){this.setProperty("onData",t)}},onLoad:{get:function(){return this.getProperty("onLoad")},set:function(t){this.setProperty("onLoad",t)}}}),Qt.prototype.getProperty=function(t){return this.variables[t]},Qt.prototype.setProperty=function(t,e){this.variables[String(t)]=e},Qt.prototype.load=function(t){var e=this,r=e.xmlHttpRequest;r.open("GET",t,!0),r.onreadystatechange=function(){var t=r.readyState;if(4===t){var a=decodeURIComponent(r.responseText);e.decode(a);var o=e.onData;"function"==typeof o&&o.apply(a,[a]);var n,i=r.status;switch(i){case 200:case 304:return n=e.onLoad,"function"==typeof n&&n.apply(a,[!0]),!0;default:return n=e.onLoad,"function"==typeof n&&n.apply(a,[!1]),!1}}},r.send(null)},Qt.prototype.send=function(t,e,r){var a=this,o=a.xmlHttpRequest,n=r?r.toUpperCase():"GET";return o.open(n,t,!0),"POST"===n&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e instanceof Qt&&(a.target=e),o.send(a.toString()),!0},Qt.prototype.sendAndLoad=function(t,e,r){var a=this;return a.send(t,e,r),a.load(t)},Qt.prototype.addRequestHeader=function(t,e){var r=this.xmlHttpRequest;if(t instanceof Array)for(var a=t.length,o=0;a>o;)r.setRequestHeader(t[o++],e[o++]);else r.setRequestHeader(t,e)},Qt.prototype.decode=function(t){for(var e=this.variables,r=t.split("&"),a=r.length,o=0;a>o;o++){var n=r[o],i=n.split("=");i.length<1||(e[String(i[0])]=i[1])}},Qt.prototype.getBytesLoaded=function(){return 1},Qt.prototype.getBytesTotal=function(){return 1},Qt.prototype.toString=function(){var t=this.variables,e=[];for(var r in t)t.hasOwnProperty(r)&&(e[e.length]=r+"="+t[r]);return e.join("&")};var $t=function(){var t=this;t.ignoreWhite=!1,t.loaded=!1,t.status=0,t.variables={}};Object.defineProperties($t.prototype,{onData:{get:function(){return this.getProperty("onData")},set:function(t){this.setProperty("onData",t)}},onLoad:{get:function(){return this.getProperty("onLoad")},set:function(t){this.setProperty("onLoad",t)}}}),$t.prototype.getProperty=function(t){return this.variables[t]},$t.prototype.setProperty=function(t,e){this.variables[String(t)]=e},$t.prototype.load=function(t){var e=this;t=""+t;var r=new XMLHttpRequest;r.open("GET",t,!0),r.onreadystatechange=function(){var t=r.readyState;if(4===t){var a=r.responseXML,o=e.onData;"function"==typeof o&&o.apply(a,[a]);var n,i=r.status;switch(i){case 200:case 304:return n=e.onLoad,"function"==typeof n&&n.apply(a,[!0]),!0;default:return n=e.onLoad,"function"==typeof n&&n.apply(a,[!1]),!1}}},r.send(null)},$t.prototype.send=function(t,e,r){var a=r?r.toUpperCase():"GET";e&&Y.log(e);var o=new XMLHttpRequest;return o.open(a,t,!0),o.send(null),!0},$t.prototype.sendAndLoad=function(t,e){var r=this;return r.send(t),r.load(e)};var te=function(){var t=this;t.variables={},t.sounds=[],t.volume=100,t.pan=0,t.transform={ll:100,lr:100,rl:100,rr:100},t.isStreamin=!1,t.movieClip=null};Object.defineProperties(te.prototype,{onLoad:{get:function(){return this.getProperty("onLoad")},set:function(t){this.setProperty("onLoad",t)}},onSoundComplete:{get:function(){return this.getProperty("onSoundComplete")},set:function(t){this.setProperty("onSoundComplete",t)}}}),te.prototype.getProperty=function(t){return this.variables[t]},te.prototype.setProperty=function(t,e){this.variables[String(t)]=e},te.prototype.start=function(t,e){var r,a=this,o=a.sounds,n=function(t,e){return function(){t.currentTime=e}},i=function(t,e){return function(){var r=e.volume;t.loopCount--,t.loopCount>0&&(t.volume=r/100,t.currentTime=0,t.play());var a=e.onSoundComplete;a&&a.apply(e,[!0])}};for(var s in o)o.hasOwnProperty(s)&&(r=o[s],r.load(),t&&r.addEventListener("canplay",n(r,t)),"number"==typeof e&&e>0&&(r.loopCount=e,r.addEventListener("ended",i(r,a))),r.play())},te.prototype.stop=function(t){var e,r=this.sounds;if(t)e=r[t],e&&e.pause();else for(var a in r)r.hasOwnProperty(a)&&(e=r[a],e.pause())},te.prototype.loadSound=function(t,e){var r=this;r.isStreamin=e;var a=r.sounds,o=n.createElement("audio");o.src=t,a[0]=o;var i=function(t,e){return function(){t.load(),t.preload="auto",t.autoplay=!1,t.loop=!1;var r=e.onLoad;"function"==typeof r&&r.apply(e,[!0])}}(o,r);o.addEventListener("canplaythrough",i);var s=function(t,e){return function(){var t=e.onLoad;"function"==typeof t&&t.apply(e,[!1])}}(o,r);o.addEventListener("error",s)},te.prototype.attachSound=function(t){var e=this,r=e.sounds;if(!(t in r)){var a=e.movieClip,o=a.getStage(),i=o.exportAssets;if(t in i){var s=i[t],c=o.sounds[s];if(c){var l=n.createElement("audio");l.onload=function(){this.load(),this.preload="auto",this.autoplay=!1,this.loop=!1},l.src=c.base64,r[t]=l}}}},te.prototype.getVolume=function(){return this.volume},te.prototype.setVolume=function(t){var e=this,r=e.sounds;e.volume=t;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.volume=t/100}},te.prototype.getPan=function(){return this.pan},te.prototype.setPan=function(t){this.pan=t},te.prototype.setTransform=function(t){var e=this.transform;for(var r in t)if(t.hasOwnProperty(r))switch(r){case"ll":case"lr":case"rl":case"rr":e[r]=t[r]}},te.prototype.getTransform=function(){return this.transform},te.prototype.getBytesLoaded=function(){return 1},te.prototype.getBytesTotal=function(){return 1};var ee=function(){var t=this;t.data=null,t.name=null};ee.prototype.getLocal=function(e){var r=this;r.name=e;var a=t.localStorage.getItem(e);return a=a?JSON.parse(a):{},r.data=a,r},ee.prototype.flush=function(){var e=this;return t.localStorage.setItem(e.name,JSON.stringify(e.data)),!0};var re=function(t){var e=this;e.movieClip=t,e.variables={}};re.prototype.getProperty=function(t){return this.variables[t]},re.prototype.setProperty=function(t,e){this.variables[String(t)]=e},re.prototype.intToRGBA=function(t,e){return e=e||100,{R:(16711680&t)>>16,G:(65280&t)>>8,B:255&t,A:e/100}},re.prototype.setRGB=function(t){var e=this,r=e.movieClip;if(r instanceof qt){t|=0;var a=e.intToRGBA(t),o=r.getOriginColorTransform();if(o){var n=[a.R,a.G,a.B,255*a.A,0,0,0,0],i=r.cloneArray(n),s=r.multiplicationColor(o,i);r.setColorTransform(s)}}},re.prototype.getTransform=function(){var t=this,e=t.movieClip;return e instanceof qt?e.getColorTransform():void 0},re.prototype.setTransform=function(t){var e=this,r=e.movieClip;if(r instanceof qt){var a=r.getOriginColorTransform(),o=[t.rb,t.gb,t.bb,t.ab,t.ra,t.ga,t.ba,t.aa],n=r.cloneArray(o),i=r.multiplicationColor(a,n);r.setColorTransform(i)}};var ae=function(){this.events={}};ae.prototype.show=function(){},ae.prototype.hide=function(){},ae.prototype.addListener=function(t){var e=this;if(t&&"object"==typeof t)for(var r=["onMouseDown","onMouseMove","onMouseUp"],a=t.variables,o=0;5>o;o++){var n=r[o];"function"==typeof t[n]?e.events[n]=t[n]:a&&"function"==typeof a[n]&&(e.events[n]=a[n])}return!0},ae.prototype.removeListener=function(t){var e=this;if(t&&"object"==typeof t)for(var r=["onMouseDown","onMouseMove","onMouseUp"],a=0;5>a;a++){var o=r[a],n=t.variables;("function"==typeof t[o]||n&&"function"==typeof n[o])&&(e.events[o]=void 0)}return!0};var oe=function(){var t=this;t.variables={},t._listeners=[]};Object.defineProperties(oe.prototype,{onKeyDown:{get:function(){return this.getProperty("onKeyDown")},set:function(t){this.setProperty("onKeyDown",t)}},onKeyUp:{get:function(){return this.getProperty("onKeyUp")},set:function(t){this.setProperty("onKeyUp",t)}}}),oe.prototype.BACKSPACE=8,oe.prototype.CAPSLOCK=20,oe.prototype.CONTROL=17,oe.prototype.DELETEKEY=46,oe.prototype.DOWN=40,oe.prototype.END=35,oe.prototype.ENTER=13,oe.prototype.ESCAPE=27,oe.prototype.HOME=36,oe.prototype.INSERT=45,oe.prototype.LEFT=37,oe.prototype.PGDN=34,oe.prototype.PGDN=34,oe.prototype.PGUP=33,oe.prototype.RIGHT=39,oe.prototype.SHIFT=16,oe.prototype.SPACE=32,oe.prototype.TAB=9,oe.prototype.UP=38,oe.prototype.getProperty=function(t){return this.variables[t]},oe.prototype.setProperty=function(t,e){this.variables[String(t)]=e},oe.prototype.addListener=function(t){var e=this,r=t.onKeyDown;r&&(e.onKeyDown=r);var a=t.onKeyUp;return a&&(e.onKeyUp=a),!0},oe.prototype.isDown=function(t){return this.getCode()===t},oe.prototype.getCode=function(){var t=ot?ot.keyCode:null;if(t>=96&&105>=t){var e=t-96;switch(e){case 0:t=48;break;case 1:t=49;break;case 2:t=50;break;case 3:t=51;break;case 4:t=52;break;case 5:t=53;break;case 6:t=54;break;case 7:t=55;break;case 8:t=56;break;case 9:t=57}}return t};var ne=new oe,ie=function(){this.variables={}};ie.prototype.getVariable=function(t){return this.variables[t]},ie.prototype.setVariable=function(t,e){this.variables[t]=e},ie.prototype.getProperty=function(t){return this.variables[t]},ie.prototype.setProperty=function(t,e){this.variables[t]=e};var se=function(t){this.stage=t};se.prototype={flash:{display:{MovieClip:qt,Sprite:jt,DisplayObjectContainer:Nt,InteractiveObject:Rt,DisplayObject:Et,Graphics:_t},events:{EventDispatcher:Xt,MouseEvent:Dt},text:{StaticText:Vt},media:{Sound:te},system:{fscommand:function(){var t=arguments[0],e=arguments[1];switch(void 0===e&&(e=""),t){case"quit":case"fullscreen":case"allowscale":case"showmenu":case"exec":case"trapallkeys":break;default:if(t){var r=this,a=r.tagId?r.tagId:r.getName(),o=a+"_DoFSCommand(command, args);",n=new w("command","args",o);n(t,e)}}return!0}}}};var ce=function(){var t=this;t.id=E++,t.name="swf2js_"+t.id,t.intervalId=0,t.frameRate=0,t.fileSize=0,t.stopFlag=!0,t.optionWidth=0,t.optionHeight=0,t.callback=null,t.renderMode=O,t.tagId=null,t.FlashVars={},t.quality="medium",t.bgcolor=null,t.mouse=new ae,t.context=null,t.canvas=null,t.preContext=null,t.hitContext=null,t.matrix=[1,0,0,1,0,0],t._matrix=[1,0,0,1,0,0],t._colorTransform=[1,1,1,1,0,0,0,0],t.characters=[],t.initActions=[],t.exportAssets=[],t.packages=[],t.registerClass=[],t.buttonHits=[],t.downEventHits=[],t.moveEventHits=[],t.upEventHits=[],t.keyDownEventHits=[],t.keyUpEventHits=[],t.sounds=[],t.loadSounds=[],t.videos=[],t.actions=[],t.instances=[],t.placeObjects=[],t.fonts=[],t.isAction=!0,t._global=new ie,t.touchObj=null,t.touchStatus="up",t.overObj=null,t.touchEndAction=null,t.imgUnLoadCount=0,t.scale=1,t.baseWidth=0,t.baseHeight=0,t.width=0,t.height=0,t.isHit=!1,t.isTouchEvent=!1,t.isLoad=!1,t.jpegTables=null,t.backgroundColor="transparent",t.version=8,t.loadStatus=0,t.isClipDepth=!1,t.clipDepth=0,t.clipMc=!1,t.dragMc=null,t.dragRules=null,t.scaleMode="showAll",t.align="",t.avm2=new se(t),t.abc=new se(t),t.symbols=[],t.abcFlag=!1,t.doneTags=[],t.newTags=[];var e=new qt;e.setStage(t),t.setParent(e)};ce.prototype.getId=function(){return this.id},ce.prototype.setId=function(t){this.id=t},ce.prototype.getParent=function(){return this.parent},ce.prototype.setParent=function(t){this.parent=t},ce.prototype.getVersion=function(){return this.version},ce.prototype.setVersion=function(t){this.version=t},ce.prototype.getBackgroundColor=function(){return this.backgroundColor},ce.prototype.setBackgroundColor=function(t,e,r){this.backgroundColor="rgb("+t+","+e+","+r+")"},ce.prototype.getGlobal=function(){return this._global},ce.prototype.play=function(){var t=this;t.stopFlag=!1;var e=function(t){return function(){X(function(){t.isLoad&&!t.stopFlag&&t.nextFrame()},0)}};t.intervalId=B(e(t),t.getFrameRate())},ce.prototype.stop=function(){var t=this;t.stopFlag=!0,U(t.intervalId)},ce.prototype.getName=function(){return this.name},ce.prototype.setName=function(t){this.name=t},ce.prototype.setOptions=function(t){if(void 0!==t){var e=this;switch(e.optionWidth=t.width||e.optionWidth,e.optionHeight=t.height||e.optionHeight,e.callback=t.callback||e.callback,e.tagId=t.tagId||e.tagId,e.renderMode=t.renderMode||e.renderMode,e.FlashVars=t.FlashVars||e.FlashVars,e.quality=t.quality||e.quality,e.bgcolor=t.bgcolor||e.bgcolor,e.quality){case"low":rt=.5*et;break;case"high":rt=et}}},ce.prototype.getBaseWidth=function(){return this.baseWidth},ce.prototype.setBaseWidth=function(t){this.baseWidth=t},ce.prototype.getBaseHeight=function(){return this.baseHeight},ce.prototype.setBaseHeight=function(t){this.baseHeight=t},ce.prototype.getWidth=function(){return this.width},ce.prototype.setWidth=function(t){0>t&&(t*=-1),this.width=t},ce.prototype.getHeight=function(){return this.height},ce.prototype.setHeight=function(t){0>t&&(t*=-1),this.height=t},ce.prototype.getScale=function(){return this.scale},ce.prototype.setScale=function(t){this.scale=t},ce.prototype.getMatrix=function(){return this.matrix},ce.prototype.setMatrix=function(t){this.matrix=t},ce.prototype.getCharacter=function(t){return this.characters[t]},ce.prototype.setCharacter=function(t,e){this.characters[t]=e},ce.prototype.getInstance=function(t){return this.instances[t]},ce.prototype.setInstance=function(t){this.instances[t.instanceId]=t},ce.prototype.getPlaceObject=function(t,e,r){var a=this.placeObjects;if(!(t in a))return null;var o=a[t];if(!(r in o))return null;var n=o[r];return e in n?n[e]:null},ce.prototype.setPlaceObject=function(t,e,r,a){var o=this,n=o.placeObjects;e in n||(n[e]=[]),a in n[e]||(n[e][a]=[]),n[e][a][r]=t},ce.prototype.copyPlaceObject=function(t,e,r){var a=this,o=a.getPlaceObject(t,e,r-1);a.setPlaceObject(o,t,e,r)},ce.prototype.removePlaceObject=function(t){delete this.placeObjects[t];
},ce.prototype.getFrameRate=function(){return this.frameRate},ce.prototype.setFrameRate=function(t){this.frameRate=1e3/t|0},ce.prototype.loadEvent=function(){var t=this;switch(t.loadStatus){case 2:t.resize(),t.loadStatus++;break;case 3:if(!t.isLoad||!t.stopFlag||t.imgUnLoadCount>0)break;t.loadStatus++,t.loaded()}4!==t.loadStatus&&M(function(){t.loadEvent()},0)},ce.prototype.parse=function(t,e){var r=this;r.isLoad=!1;var a=new yt,o=new mt(r,a);if(Q?a.setData(new Uint8Array(t)):a.init(t),r.setSwfHeader(a,o)){var n=r.getParent();n._url=location.href;var i=o.parse(n);n.container=[];for(var s=1,c=n.getTotalFrames()+1;c>s;)n.container[s++]=[];n.instances=[],o.build(i,n);var l=e.split("?")[1];if(l)for(var p=l.split("&"),g=p.length;g--;){var u=p[g],f=u.split("=");f.length>1&&n.setVariable(f[0],f[1])}var v=r.FlashVars;for(var h in v)v.hasOwnProperty(h)&&n.setVariable(h,v[h])}r.isLoad=!0},ce.prototype.setSwfHeader=function(t,e){var r=this,a=t.data;if(255===a[0]&&216===a[1])return r.parseJPEG(a,e),!1;var o=t.getHeaderSignature(),n=t.getVersion();r.setVersion(n);var i=t.getUI32();switch(r.fileSize=i,o){case"FWS":break;case"CWS":t.deCompress(i,"ZLIB");break;case"ZWS":return _("not support LZMA"),!1}var s=e.rect(),c=t.getUI16()/256;return t.getUI16(),r.setBaseWidth(p((s.xMax-s.xMin)/20)),r.setBaseHeight(p((s.yMax-s.yMin)/20)),r.setFrameRate(c),r.loadStatus++,!0},ce.prototype.parseJPEG=function(t,e){var r=this,a=n.createElement("img");a.addEventListener("load",function(){var t=this.width,e=this.height,a=dt.getCanvas();a.width=t,a.height=e;var o=a.getContext("2d");o.drawImage(this,0,0,t,e),r.setCharacter(1,o);var n=20*t,i=20*e;r.setBaseWidth(t),r.setBaseHeight(e);var s={ShapeRecords:[{FillStyle1:1,StateFillStyle0:0,StateFillStyle1:1,StateLineStyle:0,StateMoveTo:0,StateNewStyles:0,isChange:!0},{AnchorX:n,AnchorY:0,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},{AnchorX:n,AnchorY:i,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},{AnchorX:0,AnchorY:i,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},{AnchorX:0,AnchorY:0,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},0],fillStyles:{fillStyleCount:1,fillStyles:[{bitmapId:1,bitmapMatrix:[20,0,0,20,0,0],fillStyleType:65}]},lineStyles:{lineStyleCount:0,lineStyles:[]}},c={xMin:0,xMax:n,yMin:0,yMax:i},l=vt.convert(s);r.setCharacter(2,{tagType:22,data:l,bounds:c});var p=r.getParent(),g=new Gt;g.setParent(p),g.setStage(r),g.setData(l),g.setTagType(22),g.setCharacterId(2),g.setBounds(c),g.setLevel(1),p.container[1]=[],p.container[1][1]=g.instanceId;var u=new bt;r.setPlaceObject(u,g.instanceId,1,1),r.init()});for(var o=t.length,i="",s=0;o>s;s++)i+=k(t[s]);var c=e.parseJpegData(t);a.src="data:image/jpeg;base64,"+e.base64encode(c)},ce.prototype.resize=function(){var e=this,r=n.getElementById(e.getName());if(!r)return 0;var a=e.optionWidth,o=e.optionHeight,i=n.documentElement,l=c(i.clientWidth,t.innerWidth||0),p=c(i.clientHeight,t.innerHeight||0),g=r.parentNode;"BODY"!==g.tagName&&(l=g.offsetWidth,p=g.offsetHeight);var u=a>0?a:l,f=o>0?o:p,v=e.getBaseWidth(),h=e.getBaseHeight(),d=s(u/v,f/h),y=v*d,b=h*d;if(y!==e.getWidth()||b!==e.getHeight()){var m=r.style;m.width=y+"px",m.height=b+"px",m.top=0,m.left=u/2-y/2+"px",y*=et,b*=et,e.setScale(d),e.setWidth(y),e.setHeight(b);var S=e.context.canvas;S.width=y,S.height=b;var A=e.preContext.canvas;A.width=y,A.height=b;var I=e.hitContext.canvas;if(I.width=y,I.height=b,V&&K){var C=D.canvas;C.width=y,C.height=b}var x=e.getParent(),k=d*rt/20;e.setMatrix(x.cloneArray([k,0,0,k,0,0]))}},ce.prototype.loaded=function(){var e=this;e.buttonHits=[],e.downEventHits=[],e.moveEventHits=[],e.upEventHits=[],e.keyDownEventHits=[],e.keyUpEventHits=[],e.actions=[],e.deleteNode();var r=n.getElementById(e.getName());if(r){var a=e.getParent();a.initFrame(),a.addActions(e),e.executeAction();var o=e.callback;"function"==typeof o&&o.call(t,a),e.render(),e.renderMain();var i=e.context,s=i.canvas;if(q){var c=e.loadSounds,l=c.length;if(l){var p=function(){s.removeEventListener(nt,p);for(var t=l;t--;)if(t in c){var e=c[t];e.load()}};s.addEventListener(nt,p)}}s.addEventListener(nt,function(t){at=t,e.touchStart(t)}),s.addEventListener(it,function(t){at=t,e.touchMove(t)}),s.addEventListener(st,function(t){at=t,e.touchEnd(t)}),r.appendChild(s),e.play()}},ce.prototype.deleteNode=function(t){var e=n.getElementById(t?t:this.getName());if(e){var r=e.childNodes,a=r.length;if(a)for(;a--;)e.removeChild(r[a])}},ce.prototype.nextFrame=function(){var t=this;t.downEventHits=[],t.moveEventHits=[],t.upEventHits=[],t.keyDownEventHits=[],t.keyUpEventHits=[];var e=t.getParent(),r=t.mouse,a=r.events,o=a.onMouseDown;o&&(t.downEventHits[t.downEventHits.length]={as:o,mc:e});var n=a.onMouseMove;n&&(t.moveEventHits[t.moveEventHits.length]={as:n,mc:e});var i=a.onMouseUp;i&&(t.upEventHits[t.upEventHits.length]={as:i,mc:e}),t.putFrame(),t.addActions(),t.executeAction(),t.render(),t.renderMain()},ce.prototype.putFrame=function(){var t=this;t.newTags=[];var e=t.doneTags,r=e.length;if(r){Dt.type="enterFrame";for(var a=0;r>a;){var o=e[a];o.putFrame(t,Dt),a++}}},ce.prototype.addActions=function(){var t=this,e=t.newTags,r=e.length;if(r)for(var a=0;r>a;){var o=e[a];o.addActions(t),a++}},ce.prototype.render=function(){var t=this;t.buttonHits=[],t.doneTags=[];var e=t.preContext;e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0);var r=t.getBackgroundColor();if(r&&"transparent"!==r)e.fillStyle=r,e.fillRect(0,0,t.getWidth()+1,t.getHeight()+1);else{var a=e.canvas;e.clearRect(0,0,a.width+1,a.height+1);var o=t.context;o.clearRect(0,0,a.width+1,a.height+1)}var n=t.getParent();n.render(e,t._matrix,t._colorTransform,t,!0)},ce.prototype.executeAction=function(){var t=this;if(t.isAction&&t.actions.length){t.isAction=!1;for(var e=0;e<t.actions.length;){var r=t.actions[e];e++;var a=r.mc,o=r.args||[];if(a.active){var n=r.as;if("function"==typeof n)n.apply(a,o);else{var i=n.length;if(!i)continue;for(var s=0;i>s;)if(s in n){var c=n[s];"function"==typeof c&&c.apply(a,o),s++}}}}}t.actions=[],t.isAction=!0},ce.prototype.buttonAction=function(t,e){var r=this;r.downEventHits=[],r.moveEventHits=[],r.upEventHits=[],r.keyDownEventHits=[],r.keyUpEventHits=[],e.execute(t),r.executeAction()},ce.prototype.renderMain=function(){var t=this,e=t.preContext,r=e.canvas,a=r.width,o=r.height;if(a>0&&o>0){var n=t.context;n.setTransform(1,0,0,1,0,0),n.drawImage(r,0,0,a,o)}},ce.prototype.reset=function(){var t=this;t.instanceId=0;var e=new qt;e.reset(),e.setStage(t),t.parent=e,t.characters=[],t.instances=[],t.buttonHits=[],t.downEventHits=[],t.moveEventHits=[],t.upEventHits=[],t.keyDownEventHits=[],t.keyUpEventHits=[],t.sounds=[],t.loadSounds=[],t.actions=[]},ce.prototype.init=function(){var e,r=this,a=r.tagId;if(r.getId()in R)if(a){if("loading"===n.readyState){var o=function(){t.removeEventListener("DOMContentLoaded",o),r.init()};return t.addEventListener("DOMContentLoaded",o),0}var i=n.getElementById(a);if(!i)return _("Not Found Tag ID:"+a),0;e=n.getElementById(r.getName()),e?r.deleteNode():(e=n.createElement("div"),e.id=r.getName(),i.appendChild(e))}else n.body.insertAdjacentHTML("beforeend","<div id='"+r.getName()+"'></div>");e=n.getElementById(r.getName()),e&&(r.initStyle(e),r.loading()),r.canvas||r.initCanvas(),r.loadStatus++,r.loadEvent()},ce.prototype.initStyle=function(e){var r,a=this;r=e.style,r.position="relative",r.top="0",r.backgroundColor="transparent",r.overflow="hidden",r["-webkit-backface-visibility"]="hidden";var o,n,i=e.parentNode,s=a.optionWidth,c=a.optionHeight;"BODY"===i.tagName?(o=s>0?s:t.innerWidth,n=c>0?c:t.innerHeight):(o=s>0?s:i.offsetWidth,n=c>0?c:i.offsetHeight),r.width=o+"px",r.height=n+"px",r["-webkit-user-select"]="none"},ce.prototype.initCanvas=function(){var e,r=this,i=n.createElement("canvas");i.width=1,i.height=1,e=i.style,e.zIndex=0,e.position="absolute",e.top=0,e.left=0,e.zoom=100/rt+"%",e["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",e.MozTransformOrigin="0 0",e.MozTransform="scale("+1/rt+")",V&&i.addEventListener("touchcancel",function(){r.touchEnd(at)}),q||(t.addEventListener("keydown",o),t.addEventListener("keyup",a),t.addEventListener("keyup",function(t){ot=t,r.touchEnd(t)})),r.context=i.getContext("2d"),r.canvas=i;var s=n.createElement("canvas");s.width=1,s.height=1,r.preContext=s.getContext("2d");var c=n.createElement("canvas");c.width=1,c.height=1,r.hitContext=c.getContext("2d")},ce.prototype.loading=function(){var t=this,e=n.getElementById(t.getName()),r=t.getName()+"_loading",a="<style>";a+="#"+r+" {\n",a+="position: absolute;\n",a+="top: 50%;\n",a+="left: 50%;\n",a+="margin: -24px 0 0 -24px;\n",a+="width: 50px;\n",a+="height: 50px;\n",a+="border-radius: 50px;\n",a+="border: 8px solid #dcdcdc;\n",a+="border-right-color: transparent;\n",a+="box-sizing: border-box;\n",a+="-webkit-animation: "+r+" 0.8s infinite linear;\n",a+="animation: "+r+" 0.8s infinite linear;\n",a+="} \n",a+="@-webkit-keyframes "+r+" {\n",a+="0% {-webkit-transform: rotate(0deg);}\n",a+="100% {-webkit-transform: rotate(360deg);}\n",a+="} \n",a+="@keyframes "+r+" {\n",a+="0% {transform: rotate(0deg);}\n",a+="100% {transform: rotate(360deg);}\n",a+="} \n",a+="</style>",e.innerHTML=a;var o=n.createElement("div");o.id=r,e.appendChild(o)},ce.prototype.reload=function(e,r){var a=this;a.stop(),4===a.loadStatus&&a.deleteNode(),a.loadStatus=0,a.isLoad=!1,a.reset();var o=t.swf2js;return o.load(e,{optionWidth:r.optionWidth||a.optionWidth,optionHeight:r.optionHeight||a.optionHeight,callback:r.callback||a.callback,tagId:r.tagId||a.tagId,renderMode:r.renderMode||a.renderMode,FlashVars:r.FlashVars||a.FlashVars,quality:r.quality||a.quality,bgcolor:r.bgcolor||a.bgcolor,stage:a})},ce.prototype.output=function(t,e,r,a){var o=this;if(!o.isLoad||o.stopFlag)return M(function(){o.output(t,e,r,a)},500),0;o.stop(),e=e||1,r=r||o.getWidth(),a=a||o.getHeight();var n=o.getParent();n.reset(),n.gotoAndStop(e),(r!==o.getWidth()||a!==o.getHeight())&&(o.optionWidth=r,o.optionHeight=a,o.resize()),n.addActions();var i=o.preContext.canvas,s=i.style;s.backgroundColor=o.backgroundColor,o.render();var c=new XMLHttpRequest;c.open("POST",t,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.onreadystatechange=function(){var t=c.readyState;if(4===t){var e=c.status;switch(e){case 200:case 304:Y.log("OUTPUT SUCCESS");break;default:_(c.statusText)}}};var l=i.toDataURL();c.send("data="+encodeURIComponent(l))},ce.prototype.hitCheck=function(e){var r=this;r.isHit=!1;var a=r.buttonHits,o=a.length;if(!o)return 0;var i=n.getElementById(r.getName()),s=i.getBoundingClientRect(),c=t.pageXOffset+s.left,l=t.pageYOffset+s.top,p=0,g=0;if(q){var u=e.changedTouches[0];p=u.pageX,g=u.pageY}else p=e.pageX,g=e.pageY;p-=c,g-=l;var f=r.getScale();p/=f,g/=f;var v=r.hitContext,h=v.canvas,d=h.width,y=h.height,b=p*f*rt,m=g*f*rt;if(r.abcFlag){var S=r.getParent();v.setTransform(1,0,0,1,0,0),v.clearRect(0,0,d,y);var A=S.hitCheck(v,[1,0,0,1,0,0],r,b,m);return"object"==typeof A?A:!1}for(var I=o;I--;)if(I in a){var C=a[I];if(void 0!==C){var x=!1;if(p>=C.xMin&&p<=C.xMax&&g>=C.yMin&&g<=C.yMax){var k=C.matrix;if(k){var T=C.parent,M=C.button;v.setTransform(1,0,0,1,0,0),v.clearRect(0,0,d,y),x=M?M.renderHitTest(v,k,r,b,m):T.renderHitTest(v,k,r,b,m)}else x=!0}if(x)return e.preventDefault(),r.isHit=!0,C}}return 0},ce.prototype.executeEventAction=function(t,e,r){var a=r||[];if(t){if("function"==typeof t)t.apply(e,a);else{var o=t.length;if(o)for(var n=0;o>n;){var i=t[n];"function"==typeof i&&i.apply(e,a),n++}}this.executeAction()}},ce.prototype.touchStart=function(t){var e=this;if("up"===e.touchStatus){e.touchStatus="down",e.isHit=!1,e.isTouchEvent=!0,e.touchEndAction=null;var r,a,o=e.downEventHits,n=o.length;if(n){t.preventDefault();for(var i=0;n>i;i++){var s=o[i];r=s.mc,a=s.as,a||(a=r.variables.onMouseDown),e.executeEventAction(a,s.mc)}e.downEventHits=[]}var c=e.hitCheck(t);e.isHit&&(r=c.parent,r.active&&(r.setButtonStatus("down"),r instanceof zt?e.appendTextArea(r,c):e.executePress(r,c)),null===e.touchObj&&(e.touchObj=c))}},ce.prototype.executePress=function(t,e){var r,a,o,n,i,s=this,c=!1,l=new Ot;r=t.events,q&&(n=r.rollOver,n&&(l.type="rollOver",l.target=t,s.executeEventAction(n,t,[l]),c=!0),i=t.variables.onRollOver,"function"==typeof i&&(s.executeEventAction(i,t),c=!0)),r=t.events,a=r.press,a&&(l.type="press",l.target=t,s.executeEventAction(a,t,[l]),c=!0),o=t.variables.onPress,"function"==typeof o&&(s.executeEventAction(o,t),c=!0);var p=e.button;if(p){r=p.events,q&&(n=r.rollOver,n&&(l.type="rollOver",l.target=p,s.executeEventAction(n,p,[l])),i=p.variables.onRollOver,"function"==typeof i&&s.executeEventAction(i,p)),p.setButtonStatus("down"),q&&s.executeButtonAction(p,t,"CondIdleToOverUp");var g=p.getActions(),u=g.length;if(u)for(var f=s.touchObj,v=0;u>v;v++)if(v in g){var h=g[v];if(h.CondOverDownToOverUp&&null===f)s.touchEndAction=h.ActionScript;else{var d=h.CondKeyPress;(13!==e.CondKeyPress||e.CondKeyPress===d)&&(q?(13===d||d>=48&&57>=d||h.CondOverUpToOverDown)&&s.buttonAction(t,h.ActionScript):h.CondOverUpToOverDown&&s.buttonAction(t,h.ActionScript))}}a=r.press,a&&(l.type="press",l.target=p,s.executeEventAction(a,p,[l])),o=p.variables.onPress,"function"==typeof o&&s.executeEventAction(o,p);var y=p.getSprite();y.startSound(),p.addActions(s),s.executeAction(),c=!0}c&&s.touchRender()},ce.prototype.appendTextArea=function(t,e){var r=this;t.inputActive=!0;var a=n.getElementById(t.getTagName());if(!a){a=t.input;var o,i=t.getProperty("variable");if(i){var s=t.getParent();o=s.getProperty(i),void 0===o&&(o=t.getVariable("text"))}void 0!==o&&(a.value=o);var c=t.getVariable("maxChars");c&&(a.maxLength=c);var l=t.getVariable("border");if(l){a.style.border="1px solid black";var g=t.getVariable("backgroundColor");a.style.backgroundColor="rgba("+g.R+","+g.G+","+g.B+","+g.A+")"}var u=r.getScale(),f=e.xMin,v=e.yMin,h=e.xMax-f,d=e.yMax-v;a.style.left=p(f*u)-3+"px",a.style.top=p(v*u)-3+"px",a.style.width=p(h*u)+6+"px",a.style.height=p(d*u)+6+"px";var y=n.getElementById(r.getName());if(y){y.appendChild(a),a.focus();var b=function(t){return function(){t.focus()}};M(b(a),10)}}},ce.prototype.touchMove=function(t){var e,r,a,o,n,i,s,c,l,p,g,u,f=this,v=f.overObj,h=f.moveEventHits,d=h.length,y=new Ot;if(d){t.preventDefault();for(var b=0;d>b;b++){var m=h[b];e=m.mc,r=m.as,r||(r=e.variables.onMouseMove),f.executeEventAction(r,e)}f.moveEventHits=[]}if(!q||q&&f.isTouchEvent){var S=null,A=f.touchObj;(A||"up"===f.touchStatus)&&(S=f.hitCheck(t));var I,C=!1;if(!q){var x=f.canvas;(f.isHit||A)&&S?x.style.cursor="pointer":x.style.cursor="auto"}A?(a=A.button,e=A.parent,e.active&&(f.overObj=S,S&&S.parent.instanceId===e.instanceId&&S.button===a?("up"===e.getButtonStatus()&&(e.setButtonStatus("down"),o=e.events,n=o.dragOver,n&&(y.type="dragOver",y.target=e,C=!0,f.executeEventAction(n,e,[y])),i=e.variables.onDragOver,"function"==typeof i&&(C=!0,f.executeEventAction(i,e))),a&&"up"===a.getButtonStatus()&&(a.setButtonStatus("down"),I=a.getSprite(),I.startSound(),o=a.events,n=o.dragOver,n&&(y.type="dragOver",y.target=a,C=!0,f.executeEventAction(n,a,[y])),i=a.variables.onDragOver,"function"==typeof i&&(C=!0,f.executeEventAction(i,a)),a.addActions(f),f.executeAction())):("down"===e.getButtonStatus()&&(o=e.events,s=o.dragOut,s&&(y.type="dragOut",y.target=e,C=!0,f.executeEventAction(s,e,[y])),c=e.variables.onDragOut,"function"==typeof c&&(C=!0,f.executeEventAction(c,e))),e.setButtonStatus("up"),a&&"down"===a.getButtonStatus()&&(a.setButtonStatus("up"),o=a.events,s=o.dragOut,s&&(y.type="dragOut",y.target=a,C=!0,f.executeEventAction(s,a,[y])),c=a.variables.onDragOut,"function"==typeof c&&(C=!0,f.executeEventAction(c,a)),a.addActions(f),f.executeAction())))):S?(v&&(a=v.button,a&&a!==S.button&&(e=v.parent,e.active&&(a.setButtonStatus("up"),f.executeButtonAction(a,e,"CondOverUpToIdle")))),a=S.button,e=S.parent,!q&&e.active&&(v&&v.parent===e||(o=e.events,l=o.rollOver,l&&(y.type="rollOver",y.target=e,C=!0,f.executeEventAction(l,e,[y])),p=e.variables.onRollOver,"function"==typeof p&&(C=!0,f.executeEventAction(p,e)))),a&&(a.setButtonStatus("over"),I=a.getSprite(),I.startSound(),q||v&&v.button===a||(C=!0,f.executeButtonAction(a,e,"CondIdleToOverUp"),o=a.events,l=o.rollOver,l&&(y.type="rollOver",y.target=a,C=!0,f.executeEventAction(l,a,[y])),p=a.variables.onRollOver,"function"==typeof p&&f.executeEventAction(p,a)),a.addActions(f),f.executeAction()),f.overObj=S):"up"===f.touchStatus&&(f.overObj=null),!A&&v&&(a=v.button,e=v.parent,e.active&&(S&&S.parent===e||(e.setButtonStatus("up"),o=e.events,g=o.rollOut,g&&(y.type="rollOut",y.target=e,C=!0,f.executeEventAction(g,e,[y])),u=e.variables.onRollOut,"function"==typeof u&&(C=!0,f.executeEventAction(u,e))),!a||S&&S.button===a||(a.setButtonStatus("up"),f.executeButtonAction(a,e,"CondOverUpToIdle"),o=a.events,g=o.rollOut,g&&(y.type="rollOut",y.target=a,C=!0,f.executeEventAction(g,a,[y])),u=a.variables.onRollOut,"function"==typeof u&&(C=!0,f.executeEventAction(u,a)),a.addActions(f),f.executeAction()))),C&&f.touchRender()}var k=f.dragMc;k&&(t.preventDefault(),k.executeDrag(),f.isHit=!0)},ce.prototype.touchEnd=function(t){var e,r,a,o,n,i,s,c,l=this,p=new Ot,g=l.touchObj;g&&(e=g.button,e&&e.setButtonStatus("up"));var u=l.upEventHits,f=u.length;if(f){t.preventDefault();for(var v=0;f>v;v++){var h=u[v];r=h.mc,a=h.as,a||(a=r.variables.onMouseUp),l.executeEventAction(a,h.mc)}l.upEventHits=[]}var d=l.hitCheck(t),y=l.dragMc;y&&(d=g,l.isHit=!0);var b=!1;if(g){if(r=g.parent,r.setButtonStatus("up"),e=g.button,l.isHit){var m=l.touchEndAction;if(r.active&&(r===d.parent&&(null!==m&&(l.buttonAction(r,m),b=!0),o=r.events,n=o.release,n&&(p.type="release",p.target=r,l.executeEventAction(n,r,[p]),b=!0),i=r.variables.onRelease,"function"==typeof i&&(l.executeEventAction(i,r),b=!0)),e)){e===d.button&&(o=e.events,n=o.release,n&&(p.type="release",p.target=e,l.executeEventAction(n,e,[p])),i=e.variables.onRelease,"function"==typeof i&&l.executeEventAction(i,e));var S="up";q||d&&d.button===e&&(S="over"),e.setButtonStatus(S);var A=e.getSprite("hit");A.startSound(),e.addActions(l),l.executeAction(),b=!0}}!r.active||d&&r===d.parent||(o=r.events,s=o.releaseOutside,s&&(p.type="releaseOutside",p.target=r,l.executeEventAction(s,r,[p]),b=!0),c=r.variables.onReleaseOutside,"function"==typeof c&&(l.executeEventAction(c,r),b=!0)),!e||d&&e===d.button||(b=!0,o=e.events,s=o.releaseOutside,s&&(p.type="releaseOutside",p.target=e,l.executeEventAction(s,e,[p]),b=!0),c=e.variables.onReleaseOutside,"function"==typeof c&&l.executeEventAction(c,e),e.setButtonStatus("up"),e.addActions(l),l.executeAction())}if(l.isHit=!1,l.isTouchEvent=!1,l.touchObj=null,l.touchStatus="up",!q){l.hitCheck(t);var I=l.canvas;l.isHit?I.style.cursor="pointer":I.style.cursor="auto"}if(d){var C,x;r=d.parent,g&&r===g.parent||(o=r.events,C=o.rollOver,C&&(b=!0,p.type="rollOver",p.target=r,l.executeEventAction(C,r,[p])),x=r.variables.onRollOver,"function"==typeof x&&(b=!0,l.executeEventAction(x,r))),e=d.button,e&&(g&&e===g.button||(o=e.events,C=o.rollOver,C&&(b=!0,p.type="rollOver",p.target=e,l.executeEventAction(C,e,[p])),x=e.variables.onRollOver,"function"==typeof x&&(b=!0,l.executeEventAction(x,e))))}b&&(t.preventDefault(),l.touchRender()),ot=null},ce.prototype.executeButtonAction=function(t,e,r){var a=this,o=t.getActions(),n=o.length;if(n)for(var i=0;n>i;i++)if(i in o){var s=o[i];s[r]&&a.buttonAction(e,s.ActionScript)}},ce.prototype.touchRender=function(){var t=this;t.render(),t.renderMain()};var le=function(){};le.prototype.DropShadowFilter=kt,le.prototype.BlurFilter=xt,le.prototype.GlowFilter=Tt,le.prototype.BevelFilter=Mt,le.prototype.GradientGlowFilter=Ft,le.prototype.ConvolutionFilter=Bt,le.prototype.ColorMatrixFilter=Ut,le.prototype.GradientBevelFilter=wt,le.prototype.BitmapFilter=Ct,le.prototype.LoadVars=Qt,le.prototype.load=function(t,e){if("develop"===t&&(t=location.search.substr(1).split("&")[0]),t){var r=e&&e.stage instanceof ce?e.stage:new ce;r.setOptions(e),R[r.getId()]=r,r.init();var a=new XMLHttpRequest;a.open("GET",t,!0),Q?a.responseType="arraybuffer":a.overrideMimeType("text/plain; charset=x-user-defined"),a.onreadystatechange=function(){var e=a.readyState;if(4===e){var o=a.status;switch(o){case 200:case 304:var n=Q?a.response:a.responseText;r.parse(n,t),dt.reset();break;default:_(a.statusText)}}},a.send(null)}else _("please set swf url")},le.prototype.reload=function(t,e){if(!E)return this.load(t,e);var r=R[0];for(var a in R)if(R.hasOwnProperty(a)){var o=R[a];o.stop(),a&&(o.deleteNode(o.tagId),o=void 0)}E=1,R=[],H=[],R[0]=r,r.reload(t,e)},le.prototype.createRootMovieClip=function(e,r,a,o){var i=new ce;if(e=e||240,r=r||240,a=a||60,i.setBaseWidth(e),i.setBaseHeight(r),i.setFrameRate(a),i.setOptions(o),R[i.getId()]=i,i.init(),i.isLoad=!0,"loading"===n.readyState){var s=function(){t.removeEventListener("DOMContentLoaded",s,!1),i.resize(),i.loaded()};t.addEventListener("DOMContentLoaded",s,!1)}return i.getParent()},t.swf2js=new le}(window);